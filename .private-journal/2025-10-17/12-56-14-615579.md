---
title: "12:56:14 PM - October 17, 2025"
date: 2025-10-16T23:56:14.615Z
timestamp: 1760658974615
---

## Project Notes

Fixed profile navigation breaking with "Public key must be 64 hex characters" error.

**Root Causes**:
1. app_shell.dart was passing hardcoded string 'me' instead of actual user npub
2. System didn't handle nprofile format at all

**Complete Fix**:
1. Updated app_shell.dart to get real npub from AuthService
2. Created universal normalizer supporting npub/nprofile/hex everywhere
3. Updated all public identifier entry points to use normalizer

**Files Modified**:
- mobile/lib/router/app_shell.dart - Get real npub from auth service
- mobile/lib/router/nav_extensions.dart - Use normalizer in goProfile/pushProfile
- mobile/lib/utils/npub_hex.dart - Use normalizer instead of direct decode
- mobile/lib/services/content_blocklist_service.dart - Use normalizer
- mobile/lib/widgets/share_video_menu.dart - Use normalizer in user search
- mobile/lib/utils/public_identifier_normalizer.dart - NEW universal normalizer

**Result**: System now handles npub, nprofile, and hex formats everywhere without breaking.
