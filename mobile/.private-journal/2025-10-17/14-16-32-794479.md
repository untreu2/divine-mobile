---
title: "2:16:32 PM - October 17, 2025"
date: 2025-10-17T01:16:32.794Z
timestamp: 1760663792794
---

## Project Notes

**Route Optional Parameter Pattern**:

For any feed that has grid + feed modes, use this pattern:

**Route Parsing** (`route_utils.dart`):
```dart
case 'routeName':
  final rawIndex = segments.length > X ? int.tryParse(segments[X]) : null;
  final index = rawIndex != null && rawIndex < 0 ? 0 : rawIndex;
  return RouteContext(type: RouteType.routeName, videoIndex: index);
```

**Route Building** (`route_utils.dart`):
```dart
case RouteType.routeName:
  if (context.videoIndex == null) return '/routeName';  // Grid mode
  final index = context.videoIndex!.clamp(0, ...);
  return '/routeName/$index';  // Feed mode
```

**Router Configuration** (`app_router.dart`):
```dart
// Grid mode (no index)
GoRoute(path: '/routeName', name: 'routeName-grid', ...),
// Feed mode (with index)
GoRoute(path: '/routeName/:index', name: 'routeName-feed', ...),
```

Applied to: explore, hashtag. Should also apply to: home, profile, notifications if they have grid modes.
