{
  "embedding": [
    -0.02189737744629383,
    -0.08839718252420425,
    0.03217759355902672,
    0.03942939639091492,
    0.03265491873025894,
    -0.031882092356681824,
    -0.04462543502449989,
    -0.021404758095741272,
    0.01303604431450367,
    0.0366307869553566,
    -0.021508919075131416,
    0.03484873101115227,
    -0.01274310052394867,
    0.020820513367652893,
    0.006816365290433168,
    0.05000739172101021,
    0.07339247316122055,
    -0.046448495239019394,
    -0.033882301300764084,
    -0.05699717625975609,
    -0.06666895002126694,
    -0.018731242045760155,
    0.06273646652698517,
    -0.013252315111458302,
    -0.03717835992574692,
    -0.07211967557668686,
    -0.024889059364795685,
    -0.08691231906414032,
    -0.057683393359184265,
    0.0485873743891716,
    -0.048211194574832916,
    -0.032877013087272644,
    -0.1912672072649002,
    -0.0686226561665535,
    -0.011080079711973667,
    -0.02996520698070526,
    -0.05460130050778389,
    0.04056055098772049,
    -0.09113775193691254,
    0.005610295571386814,
    0.10043371468782425,
    -0.04865575581789017,
    -0.0521705336868763,
    -0.028694970533251762,
    0.002935847034677863,
    -0.017613375559449196,
    -0.009969313628971577,
    0.032921403646469116,
    0.008725812658667564,
    -0.008579162880778313,
    0.017329951748251915,
    0.013765668496489525,
    -0.007504895329475403,
    0.07858915627002716,
    0.13472393155097961,
    -0.02045149728655815,
    -0.004606774542480707,
    -0.008037137798964977,
    -0.006695877760648727,
    0.01735963486135006,
    0.12665149569511414,
    0.02789117768406868,
    -0.02331174537539482,
    -0.043393686413764954,
    -0.041398972272872925,
    0.02671300806105137,
    0.06932660192251205,
    0.04374818876385689,
    0.08140967786312103,
    0.05337238311767578,
    0.019022490829229355,
    0.07654337584972382,
    -0.025232989341020584,
    -0.01422860287129879,
    0.034315068274736404,
    0.022738497704267502,
    -0.010437275283038616,
    -0.01274016685783863,
    -0.02982466109097004,
    -0.06961613893508911,
    0.031646326184272766,
    -0.015084142796695232,
    -0.057208284735679626,
    0.050656694918870926,
    0.058211684226989746,
    0.00607870751991868,
    0.016040045768022537,
    -0.009754148311913013,
    -0.033168043941259384,
    0.03780893608927727,
    0.020388958975672722,
    -0.030195709317922592,
    -0.08119124919176102,
    0.023818640038371086,
    0.04399220272898674,
    -0.009413848631083965,
    0.017196649685502052,
    0.06552312523126602,
    -0.021995646879076958,
    0.00603366969153285,
    0.01404354628175497,
    -0.05080873891711235,
    -0.05202237889170647,
    0.06330647319555283,
    -0.003787791822105646,
    0.006470086984336376,
    0.0009901659796014428,
    0.033326100558042526,
    -0.00012137012527091429,
    0.0009939891751855612,
    -0.004151432774960995,
    -0.05893796309828758,
    0.06733200699090958,
    -0.016230078414082527,
    -0.042382922023534775,
    0.06588441133499146,
    0.030927734449505806,
    0.022436633706092834,
    0.009074639528989792,
    0.03264998644590378,
    0.04228788614273071,
    0.043913137167692184,
    0.08653182536363602,
    -0.06570661067962646,
    -0.0017753313295543194,
    0.03712788596749306,
    0.05494334548711777,
    6.724546207625425e-33,
    0.0020545984152704477,
    -0.04072229936718941,
    -0.08705004304647446,
    -0.01958089880645275,
    0.014770499430596828,
    0.04032398387789726,
    -0.0034076946321874857,
    -0.004926089197397232,
    0.04309647157788277,
    0.01282066386193037,
    -0.014615913853049278,
    -0.03342965990304947,
    0.051904018968343735,
    -0.10370681434869766,
    -0.012502726167440414,
    -0.024790436029434204,
    0.0875491201877594,
    0.033601097762584686,
    0.03855064883828163,
    -0.0035333517007529736,
    0.04099605977535248,
    -0.04289061203598976,
    -0.01625361666083336,
    -0.05243922397494316,
    -0.02586621418595314,
    0.016909558326005936,
    0.0032155283261090517,
    0.007250000722706318,
    -0.03067910112440586,
    0.024981888011097908,
    0.04027348756790161,
    -0.007510742172598839,
    0.030397463589906693,
    0.008462870493531227,
    -0.0392918735742569,
    -0.05694163218140602,
    -0.010948254726827145,
    -0.0968015119433403,
    0.0331900529563427,
    -0.09747420251369476,
    -0.05929843336343765,
    -0.010298548266291618,
    -0.16378259658813477,
    -0.019799059256911278,
    0.03970172628760338,
    -0.11464304476976395,
    -0.0825468897819519,
    0.0307232066988945,
    0.065115787088871,
    -0.027482056990265846,
    0.007969846948981285,
    0.03882964327931404,
    0.03965924307703972,
    -0.07200974971055984,
    0.00141724303830415,
    0.0248110294342041,
    0.040077559649944305,
    0.07086125016212463,
    -0.03581800311803818,
    -0.01127373706549406,
    0.0028778419364243746,
    0.0008755602757446468,
    -0.023827828466892242,
    -0.13985423743724823,
    0.09489033371210098,
    0.053955063223838806,
    -0.083733469247818,
    0.0038327400106936693,
    -0.05064503848552704,
    -0.06550569832324982,
    -0.0189037024974823,
    0.04640376567840576,
    -0.023853525519371033,
    -0.011537760496139526,
    0.009017372503876686,
    -0.03215127810835838,
    0.022104129195213318,
    0.0414709746837616,
    -0.10230772197246552,
    -0.053132105618715286,
    0.012538873590528965,
    -0.0455511100590229,
    0.008030286990106106,
    0.06893163919448853,
    -0.018805330619215965,
    0.03505861014127731,
    0.029908914119005203,
    -0.009688218124210835,
    -0.07928702980279922,
    0.07659813016653061,
    0.0693182721734047,
    0.03954356163740158,
    0.0680626630783081,
    -0.002805966418236494,
    0.010136889293789864,
    -6.450310722418278e-33,
    -0.09633006900548935,
    0.06170634180307388,
    -0.060242533683776855,
    0.04292142763733864,
    0.04731402173638344,
    -0.08684288710355759,
    -0.04319055750966072,
    0.04856691509485245,
    0.023510990664362907,
    -0.026362299919128418,
    -0.013110604137182236,
    0.013002521358430386,
    0.004544877912849188,
    -0.008265773765742779,
    -0.05788576602935791,
    0.015088270418345928,
    0.010079543106257915,
    -0.052843812853097916,
    0.03509264811873436,
    -0.01760789379477501,
    0.04652395844459534,
    0.03695263713598251,
    0.013120146468281746,
    -0.0010648369789123535,
    -0.005883743520826101,
    0.060285959392786026,
    0.04725649952888489,
    -0.01165956724435091,
    -0.06487338989973068,
    -0.08354085683822632,
    0.09859160333871841,
    0.012387600727379322,
    0.019042208790779114,
    0.10423364490270615,
    0.011560826562345028,
    -0.019972849637269974,
    0.08575215190649033,
    0.019293420016765594,
    0.009739529341459274,
    0.006975585129112005,
    0.13257567584514618,
    0.047029465436935425,
    -0.0581524632871151,
    0.01651792787015438,
    -0.02057892456650734,
    0.03751557320356369,
    -0.0852569043636322,
    0.011429720558226109,
    -0.0395389050245285,
    0.05540410429239273,
    0.01926652155816555,
    -0.031516075134277344,
    0.010822168551385403,
    0.033681195229291916,
    0.039278294891119,
    0.042513828724622726,
    0.0827653631567955,
    -0.0037117553874850273,
    0.017643103376030922,
    -0.03589751198887825,
    0.03453364968299866,
    -0.06635553389787674,
    0.07690870016813278,
    0.07702644169330597,
    0.0928959921002388,
    0.012480625882744789,
    -0.012868194840848446,
    0.017476912587881088,
    0.10275037586688995,
    -0.0570283904671669,
    -0.031836990267038345,
    0.06612536311149597,
    -0.09574943035840988,
    -0.014470693655312061,
    0.0587577149271965,
    0.10573975741863251,
    -0.02284160442650318,
    -0.05337245762348175,
    0.0030997274443507195,
    0.052401330322027206,
    -0.12851345539093018,
    -0.029077190905809402,
    -0.02657097391784191,
    -0.0789903849363327,
    0.06386144459247589,
    0.04333842173218727,
    -0.014795232564210892,
    0.14681988954544067,
    0.058493390679359436,
    0.0062872604466974735,
    -0.05960429459810257,
    0.0038467179983854294,
    -0.040280863642692566,
    -0.02455349825322628,
    0.0338565930724144,
    -5.6334037878968957e-8,
    0.0010039181215688586,
    -0.019198020920157433,
    -0.0272698812186718,
    0.040426481515169144,
    0.029119642451405525,
    0.04671299830079079,
    0.026516390964388847,
    -0.03900571167469025,
    -0.017888028174638748,
    0.031082509085536003,
    -0.04960697516798973,
    0.010564898140728474,
    0.039503391832113266,
    -0.055808644741773605,
    0.08142953366041183,
    -0.07398106157779694,
    0.02746892347931862,
    -0.09188754111528397,
    -0.09423469752073288,
    -0.09575891494750977,
    0.010480837896466255,
    0.004614138975739479,
    -0.0693647637963295,
    0.08630520105361938,
    -0.08105524629354477,
    -0.028224047273397446,
    0.03982061147689819,
    -0.0005411264719441533,
    -0.07110690325498581,
    -0.1052129715681076,
    -0.08747830986976624,
    -0.06331047415733337,
    0.046548329293727875,
    -0.04263699799776077,
    -0.11905717104673386,
    0.1494143307209015,
    0.010113880969583988,
    0.020535729825496674,
    0.01266210526227951,
    0.04210488498210907,
    0.02706597000360489,
    -0.030707310885190964,
    0.00581216299906373,
    0.00572619866579771,
    0.03770905360579491,
    0.022583255544304848,
    0.02874891646206379,
    0.06315034627914429,
    -0.0021903137676417828,
    -0.031136808916926384,
    -0.050257358700037,
    -0.06497801840305328,
    -0.005119910463690758,
    -0.020290954038500786,
    0.013809549622237682,
    -0.013823081739246845,
    0.0007912855362519622,
    -0.04406679421663284,
    0.05286324396729469,
    -0.016895636916160583,
    -0.014692584984004498,
    0.002364447806030512,
    -0.04598665609955788,
    0.020920224487781525
  ],
  "text": "Implemented major fix for external relay event forwarding in OpenVine:\n\n**Root Cause**: Events weren't appearing on external relays because:\n1. WebSocket connections died silently\n2. `sendEvent()` was fire-and-forget - returned true after adding to socket sink, didn't wait for OK\n3. Reconnection wasn't implemented (just a TODO comment)\n4. NostrService reported false success based on stale connection state\n\n**Changes Made to ExternalRelayClient** (`external_relay_client.dart`):\n1. Added exponential backoff reconnection (2s, 4s, 8s... up to 5 min, max 10 attempts)\n2. Added `onConnected` and `onDisconnected` callbacks\n3. Added `sendEventWithVerification()` - waits for OK response with 30s timeout\n4. Added `verifyEventExists()` - requests event back from relay to confirm it exists\n5. Added `reconnect()` method for manual reconnection with reset backoff\n\n**Changes to EmbeddedNostrRelay** (`embedded_nostr_relay.dart`):\n1. Hook onConnected callback to automatically flush publish queue on reconnect\n2. Changed `_publishToExternalRelays()` to use `sendEventWithVerification()`\n3. Changed `_flushPublishQueue()` to use verified sends\n4. Added `verifyEventOnExternalRelays()` public method\n\nThis should fix the issue where events appeared locally but not on external relays.",
  "sections": [
    "Project Notes"
  ],
  "timestamp": 1764392513066,
  "path": "/Users/rabble/code/andotherstuff/openvine/mobile/.private-journal/2025-11-29/18-01-53-066196.md"
}