---
title: "9:20:49 PM - December 1, 2025"
date: 2025-12-01T08:20:49.266Z
timestamp: 1764577249266
---

## Project Notes

REST Gateway Integration Design Session:

Key architectural insight: The gateway is NOT a replacement for WebSocket - it's a parallel path that feeds the same SQLite. Both paths:
- REST gateway → importEvents() → SQLite
- WebSocket → normal relay flow → SQLite

The app reads from SQLite regardless of how events got there. This is elegant because:
1. No changes needed to VideoEventService reading logic
2. No changes to UI providers
3. Gateway just pre-populates the cache faster
4. WebSocket always runs for real-time updates

Constraints identified:
- Gateway only works for relay.divine.video infrastructure
- Only use for cacheable content (discovery, hashtags, profiles)
- Never use for home feed (personalized by follow list)

Need to add importEvents() to flutter_embedded_nostr_relay package - EventStore.storeEvents() exists but isn't exposed publicly.

Implementation plan has 9 tasks with TDD approach - test first for each component.
