{
  "embedding": [
    -0.05237297713756561,
    -0.07315006852149963,
    -0.030347855761647224,
    -0.05867788940668106,
    0.076596200466156,
    -0.04614901915192604,
    0.03278708830475807,
    -0.023491445928812027,
    -0.04645036906003952,
    0.03211134299635887,
    0.01907055824995041,
    -0.04505155235528946,
    -0.05763915926218033,
    0.07053346186876297,
    0.035724345594644547,
    -0.03377772495150566,
    -0.008424966596066952,
    -0.05590146407485008,
    -0.026191003620624542,
    0.12443175911903381,
    -0.012182790786027908,
    -0.040752511471509933,
    0.11212880164384842,
    0.05427413806319237,
    0.048381853848695755,
    -0.007057009264826775,
    -0.018263233825564384,
    -0.01739133521914482,
    -0.006136293523013592,
    0.023091429844498634,
    0.0028545833192765713,
    0.004255759064108133,
    -0.04118557274341583,
    0.014303131960332394,
    0.05357658490538597,
    -0.03249294310808182,
    -0.03213721886277199,
    -0.012939042411744595,
    -0.13849994540214539,
    -0.03595917671918869,
    -0.03753788396716118,
    0.07905958592891693,
    -0.007265730295330286,
    0.023195507004857063,
    -0.023493381217122078,
    0.037599965929985046,
    0.05470903590321541,
    -0.04534117877483368,
    0.0424579493701458,
    -0.0437486357986927,
    -0.0607411228120327,
    -0.008061596192419529,
    0.02453373558819294,
    -0.007140624336898327,
    0.06382670253515244,
    0.06684748083353043,
    -0.09512326121330261,
    0.015431259758770466,
    0.019865011796355247,
    0.051855895668268204,
    -0.07218814641237259,
    0.02638755924999714,
    0.024514028802514076,
    -0.0054751792922616005,
    -0.04288549721240997,
    0.03773183375597,
    0.044755350798368454,
    0.02993336133658886,
    0.031095080077648163,
    -0.02421129308640957,
    -0.061047717928886414,
    0.04659309610724449,
    0.009973407723009586,
    0.010551976971328259,
    -0.04553206264972687,
    -0.02759784273803234,
    0.05085882544517517,
    0.041529878973960876,
    -0.03751496598124504,
    -0.10893390327692032,
    0.0241034384816885,
    -0.048763152211904526,
    0.01629895344376564,
    0.02041787840425968,
    0.03888417035341263,
    -0.0035944534465670586,
    0.0003769037139136344,
    -0.0799071192741394,
    0.03350496664643288,
    0.08875085413455963,
    -0.08078721910715103,
    -0.04772307723760605,
    0.015805553644895554,
    -0.054913654923439026,
    0.060444168746471405,
    -0.05317625030875206,
    0.05754915624856949,
    0.0664626955986023,
    0.018202075734734535,
    0.042760685086250305,
    -0.02923489734530449,
    -0.04253389686346054,
    0.04466447979211807,
    0.06413555145263672,
    0.06136200949549675,
    -0.03366920351982117,
    -0.01614997163414955,
    -0.045439332723617554,
    -0.0009517349535599351,
    0.013986424542963505,
    0.03085876815021038,
    0.06113028526306152,
    0.020583417266607285,
    -0.0018297795904800296,
    0.10590675473213196,
    0.05924660339951515,
    -0.029010258615016937,
    0.0019330080831423402,
    -0.036560140550136566,
    0.04687598720192909,
    0.024817580357193947,
    -0.029660535976290703,
    0.01547185517847538,
    -0.036690499633550644,
    -0.01645669713616371,
    0.020295100286602974,
    0.12043803185224533,
    3.281640803502027e-33,
    0.008238999173045158,
    -0.10430167615413666,
    0.008165991865098476,
    0.028457041829824448,
    0.05058445781469345,
    -0.009828438982367516,
    -0.024357382208108902,
    0.10642919689416885,
    -0.0487971231341362,
    -0.03927810490131378,
    0.011515134945511818,
    -0.046850431710481644,
    0.007939922623336315,
    0.022318238392472267,
    0.06413359194993973,
    0.011410142295062542,
    -0.05909184738993645,
    0.013664117082953453,
    0.03617943823337555,
    0.08150453865528107,
    0.006655476987361908,
    -0.00881885178387165,
    -0.009051203727722168,
    0.030398497357964516,
    -0.08690862357616425,
    0.0493764653801918,
    0.08337610960006714,
    -0.004052669741213322,
    0.08281544595956802,
    0.017574314028024673,
    -0.06863589584827423,
    0.04672832414507866,
    0.0479118674993515,
    -0.018587080761790276,
    -0.03375350311398506,
    -0.03203953430056572,
    0.013697079382836819,
    0.003854249371215701,
    -0.08259043842554092,
    -0.042057279497385025,
    -0.012570413760840893,
    0.04450639709830284,
    -0.12286083400249481,
    -0.079261414706707,
    0.07725388556718826,
    -0.0593443363904953,
    -0.059964776039123535,
    0.08702875673770905,
    -0.057984624058008194,
    0.03074067085981369,
    -0.04452342912554741,
    0.004781828261911869,
    0.023020781576633453,
    -0.05774550139904022,
    -0.07533097267150879,
    0.03515056520700455,
    0.055874090641736984,
    -0.03226945549249649,
    -0.00022466749942395836,
    -0.11493085324764252,
    -0.048637423664331436,
    0.04344318062067032,
    0.009206859394907951,
    -0.03310822695493698,
    -0.024159038439393044,
    0.06374277919530869,
    -0.024494150653481483,
    -0.002698463387787342,
    -0.0591747984290123,
    -0.06203768029808998,
    -0.04028996452689171,
    -0.00584770692512393,
    -0.045059945434331894,
    -0.06708034873008728,
    0.06925468146800995,
    0.06384493410587311,
    -0.034209687262773514,
    0.013270466588437557,
    -0.07303272187709808,
    0.0584661029279232,
    -0.09253055602312088,
    0.027935579419136047,
    0.061250898987054825,
    0.02317642606794834,
    -0.03393682837486267,
    -0.012149776332080364,
    0.051116347312927246,
    -0.018468493595719337,
    -0.07991112023591995,
    0.08217573910951614,
    -0.002866023685783148,
    0.05204636976122856,
    0.0673135370016098,
    -0.09573805332183838,
    -0.022050384432077408,
    -4.290182630412902e-33,
    0.07217330485582352,
    0.051801592111587524,
    -0.12381178140640259,
    -0.025623595342040062,
    0.019208651036024094,
    -0.02753155492246151,
    0.0031310373451560736,
    0.01502782292664051,
    0.04780380055308342,
    -0.14662939310073853,
    -0.08222393691539764,
    -0.053566355258226395,
    -0.022680895403027534,
    -0.022144092246890068,
    -0.07763905823230743,
    0.03072194755077362,
    -0.0208587683737278,
    -0.03783738240599632,
    -0.027232162654399872,
    -0.009661361575126648,
    0.041688788682222366,
    0.050442732870578766,
    0.1248718723654747,
    0.021402794867753983,
    0.024866169318556786,
    0.01905910298228264,
    0.07003841549158096,
    0.11334184557199478,
    0.03788929805159569,
    -0.12776657938957214,
    0.10257136821746826,
    -0.029461154714226723,
    0.034265998750925064,
    0.011002679355442524,
    -0.011507688090205193,
    0.0362650565803051,
    0.03200998157262802,
    -0.05164254456758499,
    -0.06099703162908554,
    0.019906384870409966,
    0.049782462418079376,
    -0.005219438578933477,
    -0.018493227660655975,
    -0.03566353768110275,
    0.02808879129588604,
    0.04920090362429619,
    -0.07808659225702286,
    0.04314021021127701,
    -0.05332641303539276,
    -0.11093007773160934,
    -0.019392870366573334,
    -0.00981607660651207,
    -0.05478132888674736,
    0.040354885160923004,
    -0.021494802087545395,
    0.027026018127799034,
    0.08090837299823761,
    0.05050049349665642,
    0.009016141295433044,
    0.003038040827959776,
    0.08934717625379562,
    -0.027332909405231476,
    -0.09445654600858688,
    -0.03891158849000931,
    0.014166940934956074,
    -0.021064601838588715,
    0.009242415428161621,
    0.05420071259140968,
    0.0012565564829856157,
    -0.006706714630126953,
    0.025872867554426193,
    0.017200956121087074,
    0.05755654349923134,
    0.025237442925572395,
    0.0663117989897728,
    0.11357264220714569,
    -0.012322727590799332,
    -0.07784568518400192,
    0.060936205089092255,
    -0.03987095132470131,
    -0.05741643160581589,
    -0.030443251132965088,
    0.06992778927087784,
    0.035001907497644424,
    -0.03389865159988403,
    0.039849620312452316,
    0.0439276322722435,
    0.02304944582283497,
    0.045805636793375015,
    -0.022586042061448097,
    -0.0496089830994606,
    -0.027605924755334854,
    -0.013567456975579262,
    0.006338282488286495,
    0.05457385256886482,
    -4.341807979812984e-8,
    -0.03877333551645279,
    -0.0004954301402904093,
    -0.06609383970499039,
    0.06237512826919556,
    -0.0010667224414646626,
    -0.09408729523420334,
    0.0014777309261262417,
    0.09761305898427963,
    0.08250418305397034,
    -0.047934867441654205,
    0.005333848763257265,
    0.011725314892828465,
    -0.003779016202315688,
    -0.007964028976857662,
    0.009555047377943993,
    -0.051478225737810135,
    -0.0023736022412776947,
    0.007652758155018091,
    -0.06669601798057556,
    -0.04526934027671814,
    -0.00494565162807703,
    -0.017372913658618927,
    -0.05176195502281189,
    -0.10017358511686325,
    -0.08994137495756149,
    -0.06784552335739136,
    0.00422896072268486,
    -0.01358280424028635,
    -0.03403289616107941,
    -0.08595236390829086,
    -0.08295509219169617,
    0.041259292513132095,
    0.028265519067645073,
    -0.005754542071372271,
    -0.03584827855229378,
    -0.009876047261059284,
    -0.023036861792206764,
    0.01364805642515421,
    0.10999351739883423,
    0.002772760111838579,
    -0.03283382207155228,
    -0.026868203654885292,
    0.0002912964264396578,
    -0.00827921275049448,
    -0.045368216931819916,
    -0.0010994636686518788,
    0.04669816046953201,
    0.02118091471493244,
    0.016536017879843712,
    0.023375414311885834,
    -0.01714111864566803,
    0.06516184657812119,
    0.02872665971517563,
    0.06564007699489594,
    0.00921360868960619,
    -0.02998083457350731,
    0.06988171488046646,
    -0.11199671030044556,
    -0.044026706367731094,
    -0.0037088145036250353,
    0.04889345169067383,
    -0.05919653922319412,
    -0.021724306046962738,
    0.10284474492073059
  ],
  "text": "**Problem**: Two separate AVCaptureSession instances were fighting for camera access:\n- `camera_macos` package created one session for visual preview\n- `NativeMacOSCamera` Swift plugin created another session for recording\n- This caused \"Cannot Record\" PlatformException errors\n\n**Root Cause**: The MacOSCameraInterface class used a \"hybrid approach\" that was fundamentally broken - you can't have two AVCaptureSessions running simultaneously for the same camera.\n\n**Solution**: Removed `camera_macos` package from vine_recording_controller.dart and created `_NativeFramePreview` widget that uses `NativeMacOSCamera.frameStream` for preview. Now single AVCaptureSession handles both preview AND recording.\n\n**Files Changed**:\n- `lib/services/vine_recording_controller.dart`:\n  - Removed `camera_macos` import\n  - Updated MacOSCameraInterface class comment\n  - Changed preview widget from `camera_macos.CameraMacOSView` to `_NativeFramePreview`\n  - Added `_NativeFramePreview` widget class using StreamBuilder with frameStream\n\n**Note**: `camera_service_impl.dart` still imports camera_macos but is dead code (not imported anywhere). Could be cleaned up later.",
  "sections": [
    "Project Notes",
    "macOS Camera Duplicate Implementation Fix (2025-12-01)"
  ],
  "timestamp": 1764583377363,
  "path": "/Users/rabble/code/andotherstuff/openvine/mobile/.private-journal/2025-12-01/23-02-57-363621.md"
}