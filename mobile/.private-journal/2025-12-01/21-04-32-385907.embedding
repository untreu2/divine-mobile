{
  "embedding": [
    -0.022106027230620384,
    -0.012774555943906307,
    0.021013889461755753,
    -0.021984999999403954,
    0.0638180747628212,
    0.00634555472061038,
    0.07215972244739532,
    -0.05024253576993942,
    -0.04605993255972862,
    -0.017463315278291702,
    0.0149497976526618,
    -0.025467731058597565,
    -0.0322849415242672,
    0.05359387770295143,
    -0.02825992926955223,
    0.010009854100644588,
    0.07127740234136581,
    -0.06466983258724213,
    -0.09475135803222656,
    -0.05296352505683899,
    0.0024381764233112335,
    -0.026657603681087494,
    0.07944849133491516,
    -0.057037603110075,
    -0.035844869911670685,
    -0.007081041112542152,
    -0.046717192977666855,
    -0.05174838751554489,
    -0.016722148284316063,
    0.01849742978811264,
    0.13299869000911713,
    0.02237628772854805,
    -0.042127836495637894,
    -0.039833828806877136,
    -0.043264202773571014,
    -0.07585955411195755,
    -0.043127380311489105,
    -0.04710788652300835,
    -0.071168452501297,
    -0.028382079675793648,
    0.045970603823661804,
    0.016412951052188873,
    -0.06798010319471359,
    -0.03646767884492874,
    -0.06923510879278183,
    -0.011758861131966114,
    -0.005092496518045664,
    -0.09085280448198318,
    -0.002122787991538644,
    -0.01226369570940733,
    -0.046344149857759476,
    0.04468176141381264,
    -0.029171060770750046,
    0.0015851965872570872,
    0.03375526890158653,
    -0.017262307927012444,
    -0.034393131732940674,
    0.012870763428509235,
    0.048105765134096146,
    -0.0012865593889728189,
    -0.036811258643865585,
    -0.06805460155010223,
    -0.030787982046604156,
    -0.004176241811364889,
    -0.012560747563838959,
    0.07119348645210266,
    0.028814051300287247,
    -0.006259675603359938,
    0.08090095221996307,
    0.08849727362394333,
    -0.05574207752943039,
    0.11858557909727097,
    -0.027793539687991142,
    0.06528578698635101,
    -0.013402956537902355,
    -0.06939664483070374,
    0.0314987376332283,
    -0.07611918449401855,
    0.005799490492790937,
    -0.1258576661348343,
    -0.01271425373852253,
    -0.08134983479976654,
    0.04563741385936737,
    -0.02443563938140869,
    0.022329188883304596,
    0.0012472267262637615,
    -0.06689766049385071,
    -0.08690033853054047,
    -0.006553787272423506,
    0.05159297212958336,
    -0.05127815157175064,
    0.0448472835123539,
    0.05984645336866379,
    0.02688167802989483,
    0.06800779700279236,
    -0.013121507130563259,
    -0.024970900267362595,
    -0.006177857052534819,
    -0.03133993595838547,
    0.04004893824458122,
    -0.029939204454421997,
    -0.021509068086743355,
    -0.008557761088013649,
    0.1110517680644989,
    0.031698234379291534,
    -0.045362040400505066,
    0.01526026800274849,
    0.07424399256706238,
    -0.08660521358251572,
    0.07155074924230576,
    -0.045624662190675735,
    0.03189920634031296,
    0.04248274117708206,
    -0.055660370737314224,
    0.007492114789783955,
    0.06584420055150986,
    0.062127646058797836,
    0.05949787795543671,
    -0.053035516291856766,
    0.0854874700307846,
    0.07007085531949997,
    -0.017495762556791306,
    -0.013660168275237083,
    -0.001845995313487947,
    0.010858485475182533,
    0.010422084480524063,
    0.02552717924118042,
    7.927172437432629e-33,
    -0.0019521950744092464,
    -0.08625750243663788,
    -0.05093071982264519,
    -0.028011389076709747,
    0.03012199141085148,
    0.06458912789821625,
    0.023408206179738045,
    0.02695748768746853,
    -0.0049443719908595085,
    0.006185047794133425,
    0.10342682152986526,
    -0.014008059166371822,
    -0.09049230813980103,
    -0.037176281213760376,
    0.07711845636367798,
    -0.006387826520949602,
    0.008120979182422161,
    0.03862466663122177,
    0.028682326897978783,
    0.006791633553802967,
    0.004675189033150673,
    0.026519762352108955,
    -0.007734942715615034,
    -0.034567173570394516,
    -0.06320977956056595,
    0.012099169194698334,
    0.022375091910362244,
    0.021810729056596756,
    0.04219022020697594,
    -0.004811482969671488,
    -0.0506531298160553,
    -0.010722853243350983,
    0.05125992000102997,
    -0.018641632050275803,
    -0.028261879459023476,
    0.010710288770496845,
    -0.037484023720026016,
    0.0020089182071387768,
    -0.03829051926732063,
    -0.08134566247463226,
    0.002224454190582037,
    0.00730856042355299,
    -0.05914050340652466,
    -0.04519599303603172,
    -0.07926986366510391,
    -0.07785974442958832,
    -0.01692134514451027,
    0.016232814639806747,
    -0.01445714384317398,
    0.0454118512570858,
    0.06091190129518509,
    0.04504748806357384,
    -0.011358590796589851,
    -0.13944119215011597,
    -0.09610630571842194,
    0.01392327155917883,
    -0.003426226321607828,
    0.002142885699868202,
    0.04255189001560211,
    -0.036992765963077545,
    0.038981832563877106,
    -0.06201155483722687,
    0.026828967034816742,
    -0.03283204510807991,
    0.055939655750989914,
    0.0195771511644125,
    0.0752832219004631,
    -0.04126185551285744,
    -0.004352746531367302,
    -0.04033472016453743,
    -0.07711531221866608,
    0.03238827735185623,
    0.06881887465715408,
    -0.018903641030192375,
    0.04395546764135361,
    -0.05136428028345108,
    -0.06277147680521011,
    -0.050588209182024,
    -0.04950319230556488,
    -0.039513908326625824,
    0.1013142317533493,
    -0.01099744625389576,
    -0.000038317324651870877,
    -0.017528299242258072,
    -0.040135107934474945,
    -0.06888097524642944,
    0.007617966737598181,
    -0.012036887928843498,
    -0.04468778520822525,
    0.026248043403029442,
    0.07366295903921127,
    0.008224270306527615,
    0.05199771746993065,
    0.008987175300717354,
    0.04411711543798447,
    -7.95848246415075e-33,
    0.012938355095684528,
    0.013279487378895283,
    -0.052135612815618515,
    -0.0008856317726895213,
    0.10475660115480423,
    -0.0668492540717125,
    0.008888030424714088,
    0.035310447216033936,
    0.12033359706401825,
    -0.11176704615354538,
    -0.05780709162354469,
    -0.07292363792657852,
    -0.034006450325250626,
    -0.05066092684864998,
    -0.06608470529317856,
    0.03530839458107948,
    -0.03566352277994156,
    -0.061758868396282196,
    -0.06057606637477875,
    -0.05912534520030022,
    -0.070316381752491,
    0.13550683856010437,
    0.0005056031513959169,
    0.03600139915943146,
    -0.028746770694851875,
    0.013003316707909107,
    0.045002445578575134,
    0.06357750296592712,
    0.06976254284381866,
    -0.05336915701627731,
    0.07761815935373306,
    0.015917887911200523,
    -0.06302329152822495,
    0.004333098419010639,
    0.06910821050405502,
    -0.08179350197315216,
    -0.008169511333107948,
    0.08361688256263733,
    -0.08245399594306946,
    0.10505450516939163,
    0.07065577805042267,
    0.08020144701004028,
    -0.06405021995306015,
    0.028579743579030037,
    0.01486839260905981,
    0.06061524525284767,
    0.03718341141939163,
    0.006670712493360043,
    -0.0487811341881752,
    0.019123118370771408,
    0.00038382617640309036,
    -0.05121921747922897,
    -0.012615401297807693,
    -0.005281076766550541,
    0.024125874042510986,
    0.01711760275065899,
    0.044018037617206573,
    -0.003349466249346733,
    0.054073505103588104,
    -0.021925630047917366,
    0.04646174609661102,
    -0.02276410162448883,
    -0.10293330252170563,
    0.004971976857632399,
    0.0331987589597702,
    0.03109821490943432,
    -0.008825555443763733,
    0.05393265187740326,
    0.04803693667054176,
    -0.014438292011618614,
    0.03706662729382515,
    -0.09119030833244324,
    -0.003126739524304867,
    -0.10353443771600723,
    0.07445336878299713,
    -0.004759970586746931,
    0.019485266879200935,
    -0.02750559337437153,
    0.018847137689590454,
    0.016335679218173027,
    -0.09256257116794586,
    0.013014089316129684,
    0.01391209103167057,
    -0.017115458846092224,
    0.010120898485183716,
    0.052322305738925934,
    0.01880982518196106,
    0.05737276002764702,
    -0.02053341083228588,
    0.032338403165340424,
    0.03586336597800255,
    -0.07895401120185852,
    -0.04284607246518135,
    -0.002352620242163539,
    0.026870407164096832,
    -5.536763936220268e-8,
    -0.05391048267483711,
    -0.03538481146097183,
    -0.12630167603492737,
    0.11494515091180801,
    0.013654994778335094,
    0.003861713455989957,
    0.028494585305452347,
    0.029048260301351547,
    -0.009238340891897678,
    -0.04106767475605011,
    0.016688644886016846,
    0.03910977020859718,
    0.045753441751003265,
    -0.06110863760113716,
    0.07395046949386597,
    -0.08648043870925903,
    0.021648015826940536,
    0.03531144559383392,
    -0.07403359562158585,
    0.02154799923300743,
    -0.00955760758370161,
    0.02599773369729519,
    -0.017529698088765144,
    -0.03860205039381981,
    -0.1069767102599144,
    0.05780329555273056,
    0.051766131073236465,
    -0.02975681610405445,
    0.05101025104522705,
    0.060912858694791794,
    0.015413795597851276,
    -0.023434706032276154,
    0.02823629602789879,
    -0.08858221024274826,
    0.01245429553091526,
    0.002847199561074376,
    0.03129976615309715,
    -0.048955872654914856,
    0.049250174313783646,
    0.08509872108697891,
    0.10368373990058899,
    -0.047049134969711304,
    0.05783810466527939,
    0.020942270755767822,
    -0.07037518173456192,
    0.051841918379068375,
    0.04987882822751999,
    0.0008756089955568314,
    0.0734482929110527,
    0.06944164633750916,
    -0.03589285910129547,
    0.006008329335600138,
    -0.010856271721422672,
    -0.01704515889286995,
    0.06585006415843964,
    -0.0372493602335453,
    0.08341873437166214,
    0.0045996177941560745,
    -0.003451767610386014,
    0.014978580176830292,
    0.17056217789649963,
    -0.0423298180103302,
    -0.0198137778788805,
    0.04176434874534607
  ],
  "text": "Fixed two related issues with adult content filtering:\n\n### Bug #1: Existing videos not filtered when preference changes\n- Problem: When user selected \"Never show\", only NEW incoming events were filtered - videos already in feed lists remained visible\n- Solution: Added `filterAdultContentFromExistingVideos()` method to VideoEventService that iterates through all `_eventLists` and removes adult content\n- Helper method `_isAdultContent(VideoEvent)` checks:\n  - `hashtags` list for 'nsfw' or 'adult' (case-insensitive)\n  - `rawTags` map for 'content-warning' key\n  - `isFlaggedContent` boolean flag\n\n### Bug #2: Under-18 users could still select adult content preferences\n- Problem: When user unchecked \"I am 18+\" checkbox, they could still have non-neverShow preference selected\n- Solution: In `_setAgeVerified(false)`, automatically set preference to `neverShow` and filter existing videos\n\n### Key Files:\n- `lib/services/video_event_service.dart` - Added filtering methods (lines 253-312)\n- `lib/screens/safety_settings_screen.dart` - Wired up filtering calls\n- `test/services/video_event_service_adult_filter_test.dart` - Added 2 new TDD tests\n\n### Pattern Learned:\nWhen implementing preference-based filtering, need to handle BOTH:\n1. Filtering of NEW incoming data (done via `shouldFilterEvent()` at event processing points)\n2. Filtering of EXISTING cached data (done via explicit `filterAdultContentFromExistingVideos()` when preference changes)",
  "sections": [
    "Project Notes",
    "Trust & Safety - Adult Content Filtering Complete (2025-12-01)"
  ],
  "timestamp": 1764576272385,
  "path": "/Users/rabble/code/andotherstuff/openvine/mobile/.private-journal/2025-12-01/21-04-32-385907.md"
}