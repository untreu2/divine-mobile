00:00 +0: loading /Users/rabble/code/andotherstuff/openvine/mobile/test/manual_profile_fetch_test.dart
[12:44:44.367] === Testing Profile Fetch from relay3.openvine.co ===

[12:44:44.378] Looking for:
[12:44:44.379]   Public Key: 78a5c21b5166dc1474b64ddf7454bf79e6b5d6b4a77148593bf1e866b73c2738
[12:44:44.379]   Event ID: 29609a582e97981d74cfb9981be2da6c2802afe8ebb90af3122cbd7cc6a09eb3
[12:44:44.381]   Published at: 1751191804 (2025-06-29T10:10:04.000Z UTC)
[12:44:44.393] âŒ Error: Bad state: There is no current invoker. Please make sure that you are making the call inside a test zone.
00:00 +0: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/nostr_key_manager_test.dart: NostrKeyManager Unit Tests should initialize without keys
[12:44:45.025] [AUTH] Initializing SecureKeyStorageService
[12:44:45.032] [SYSTEM] Initializing platform-specific secure storage
[12:44:45.038] [SYSTEM] Failed to detect capabilities, using fallback: MissingPluginException(No implementation found for method getCapabilities on channel openvine.secure_storage)
[12:44:45.038] [SYSTEM] ğŸ“±ï¸ Initializing macOS Keychain integration
[12:44:45.039] [SYSTEM] macOS uses software-based Keychain storage (no hardware backing)
[12:44:45.039] [SYSTEM] Platform secure storage initialized for macOS
[12:44:45.040] [SYSTEM] Platform secure storage initialized for macOS
ğŸ“Š Capabilities: basicSecureStorage
[12:44:45.041] [AUTH] SecureKeyStorageService initialized
[12:44:45.043] [AUTH] ğŸ“± Security level: Software-only
[12:44:45.046] [SYSTEM] Failed to check key existence: MissingPluginException(No implementation found for method read on channel plugins.it_nomads.com/flutter_secure_storage)
[12:44:45.053] [AUTH] ğŸ“±ï¸ Deleting all stored secure keys
[12:44:45.054] [SYSTEM] ğŸ“±ï¸ Deleting key with ID: nostr_primary_key
[12:44:45.054] [SYSTEM] Key deletion failed in fallback storage: MissingPluginException(No implementation found for method delete on channel plugins.it_nomads.com/flutter_secure_storage)
[12:44:45.054] [AUTH] Platform key deletion may have failed
[12:44:45.055] [AUTH] ğŸ§¹ Secure key cache cleared (reference only)
[12:44:45.055] [AUTH] All keys deleted
00:00 +1: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/nostr_key_manager_test.dart: NostrKeyManager Unit Tests should migrate legacy keys from SharedPreferences
[12:44:45.059] [AUTH] Initializing SecureKeyStorageService
[12:44:45.059] [AUTH] SecureKeyStorageService initialized
[12:44:45.059] [AUTH] ğŸ“± Security level: Software-only
[12:44:45.060] [SYSTEM] Failed to check key existence: MissingPluginException(No implementation found for method read on channel plugins.it_nomads.com/flutter_secure_storage)
[12:44:45.066] [AUTH] Importing keys from nsec
[12:44:45.141] [SYSTEM] ğŸ“± SecureKeyContainer created for npub169w...fv99
[12:44:45.141] [AUTH] ğŸ“± Imported key for: npub169w...fv99
[12:44:45.142] [SYSTEM] ğŸ“± Storing key with ID: nostr_primary_key
[12:44:45.142] [SYSTEM] âš™ï¸ Requirements - Hardware: false, Biometrics: false
[12:44:45.144] [SYSTEM] ğŸ“± Private key temporarily exposed for operation
[12:44:45.149] [SYSTEM] ğŸ“±ï¸ Disposing SecureKeyContainer
[12:44:45.151] [SYSTEM] SecureKeyContainer disposed and wiped
[12:44:45.152] [AUTH] Import error: SecureKeyStorageException: Failed to store imported key: Fallback storage failed: MissingPluginException(No implementation found for method write on channel plugins.it_nomads.com/flutter_secure_storage)
00:00 +1 -1: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/nostr_key_manager_test.dart: NostrKeyManager Unit Tests should migrate legacy keys from SharedPreferences [E]
  Expected: true
    Actual: <false>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test/unit/nostr_key_manager_test.dart 63:7          main.<fn>.<fn>
  
[12:44:45.207] [AUTH] ğŸ“±ï¸ Deleting all stored secure keys
[12:44:45.208] [SYSTEM] ğŸ“±ï¸ Deleting key with ID: nostr_primary_key
[12:44:45.208] [SYSTEM] Key deletion failed in fallback storage: MissingPluginException(No implementation found for method delete on channel plugins.it_nomads.com/flutter_secure_storage)
[12:44:45.208] [AUTH] Platform key deletion may have failed
[12:44:45.208] [AUTH] ğŸ§¹ Secure key cache cleared (reference only)
[12:44:45.208] [AUTH] All keys deleted
00:00 +1 -1: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/nostr_key_manager_test.dart: NostrKeyManager Unit Tests should validate private key format
[12:44:45.224] [AUTH] Initializing SecureKeyStorageService
[12:44:45.226] [AUTH] SecureKeyStorageService initialized
[12:44:45.249] [AUTH] ğŸ“± Security level: Software-only
[12:44:45.255] [SYSTEM] Failed to check key existence: MissingPluginException(No implementation found for method read on channel plugins.it_nomads.com/flutter_secure_storage)
[12:44:45.269] [AUTH] Importing keys from nsec
[12:44:45.286] [SYSTEM] ğŸ“± SecureKeyContainer created for npub169w...fv99
[12:44:45.286] [AUTH] ğŸ“± Imported key for: npub169w...fv99
[12:44:45.288] [SYSTEM] ğŸ“± Storing key with ID: nostr_primary_key
[12:44:45.288] [SYSTEM] âš™ï¸ Requirements - Hardware: false, Biometrics: false
[12:44:45.289] [SYSTEM] ğŸ“± Private key temporarily exposed for operation
[12:44:45.289] [AUTH] ğŸ“±ï¸ Deleting all stored secure keys
[12:44:45.289] [SYSTEM] ğŸ“±ï¸ Deleting key with ID: nostr_primary_key
[12:44:45.290] [SYSTEM] ğŸ“±ï¸ Disposing SecureKeyContainer
[12:44:45.290] [SYSTEM] SecureKeyContainer disposed and wiped
[12:44:45.291] [AUTH] Import error: SecureKeyStorageException: Failed to store imported key: Fallback storage failed: MissingPluginException(No implementation found for method write on channel plugins.it_nomads.com/flutter_secure_storage)
00:00 +1 -2: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/subscription_manager_tdd_test.dart: SubscriptionManager TDD - Event Forwarding Bug TDD: SubscriptionManager should forward events from NostrService to callback - WILL FAIL FIRST
[12:44:45.302] [SYSTEM] ğŸ” TDD: Testing if SubscriptionManager forwards events to callbacks...
[12:44:45.312] [SYSTEM] ğŸ“¡ TDD: Created subscription tdd_test_1760658285306
00:00 +1 -2: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/nostr_key_manager_test.dart: NostrKeyManager Unit Tests should validate private key format [E]
  NostrKeyException: Failed to import private key: SecureKeyStorageException: Failed to store imported key: Fallback storage failed: MissingPluginException(No implementation found for method write on channel plugins.it_nomads.com/flutter_secure_storage)
  package:openvine/services/nostr_key_manager.dart 173:7   NostrKeyManager.importPrivateKey
  ===== asynchronous gap ===========================
  dart:async                                               _CustomZone.registerBinaryCallback
  package:openvine/services/nostr_key_manager.dart 156:31  NostrKeyManager.importPrivateKey
  test/unit/nostr_key_manager_test.dart 78:31              main.<fn>.<fn>.<fn>
  package:matcher                                          expect
  package:flutter_test/src/widget_tester.dart 473:18       expect
  test/unit/nostr_key_manager_test.dart 78:7               main.<fn>.<fn>
  ===== asynchronous gap ===========================
  dart:async                                               _CustomZone.registerUnaryCallback
  test/unit/nostr_key_manager_test.dart 73:7               main.<fn>.<fn>
  
[12:44:45.317] [SYSTEM] Key deletion failed in fallback storage: MissingPluginException(No implementation found for method delete on channel plugins.it_nomads.com/flutter_secure_storage)
[12:44:45.318] [AUTH] Platform key deletion may have failed
[12:44:45.320] [AUTH] ğŸ§¹ Secure key cache cleared (reference only)
[12:44:45.320] [AUTH] All keys deleted
00:00 +1 -2: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/subscription_manager_tdd_test.dart: SubscriptionManager TDD - Event Forwarding Bug TDD: SubscriptionManager should forward events from NostrService to callback - WILL FAIL FIRST
[12:44:45.320] [SYSTEM] ğŸ“¤ TDD: Sending test events through stream...
[12:44:45.321] [SYSTEM] âœ… TDD: Callback received event: 299fa9fe
00:00 +1 -2: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/nostr_key_manager_test.dart: NostrKeyManager Unit Tests should export private key for backup
[12:44:45.322] [AUTH] Initializing SecureKeyStorageService
[12:44:45.322] [AUTH] SecureKeyStorageService initialized
[12:44:45.322] [AUTH] ğŸ“± Security level: Software-only
[12:44:45.323] [SYSTEM] Failed to check key existence: MissingPluginException(No implementation found for method read on channel plugins.it_nomads.com/flutter_secure_storage)
[12:44:45.323] [AUTH] Importing keys from nsec
[12:44:45.330] [SYSTEM] ğŸ“± SecureKeyContainer created for npub169w...fv99
[12:44:45.330] [AUTH] ğŸ“± Imported key for: npub169w...fv99
[12:44:45.330] [SYSTEM] ğŸ“± Storing key with ID: nostr_primary_key
[12:44:45.331] [SYSTEM] âš™ï¸ Requirements - Hardware: false, Biometrics: false
[12:44:45.331] [SYSTEM] ğŸ“± Private key temporarily exposed for operation
[12:44:45.332] [SYSTEM] ğŸ“±ï¸ Disposing SecureKeyContainer
[12:44:45.332] [SYSTEM] SecureKeyContainer disposed and wiped
[12:44:45.333] [AUTH] Import error: SecureKeyStorageException: Failed to store imported key: Fallback storage failed: MissingPluginException(No implementation found for method write on channel plugins.it_nomads.com/flutter_secure_storage)
00:00 +1 -3: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/subscription_manager_tdd_test.dart: SubscriptionManager TDD - Event Forwarding Bug TDD: SubscriptionManager should forward events from NostrService to callback - WILL FAIL FIRST
00:00 +1 -3: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/nostr_key_manager_test.dart: NostrKeyManager Unit Tests should export private key for backup [E]
  NostrKeyException: Failed to import private key: SecureKeyStorageException: Failed to store imported key: Fallback storage failed: MissingPluginException(No implementation found for method write on channel plugins.it_nomads.com/flutter_secure_storage)
  package:openvine/services/nostr_key_manager.dart 173:7  NostrKeyManager.importPrivateKey
  
[12:44:45.339] [AUTH] ğŸ“±ï¸ Deleting all stored secure keys
[12:44:45.339] [SYSTEM] ğŸ“±ï¸ Deleting key with ID: nostr_primary_key
[12:44:45.340] [SYSTEM] Key deletion failed in fallback storage: MissingPluginException(No implementation found for method delete on channel plugins.it_nomads.com/flutter_secure_storage)
[12:44:45.340] [AUTH] Platform key deletion may have failed
[12:44:45.340] [AUTH] ğŸ§¹ Secure key cache cleared (reference only)
[12:44:45.340] [AUTH] All keys deleted
00:00 +1 -3: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/nostr_key_manager_test.dart: NostrKeyManager Unit Tests should clear keys properly
[12:44:45.346] [AUTH] Initializing SecureKeyStorageService
[12:44:45.347] [AUTH] SecureKeyStorageService initialized
[12:44:45.347] [AUTH] ğŸ“± Security level: Software-only
[12:44:45.347] [SYSTEM] Failed to check key existence: MissingPluginException(No implementation found for method read on channel plugins.it_nomads.com/flutter_secure_storage)
[12:44:45.348] [AUTH] Importing keys from nsec
[12:44:45.356] [SYSTEM] ğŸ“± SecureKeyContainer created for npub169w...fv99
[12:44:45.357] [AUTH] ğŸ“± Imported key for: npub169w...fv99
[12:44:45.357] [SYSTEM] ğŸ“± Storing key with ID: nostr_primary_key
[12:44:45.357] [SYSTEM] âš™ï¸ Requirements - Hardware: false, Biometrics: false
[12:44:45.358] [SYSTEM] ğŸ“± Private key temporarily exposed for operation
[12:44:45.359] [SYSTEM] ğŸ“±ï¸ Disposing SecureKeyContainer
[12:44:45.360] [SYSTEM] SecureKeyContainer disposed and wiped
[12:44:45.361] [AUTH] Import error: SecureKeyStorageException: Failed to store imported key: Fallback storage failed: MissingPluginException(No implementation found for method write on channel plugins.it_nomads.com/flutter_secure_storage)
00:00 +1 -4: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/subscription_manager_tdd_test.dart: SubscriptionManager TDD - Event Forwarding Bug TDD: SubscriptionManager should forward events from NostrService to callback - WILL FAIL FIRST
00:00 +1 -4: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/nostr_key_manager_test.dart: NostrKeyManager Unit Tests should clear keys properly [E]
  NostrKeyException: Failed to import private key: SecureKeyStorageException: Failed to store imported key: Fallback storage failed: MissingPluginException(No implementation found for method write on channel plugins.it_nomads.com/flutter_secure_storage)
  package:openvine/services/nostr_key_manager.dart 173:7  NostrKeyManager.importPrivateKey
  
[12:44:45.366] [AUTH] ğŸ“±ï¸ Deleting all stored secure keys
[12:44:45.367] [SYSTEM] ğŸ“±ï¸ Deleting key with ID: nostr_primary_key
[12:44:45.370] [SYSTEM] Key deletion failed in fallback storage: MissingPluginException(No implementation found for method delete on channel plugins.it_nomads.com/flutter_secure_storage)
[12:44:45.370] [AUTH] Platform key deletion may have failed
[12:44:45.371] [AUTH] ğŸ§¹ Secure key cache cleared (reference only)
[12:44:45.371] [AUTH] All keys deleted
00:00 +1 -4: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/nostr_key_manager_test.dart: NostrKeyManager Unit Tests should handle backup hash
[12:44:45.378] [AUTH] Initializing SecureKeyStorageService
[12:44:45.378] [AUTH] SecureKeyStorageService initialized
[12:44:45.378] [AUTH] ğŸ“± Security level: Software-only
[12:44:45.379] [SYSTEM] Failed to check key existence: MissingPluginException(No implementation found for method read on channel plugins.it_nomads.com/flutter_secure_storage)
[12:44:45.381] [AUTH] Importing keys from nsec
[12:44:45.389] [SYSTEM] ğŸ“± SecureKeyContainer created for npub169w...fv99
[12:44:45.390] [AUTH] ğŸ“± Imported key for: npub169w...fv99
[12:44:45.390] [SYSTEM] ğŸ“± Storing key with ID: nostr_primary_key
[12:44:45.390] [SYSTEM] âš™ï¸ Requirements - Hardware: false, Biometrics: false
[12:44:45.390] [SYSTEM] ğŸ“± Private key temporarily exposed for operation
[12:44:45.392] [SYSTEM] ğŸ“±ï¸ Disposing SecureKeyContainer
[12:44:45.392] [SYSTEM] SecureKeyContainer disposed and wiped
[12:44:45.392] [AUTH] Import error: SecureKeyStorageException: Failed to store imported key: Fallback storage failed: MissingPluginException(No implementation found for method write on channel plugins.it_nomads.com/flutter_secure_storage)
00:00 +1 -5: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/subscription_manager_tdd_test.dart: SubscriptionManager TDD - Event Forwarding Bug TDD: SubscriptionManager should forward events from NostrService to callback - WILL FAIL FIRST
00:00 +1 -5: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/nostr_key_manager_test.dart: NostrKeyManager Unit Tests should handle backup hash [E]
  NostrKeyException: Failed to import private key: SecureKeyStorageException: Failed to store imported key: Fallback storage failed: MissingPluginException(No implementation found for method write on channel plugins.it_nomads.com/flutter_secure_storage)
  package:openvine/services/nostr_key_manager.dart 173:7  NostrKeyManager.importPrivateKey
  
[12:44:45.399] [AUTH] ğŸ“±ï¸ Deleting all stored secure keys
[12:44:45.399] [SYSTEM] ğŸ“±ï¸ Deleting key with ID: nostr_primary_key
[12:44:45.401] [SYSTEM] Key deletion failed in fallback storage: MissingPluginException(No implementation found for method delete on channel plugins.it_nomads.com/flutter_secure_storage)
[12:44:45.402] [AUTH] Platform key deletion may have failed
[12:44:45.402] [AUTH] ğŸ§¹ Secure key cache cleared (reference only)
[12:44:45.402] [AUTH] All keys deleted
00:00 +2 -5: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/subscription_manager_tdd_test.dart: SubscriptionManager TDD - Event Forwarding Bug TDD: SubscriptionManager should forward events from NostrService to callback - WILL FAIL FIRST
[12:44:45.425] [SYSTEM] âœ… TDD: Callback received event: 04f23cb3
[12:44:45.426] [SYSTEM] ğŸ“Š TDD: Received 2 events via callback
00:00 +3 -5: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/subscription_manager_tdd_test.dart: SubscriptionManager TDD - Event Forwarding Bug TDD: SubscriptionManager should forward events from NostrService to callback - WILL FAIL FIRST
00:00 +4 -5: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/nostr_key_manager_test.dart: NostrKeyException should include message in toString
00:00 +5 -5: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/subscription_manager_tdd_test.dart: SubscriptionManager TDD - Event Forwarding Bug TDD: Verify NostrService stream works correctly (control test)
[12:44:45.438] [SYSTEM] ğŸ” TDD: Control test - verify our test setup works...
[12:44:45.439] [SYSTEM] âœ… TDD: Direct stream received: 1d45835f
[12:44:45.541] [SYSTEM] âœ… TDD: Direct stream received: fef2fa25
[12:44:45.541] [SYSTEM] ğŸ“Š TDD: Direct stream received 2 events
00:00 +6 -5: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_spec_compliance_test.dart: VideoEvent NIP-32222 Spec Compliance should parse properly formatted NIP-32222 imeta tags
[12:44:45.887] [SYSTEM] ğŸ” Testing NIP-32222 compliant video event...
00:00 +6 -6: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_spec_compliance_test.dart: VideoEvent NIP-32222 Spec Compliance should parse properly formatted NIP-32222 imeta tags [E]
  Invalid argument(s): Event must be a NIP-71 video kind (22, 21, 34236, 34235)
  package:openvine/models/video_event.dart 50:7          new VideoEvent.fromNostrEvent
  test/unit/video_event_spec_compliance_test.dart 40:37  main.<fn>.<fn>
  
00:00 +6 -6: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_spec_compliance_test.dart: VideoEvent NIP-32222 Spec Compliance should handle multiple imeta tags for different video qualities
[12:44:45.934] [SYSTEM] ğŸ” Testing multiple video quality variants...
00:00 +6 -7: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_spec_compliance_test.dart: VideoEvent NIP-32222 Spec Compliance should handle multiple imeta tags for different video qualities [E]
  Invalid argument(s): Event must be a NIP-71 video kind (22, 21, 34236, 34235)
  package:openvine/models/video_event.dart 50:7          new VideoEvent.fromNostrEvent
  test/unit/video_event_spec_compliance_test.dart 98:37  main.<fn>.<fn>
  
00:00 +6 -7: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_spec_compliance_test.dart: VideoEvent NIP-32222 Spec Compliance should handle migration from Kind 22 to Kind 32222 format
[12:44:45.945] [SYSTEM] ğŸ” Analyzing Kind 22 legacy format vs NIP-32222 spec...
00:00 +6 -8: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_spec_compliance_test.dart: VideoEvent NIP-32222 Spec Compliance should handle migration from Kind 22 to Kind 32222 format [E]
  Expected: throws <Instance of 'ArgumentError'>
    Actual: <Closure: () => VideoEvent>
     Which: returned VideoEvent:<VideoEvent(id: 26ae3912..., pubkey: d95aa8fc, title: Untitled, duration: , time: now)>
  Kind 22 events should be rejected
  
  package:matcher                                        expect
  package:flutter_test/src/widget_tester.dart 473:18     expect
  test/unit/video_event_spec_compliance_test.dart 152:7  main.<fn>.<fn>
  
00:01 +6 -8: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/curated_list_relay_sync_test.dart: CuratedListService Relay Sync Tests should handle unauthenticated state gracefully in relay sync
[12:44:46.482] [SYSTEM] Cannot fetch lists from relays - user not authenticated
00:01 +7 -8: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/curated_list_relay_sync_test.dart: CuratedListService Relay Sync Tests should create subscription for Kind 30005 events when authenticated
[12:44:46.502] [SYSTEM] ğŸ“‹ Fetching user's curated lists from relays...
[12:44:46.505] [SYSTEM] âœ… Relay sync complete. Found 0 list events
00:01 +8 -8: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/curated_list_relay_sync_test.dart: CuratedListService Relay Sync Tests should process received Kind 30005 events correctly
[12:44:46.519] [SYSTEM] ğŸ“‹ Fetching user's curated lists from relays...
[12:44:46.521] [SYSTEM] Received list event from relay: 98e9bdcb...
[12:44:46.521] [SYSTEM] Processing 1 unique lists from relays
[12:44:46.522] [SYSTEM] Adding new list from relay: My Test List
[12:44:46.523] [SYSTEM] âœ… Relay sync complete. Found 1 list events
00:01 +9 -8: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/curated_list_relay_sync_test.dart: CuratedListService Relay Sync Tests should handle replaceable events correctly (keep latest)
[12:44:46.528] [SYSTEM] ğŸ“‹ Fetching user's curated lists from relays...
[12:44:46.529] [SYSTEM] Received list event from relay: 34383e56...
[12:44:46.529] [SYSTEM] Received list event from relay: 96866e65...
[12:44:46.529] [SYSTEM] Processing 1 unique lists from relays
[12:44:46.529] [SYSTEM] Adding new list from relay: New Title
[12:44:46.530] [SYSTEM] âœ… Relay sync complete. Found 2 list events
00:01 +10 -8: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/curated_list_relay_sync_test.dart: CuratedListService Relay Sync Tests should not sync more than once per session
[12:44:46.533] [SYSTEM] ğŸ“‹ Fetching user's curated lists from relays...
[12:44:46.533] [SYSTEM] âœ… Relay sync complete. Found 0 list events
[12:44:46.533] [SYSTEM] Already synced with relays this session
00:01 +11 -8: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/curated_list_relay_sync_test.dart: CuratedListService Relay Sync Isolation Tests should update existing local list if relay version is newer
[12:44:46.538] [SYSTEM] Created new curated list: Local List (list_1760658286537)
[12:44:46.539] [SYSTEM] ğŸ“‹ Fetching user's curated lists from relays...
[12:44:46.540] [SYSTEM] Received list event from relay: 8d40437d...
[12:44:46.541] [SYSTEM] Processing 1 unique lists from relays
[12:44:46.541] [SYSTEM] Updating existing list from relay: Relay List
[12:44:46.543] [SYSTEM] âœ… Relay sync complete. Found 1 list events
00:01 +12 -8: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/explore_screen_circular_dependency_test.dart: ExploreScreen Circular Dependency Prevention onScreenHidden uses videoManagerProvider.notifier directly (regression test)
00:01 +13 -8: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/explore_screen_circular_dependency_test.dart: ExploreScreen Circular Dependency Prevention _onTabChanged uses videoManagerProvider.notifier directly (regression test)
00:02 +14 -8: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_real_parsing_test.dart: VideoEvent Parsing - Real Relay Data should parse kind 32222 event with url tag correctly
[12:44:47.029] [SYSTEM] ğŸ” Testing VideoEvent parsing with real relay3.openvine.co data...
00:02 +14 -9: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_real_parsing_test.dart: VideoEvent Parsing - Real Relay Data should parse kind 32222 event with url tag correctly [E]
  Invalid argument(s): Event must be a NIP-71 video kind (22, 21, 34236, 34235)
  package:openvine/models/video_event.dart 50:7       new VideoEvent.fromNostrEvent
  test/unit/video_event_real_parsing_test.dart 35:37  main.<fn>.<fn>
  
00:02 +14 -9: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_real_parsing_test.dart: VideoEvent Parsing - Real Relay Data should parse kind 32222 event with r tag correctly
[12:44:47.161] [SYSTEM] ğŸ” Testing VideoEvent parsing with r tag...
00:02 +14 -10: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_real_parsing_test.dart: VideoEvent Parsing - Real Relay Data should parse kind 32222 event with r tag correctly [E]
  Invalid argument(s): Event must be a NIP-71 video kind (22, 21, 34236, 34235)
  package:openvine/models/video_event.dart 50:7       new VideoEvent.fromNostrEvent
  test/unit/video_event_real_parsing_test.dart 82:37  main.<fn>.<fn>
  
00:02 +14 -10: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_real_parsing_test.dart: VideoEvent Parsing - Real Relay Data URL validation should accept api.openvine.co URLs
00:02 +14 -11: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_real_parsing_test.dart: VideoEvent Parsing - Real Relay Data URL validation should accept api.openvine.co URLs [E]
  Invalid argument(s): Event must be a NIP-71 video kind (22, 21, 34236, 34235)
  package:openvine/models/video_event.dart 50:7        new VideoEvent.fromNostrEvent
  test/unit/video_event_real_parsing_test.dart 118:37  main.<fn>.<fn>
  
00:02 +14 -11: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception
00:02 +15 -11: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception
00:02 +16 -11: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception
00:02 +17 -11: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception
00:02 +18 -11: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception
00:02 +19 -11: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception
00:03 +19 -12: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception
00:03 +19 -12: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/providers/comments_provider_test.dart: CommentsNotifier Unit Tests Comment Posting should show optimistic update immediately [E]
  Cannot use the Ref of commentsProvider(a1b2c3d4e5f6789012345678901234567890abcdef123456789012345678901234, b2c3d4e5f6789012345678901234567890abcdef123456789012345678901234a) after it has been disposed. This typically happens if:
  - A provider rebuilt, but the previous "build" was still pending and is still performing operations.
    You should therefore either use `ref.onDispose` to cancel pending work, or
    check `ref.mounted` after async gaps or anything that could invalidate the provider.
  - You tried to use Ref inside `onDispose` or other life-cycles.
    This is not supported, as the provider is already being disposed.
  
  package:riverpod/src/core/ref.dart 177:7                        Ref._throwIfInvalidUsage
  package:riverpod/src/core/provider/notifier_provider.dart 82:9  AnyNotifier.state
  package:openvine/providers/comments_provider.dart 308:15        CommentsNotifier.postComment
  
00:03 +20 -12: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception
00:03 +21 -12: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception
00:03 +22 -12: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception
00:03 +23 -12: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception
00:03 +24 -12: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception
00:03 +25 -12: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception
00:03 +26 -12: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception
00:03 +27 -12: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception
00:03 +28 -12: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception
00:03 +29 -12: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception
â•â•â•¡ EXCEPTION CAUGHT BY WIDGETS LIBRARY â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following _Exception was thrown building Builder(dirty):
Exception: Test widget exception

The relevant error-causing widget was:
  Builder
  Builder:file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart:15:30

When the exception was thrown, this was the stack:
#0      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart:17:11)
#1      Builder.build (package:flutter/src/widgets/basic.dart:8226:48)
#2      StatelessElement.build (package:flutter/src/widgets/framework.dart:5791:49)
#3      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5723:15)
#4      Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#5      ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5705:5)
#6      ComponentElement.mount (package:flutter/src/widgets/framework.dart:5699:5)
...     Normal element mounting (25 frames)
#31     Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#32     MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#33     MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (332 frames)
#365    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#366    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#367    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (465 frames)
#832    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#833    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:20)
#834    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#835    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#836    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#837    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#838    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#839    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#840    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#841    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#842    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#843    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#844    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#845    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#846    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#847    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#848    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#849    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#850    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#851    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#852    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#853    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#854    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#855    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#856    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#857    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#858    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#859    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#860    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#861    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#862    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#863    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#864    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#865    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#866    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#867    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#868    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#869    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#870    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#871    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#872    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#873    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#874    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#875    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#876    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#877    _RawViewElement.update (package:flutter/src/widgets/view.dart:568:5)
#878    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#879    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#880    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#881    StatelessElement.update (package:flutter/src/widgets/framework.dart:5797:5)
#882    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#883    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#884    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#885    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#886    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#887    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#888    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1716:16)
#889    RootElement.update (package:flutter/src/widgets/binding.dart:1694:5)
#890    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1708:7)
#891    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#892    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2695:15)
#893    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2752:11)
#894    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3056:18)
#895    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1506:19)
#896    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:495:5)
#897    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1434:15)
#898    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1347:9)
#899    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1335:9)
#902    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#903    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1324:27)
#904    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#907    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#908    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#909    main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart:29:20)
#910    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#911    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TextWidgetFinder:<Found 0 widgets with text "Something went wrong": []>
   Which: means none were found but one was expected
Should show user-friendly error message instead of blank screen

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart:33:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart line 33
The test description was:
  FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following message was thrown:
Multiple exceptions (2) were detected during the running of the current test, and at least one was
unexpected.
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:03 +29 -13: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception [E]
  Test failed. See exception logs above.
  The test description was: FAIL FIRST: OpenVineApp should show user-friendly error when widget throws exception
  
00:03 +29 -13: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Global error handler should capture widget build exceptions
00:03 +30 -13: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error widget should show debug information in debug mode only
00:03 +31 -13: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error widget should show debug information in debug mode only
00:03 +32 -13: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error widget should show debug information in debug mode only
00:03 +33 -13: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error widget should show debug information in debug mode only
00:03 +34 -13: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error widget should show debug information in debug mode only
00:03 +35 -13: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error widget should show debug information in debug mode only
00:03 +36 -13: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error widget should show debug information in debug mode only
00:03 +37 -13: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error widget should show debug information in debug mode only
00:03 +38 -13: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error widget should show debug information in debug mode only
00:03 +39 -13: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error widget should show debug information in debug mode only
â•â•â•¡ EXCEPTION CAUGHT BY WIDGETS LIBRARY â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following ArgumentError was thrown building Builder(dirty):
Invalid argument(s): Debug test error

The relevant error-causing widget was:
  Builder
  Builder:file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart:83:15

When the exception was thrown, this was the stack:
#0      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart:84:33)
#1      Builder.build (package:flutter/src/widgets/basic.dart:8226:48)
#2      StatelessElement.build (package:flutter/src/widgets/framework.dart:5791:49)
#3      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5723:15)
#4      Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#5      ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5705:5)
#6      ComponentElement.mount (package:flutter/src/widgets/framework.dart:5699:5)
...     Normal element mounting (228 frames)
#234    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#235    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#236    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (465 frames)
#701    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#702    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:20)
#703    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#704    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#705    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#706    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#707    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#708    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#709    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#710    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#711    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#712    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#713    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#714    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#715    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#716    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#717    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#718    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#719    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#720    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#721    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#722    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#723    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#724    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#725    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#726    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#727    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#728    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#729    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#730    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#731    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#732    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#733    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#734    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#735    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#736    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#737    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#738    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#739    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#740    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#741    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#742    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#743    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#744    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#745    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#746    _RawViewElement.update (package:flutter/src/widgets/view.dart:568:5)
#747    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#748    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#749    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#750    StatelessElement.update (package:flutter/src/widgets/framework.dart:5797:5)
#751    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#752    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#753    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#754    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#755    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#756    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#757    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1716:16)
#758    RootElement.update (package:flutter/src/widgets/binding.dart:1694:5)
#759    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1708:7)
#760    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#761    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2695:15)
#762    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2752:11)
#763    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3056:18)
#764    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1506:19)
#765    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:495:5)
#766    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1434:15)
#767    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1347:9)
#768    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1335:9)
#771    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#772    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1324:27)
#773    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#776    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#777    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#778    main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart:88:20)
#779    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#780    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:03 +40 -13: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error widget should show debug information in debug mode only
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TextContainingWidgetFinder:<Found 0 widgets with text containing Debug test error: []>
   Which: means none were found but one was expected
Should show detailed error in debug mode

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart:94:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart line 94
The test description was:
  FAIL FIRST: Error widget should show debug information in debug mode only
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following message was thrown:
Multiple exceptions (2) were detected during the running of the current test, and at least one was
unexpected.
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:03 +40 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/video_state_test.dart: VideoState State Transitions - toFailed() transitions to failed and increments retry count
00:03 +40 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error widget should show debug information in debug mode only [E]
  Test failed. See exception logs above.
  The test description was: FAIL FIRST: Error widget should show debug information in debug mode only
  
00:03 +41 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
00:03 +42 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
00:03 +43 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
00:03 +44 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
00:03 +45 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
00:03 +46 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
00:03 +47 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
00:03 +48 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
00:03 +49 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
00:03 +50 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
00:03 +51 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
00:03 +52 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
00:03 +53 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
00:03 +54 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
00:03 +55 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
00:03 +56 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
00:03 +57 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
00:03 +58 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
00:03 +59 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
00:03 +60 -14: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery
â•â•â•¡ EXCEPTION CAUGHT BY WIDGETS LIBRARY â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following _Exception was thrown building Builder(dirty):
Exception: Retry test error

The relevant error-causing widget was:
  Builder
  Builder:file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart:110:21

When the exception was thrown, this was the stack:
#0      main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart:111:45)
#1      Builder.build (package:flutter/src/widgets/basic.dart:8226:48)
#2      StatelessElement.build (package:flutter/src/widgets/framework.dart:5791:49)
#3      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5723:15)
#4      Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#5      ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5705:5)
#6      ComponentElement.mount (package:flutter/src/widgets/framework.dart:5699:5)
...     Normal element mounting (25 frames)
#31     Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#32     MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#33     MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (332 frames)
#365    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#366    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#367    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (473 frames)
#840    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#841    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:20)
#842    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#843    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#844    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#845    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#846    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#847    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#848    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#849    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#850    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#851    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#852    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#853    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#854    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#855    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#856    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#857    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#858    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#859    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#860    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#861    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#862    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#863    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#864    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#865    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#866    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#867    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#868    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#869    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#870    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#871    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#872    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#873    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#874    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#875    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#876    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#877    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#878    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#879    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#880    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#881    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#882    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#883    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#884    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#885    _RawViewElement.update (package:flutter/src/widgets/view.dart:568:5)
#886    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#887    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#888    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#889    StatelessElement.update (package:flutter/src/widgets/framework.dart:5797:5)
#890    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#891    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#892    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#893    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#894    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#895    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#896    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1716:16)
#897    RootElement.update (package:flutter/src/widgets/binding.dart:1694:5)
#898    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1708:7)
#899    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#900    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2695:15)
#901    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2752:11)
#902    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3056:18)
#903    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1506:19)
#904    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:495:5)
#905    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1434:15)
#906    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1347:9)
#907    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1335:9)
#910    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#911    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1324:27)
#912    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#915    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#916    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#917    main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart:122:20)
#918    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#919    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TextWidgetFinder:<Found 0 widgets with text "Something went wrong": []>
   Which: means none were found but one was expected
Should show error message initially

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart:125:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart line 125
The test description was:
  FAIL FIRST: Error boundary should allow retry after error recovery
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following message was thrown:
Multiple exceptions (2) were detected during the running of the current test, and at least one was
unexpected.
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:03 +60 -15: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/global_error_handler_test.dart: Global Error Handler TDD - Error Boundary Tests FAIL FIRST: Error boundary should allow retry after error recovery [E]
  Test failed. See exception logs above.
  The test description was: FAIL FIRST: Error boundary should allow retry after error recovery
  
00:03 +60 -15: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/comment_test.dart: Comment Model Unit Tests Constructor should create comment with all required fields
00:03 +61 -15: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/comment_test.dart: Comment Model Unit Tests Constructor should create comment with optional reply fields
00:03 +62 -15: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/comment_test.dart: Comment Model Unit Tests isReply getter should return false for top-level comment
00:03 +63 -15: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/comment_test.dart: Comment Model Unit Tests isReply getter should return true for reply comment
00:03 +64 -15: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/comment_test.dart: Comment Model Unit Tests relativeTime getter should return "now" for very recent comment
00:03 +65 -15: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/comment_test.dart: Comment Model Unit Tests relativeTime getter should return "now" for comment under 1 minute
00:03 +66 -15: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/comment_test.dart: Comment Model Unit Tests relativeTime getter should return minutes for comment under 1 hour
00:03 +67 -15: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/comment_test.dart: Comment Model Unit Tests relativeTime getter should return hours for comment under 1 day
00:03 +68 -15: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/comment_test.dart: Comment Model Unit Tests relativeTime getter should return days for comment over 1 day
00:03 +69 -15: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/comment_test.dart: Comment Model Unit Tests JSON Serialization should serialize to JSON correctly
00:03 +70 -15: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/comment_test.dart: Comment Model Unit Tests JSON Serialization should deserialize from JSON correctly
00:03 +71 -15: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/comment_test.dart: Comment Model Unit Tests JSON Serialization should handle null optional fields in JSON
00:03 +72 -15: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/comment_test.dart: Comment Model Unit Tests Equality and Hashing should be equal when all fields match
00:03 +73 -15: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/comment_test.dart: Comment Model Unit Tests Equality and Hashing should not be equal when IDs differ
00:03 +74 -15: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/comment_test.dart: Comment Model Unit Tests Edge Cases should handle empty content
00:03 +75 -15: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/comment_test.dart: Comment Model Unit Tests Edge Cases should handle very long content
00:03 +76 -15: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/comment_test.dart: Comment Model Unit Tests Edge Cases should handle future timestamps
00:03 +77 -15: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/video_event_blurhash_parsing_test.dart: VideoEvent blurhash parsing should extract blurhash from imeta tag in kind 32222 event
00:04 +77 -16: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/video_event_blurhash_parsing_test.dart: VideoEvent blurhash parsing should extract blurhash from imeta tag in kind 32222 event [E]
  Invalid argument(s): Event must be a NIP-71 video kind (22, 21, 34236, 34235)
  package:openvine/models/video_event.dart 50:7                  new VideoEvent.fromNostrEvent
  test/unit/models/video_event_blurhash_parsing_test.dart 42:37  main.<fn>.<fn>
  
00:04 +77 -16: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/video_event_blurhash_parsing_test.dart: VideoEvent blurhash parsing should extract blurhash from another real event format
00:04 +77 -17: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/video_event_blurhash_parsing_test.dart: VideoEvent blurhash parsing should extract blurhash from another real event format [E]
  Invalid argument(s): Event must be a NIP-71 video kind (22, 21, 34236, 34235)
  package:openvine/models/video_event.dart 50:7                  new VideoEvent.fromNostrEvent
  test/unit/models/video_event_blurhash_parsing_test.dart 93:37  main.<fn>.<fn>
  
00:04 +77 -17: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/video_event_blurhash_parsing_test.dart: VideoEvent blurhash parsing should handle event without blurhash gracefully
00:04 +77 -18: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/video_event_blurhash_parsing_test.dart: VideoEvent blurhash parsing should handle event without blurhash gracefully [E]
  Invalid argument(s): Event must be a NIP-71 video kind (22, 21, 34236, 34235)
  package:openvine/models/video_event.dart 50:7                   new VideoEvent.fromNostrEvent
  test/unit/models/video_event_blurhash_parsing_test.dart 126:37  main.<fn>.<fn>
  
00:04 +77 -18: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/video_event_blurhash_parsing_test.dart: VideoEvent blurhash parsing should handle malformed imeta tag gracefully
00:04 +77 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/models/video_event_blurhash_parsing_test.dart: VideoEvent blurhash parsing should handle malformed imeta tag gracefully [E]
  Expected: return normally
    Actual: <Closure: () => VideoEvent>
     Which: threw ArgumentError:<Invalid argument(s): Event must be a NIP-71 video kind (22, 21, 34236, 34235)>
  
  package:matcher                                                expect
  package:flutter_test/src/widget_tester.dart 473:18             expect
  test/unit/models/video_event_blurhash_parsing_test.dart 155:7  main.<fn>.<fn>
  
00:04 +77 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/embedded_relay_unit_test.dart: Embedded Nostr Relay Configuration should default to relay3.openvine.co
00:04 +78 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/embedded_relay_unit_test.dart: Embedded Nostr Relay Configuration should provide relay discovery methods
00:04 +79 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/embedded_relay_unit_test.dart: Embedded Nostr Relay Configuration should support adding and removing relays
00:04 +80 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/embedded_relay_unit_test.dart: Embedded Nostr Relay Configuration should have proper event conversion methods
00:04 +81 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/screens/explore_screen_pagination_test.dart: ExploreScreen Pagination Tests Pagination threshold calculation works correctly
00:04 +82 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/screens/explore_screen_pagination_test.dart: ExploreScreen Pagination Tests VideoEvent can be created with required parameters
00:04 +83 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/screens/explore_screen_pagination_test.dart: ExploreScreen Pagination Tests Rate limiting time calculation works correctly
00:04 +84 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/screens/explore_screen_pagination_test.dart: ExploreScreen Pagination Tests Grid pagination threshold logic works correctly
00:04 +85 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/screens/explore_screen_pagination_test.dart: ExploreScreen Pagination Tests PageView pagination threshold logic works correctly
00:05 +86 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/user_avatar_tdd_test.dart: UserAvatar shows fallback initial when image fails
00:05 +87 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/user_avatar_tdd_test.dart: UserAvatar shows fallback initial when image fails
00:05 +88 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/user_avatar_tdd_test.dart: UserAvatar shows fallback initial when image fails
00:05 +89 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/user_avatar_tdd_test.dart: UserAvatar shows fallback initial when image fails
00:05 +90 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/user_avatar_tdd_test.dart: UserAvatar shows fallback initial when image fails
00:05 +91 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/screens/video_metadata_screen_wiring_test.dart: VideoMetadataScreenPure Service Wiring should access upload manager and auth service from providers
00:05 +92 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/screens/video_metadata_screen_wiring_test.dart: VideoMetadataScreenPure Service Wiring should access upload manager and auth service from providers
00:05 +93 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/screens/video_metadata_screen_wiring_test.dart: VideoMetadataScreenPure Service Wiring should access upload manager and auth service from providers
00:05 +94 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/screens/video_metadata_screen_wiring_test.dart: VideoMetadataScreenPure Service Wiring should access upload manager and auth service from providers
00:05 +95 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/screens/video_metadata_screen_wiring_test.dart: VideoMetadataScreenPure Service Wiring should access upload manager and auth service from providers
00:06 +96 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/screens/video_metadata_screen_wiring_test.dart: VideoMetadataScreenPure Service Wiring should access upload manager and auth service from providers
00:06 +97 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/screens/video_metadata_screen_wiring_test.dart: VideoMetadataScreenPure Service Wiring should access upload manager and auth service from providers
00:06 +98 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/screens/video_metadata_screen_wiring_test.dart: VideoMetadataScreenPure Service Wiring should access upload manager and auth service from providers
00:06 +99 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/screens/video_metadata_screen_wiring_test.dart: VideoMetadataScreenPure Service Wiring should access upload manager and auth service from providers
00:06 +100 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/screens/video_metadata_screen_wiring_test.dart: VideoMetadataScreenPure Service Wiring should access upload manager and auth service from providers
00:06 +101 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/screens/video_metadata_screen_wiring_test.dart: VideoMetadataScreenPure Service Wiring should access upload manager and auth service from providers
00:06 +102 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/screens/video_metadata_screen_wiring_test.dart: VideoMetadataScreenPure Service Wiring should access upload manager and auth service from providers
00:06 +103 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/screens/video_metadata_screen_wiring_test.dart: VideoMetadataScreenPure Service Wiring should have access to required services when publish button tapped
00:06 +104 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/profile_screen_empty_container_test.dart: Profile Screen Empty Container TDD - Loading/Error State Tests FAIL FIRST: ProfileScreen should show loading indicator instead of empty Container
00:06 +105 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/profile_screen_empty_container_test.dart: Profile Screen Empty Container TDD - Loading/Error State Tests FAIL FIRST: ProfileScreen should show loading indicator instead of empty Container
00:06 +106 -19: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/profile_screen_empty_container_test.dart: Profile Screen Empty Container TDD - Loading/Error State Tests FAIL FIRST: ProfileScreen should show error placeholder for failed video loads
00:07 +106 -20: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/profile_screen_empty_container_test.dart: Profile Screen Empty Container TDD - Loading/Error State Tests FAIL FIRST: ProfileScreen should show error placeholder for failed video loads
00:07 +107 -20: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/profile_screen_empty_container_test.dart: Profile Screen Empty Container TDD - Loading/Error State Tests FAIL FIRST: ProfileScreen placeholder should have consistent styling with video grid
00:07 +107 -20: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_kind_32222_test.dart: VideoEvent Kind 32222 NIP-32222 Compliance should parse Kind 32222 addressable video event with all required tags [E]
  Invalid argument(s): Event must be a NIP-71 video kind (22, 21, 34236, 34235)
  package:openvine/models/video_event.dart 50:7     new VideoEvent.fromNostrEvent
  test/unit/video_event_kind_32222_test.dart 40:37  main.<fn>.<fn>
  
00:07 +108 -20: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_kind_32222_test.dart: VideoEvent Kind 32222 NIP-32222 Compliance should reject Kind 22 events
00:07 +108 -21: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_kind_32222_test.dart: VideoEvent Kind 32222 NIP-32222 Compliance should reject Kind 22 events [E]
  Expected: throws <Instance of 'ArgumentError'> with `message`: contains 'Event must be kind 32222'
    Actual: <Closure: () => VideoEvent>
     Which: returned VideoEvent:<VideoEvent(id: 72628d8b..., pubkey: 79be667e, title: Old Format Video, duration: , time: now)>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test/unit/video_event_kind_32222_test.dart 77:7     main.<fn>.<fn>
  
00:07 +108 -21: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_kind_32222_test.dart: VideoEvent Kind 32222 NIP-32222 Compliance should require d tag for Kind 32222 events
00:07 +108 -22: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_kind_32222_test.dart: VideoEvent Kind 32222 NIP-32222 Compliance should require d tag for Kind 32222 events [E]
  Expected: throws <Instance of 'ArgumentError'> with `message`: contains 'must have a "d" tag identifier'
    Actual: <Closure: () => VideoEvent>
     Which: threw ArgumentError:<Invalid argument(s): Event must be a NIP-71 video kind (22, 21, 34236, 34235)>
            stack package:openvine/models/video_event.dart 50:7       new VideoEvent.fromNostrEvent
                  test/unit/video_event_kind_32222_test.dart 101:26   main.<fn>.<fn>.<fn>
                  package:matcher                                     expect
                  package:flutter_test/src/widget_tester.dart 473:18  expect
                  test/unit/video_event_kind_32222_test.dart 100:7    main.<fn>.<fn>
                  
            which has `message` with value 'Event must be a NIP-71 video kind (22, 21, 34236, 34235)' which does not contain 'must have a "d" tag identifier'
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test/unit/video_event_kind_32222_test.dart 100:7    main.<fn>.<fn>
  
00:07 +108 -22: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_kind_32222_test.dart: VideoEvent Kind 32222 NIP-32222 Compliance should parse imeta tag with all properties
00:07 +108 -23: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_kind_32222_test.dart: VideoEvent Kind 32222 NIP-32222 Compliance should parse imeta tag with all properties [E]
  Invalid argument(s): Event must be a NIP-71 video kind (22, 21, 34236, 34235)
  package:openvine/models/video_event.dart 50:7      new VideoEvent.fromNostrEvent
  test/unit/video_event_kind_32222_test.dart 131:37  main.<fn>.<fn>
  
00:07 +108 -23: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_kind_32222_test.dart: VideoEvent Kind 32222 NIP-32222 Compliance should handle multiple imeta tags for different qualities
00:07 +108 -24: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_kind_32222_test.dart: VideoEvent Kind 32222 NIP-32222 Compliance should handle multiple imeta tags for different qualities [E]
  Invalid argument(s): Event must be a NIP-71 video kind (22, 21, 34236, 34235)
  package:openvine/models/video_event.dart 50:7      new VideoEvent.fromNostrEvent
  test/unit/video_event_kind_32222_test.dart 173:37  main.<fn>.<fn>
  
00:07 +108 -24: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_kind_32222_test.dart: VideoEvent Kind 32222 NIP-32222 Compliance should parse origin tag for imported content
00:07 +108 -25: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_kind_32222_test.dart: VideoEvent Kind 32222 NIP-32222 Compliance should parse origin tag for imported content [E]
  Invalid argument(s): Event must be a NIP-71 video kind (22, 21, 34236, 34235)
  package:openvine/models/video_event.dart 50:7      new VideoEvent.fromNostrEvent
  test/unit/video_event_kind_32222_test.dart 193:37  main.<fn>.<fn>
  
00:07 +108 -25: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_kind_32222_test.dart: VideoEvent Kind 32222 NIP-32222 Compliance should generate addressable event reference tag
00:07 +108 -26: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/video_event_kind_32222_test.dart: VideoEvent Kind 32222 NIP-32222 Compliance should generate addressable event reference tag [E]
  Invalid argument(s): Event must be a NIP-71 video kind (22, 21, 34236, 34235)
  package:openvine/models/video_event.dart 50:7      new VideoEvent.fromNostrEvent
  test/unit/video_event_kind_32222_test.dart 211:37  main.<fn>.<fn>
  
00:07 +108 -26: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/error_widget_test.dart: Error Widget Builder Tests ErrorWidget.builder shows user-friendly error in release mode
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TextWidgetFinder:<Found 0 widgets with text "Something went wrong": []>
   Which: means none were found but one was expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/error_widget_test.dart:25:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/error_widget_test.dart line 25
The test description was:
  ErrorWidget.builder shows user-friendly error in release mode
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:07 +108 -27: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/error_widget_test.dart: Error Widget Builder Tests ErrorWidget.builder shows user-friendly error in release mode [E]
  Test failed. See exception logs above.
  The test description was: ErrorWidget.builder shows user-friendly error in release mode
  
00:07 +108 -27: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/error_widget_test.dart: Error Widget Builder Tests Custom error widget has proper styling
00:07 +108 -27: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_performance_unit_test.dart: NostrService Performance Unit Tests service instantiation is fast
[12:44:52.766] Service instantiation time: 0ms
[12:44:52.768] Starting disposal...
[12:44:52.769] Disposal complete
[12:44:52.770] Starting disposal...
[12:44:52.770] Disposal complete
00:07 +109 -27: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/error_widget_test.dart: Error Widget Builder Tests Custom error widget has proper styling
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following TestFailure was thrown running a test:
Expected: at least one matching candidate
  Actual: _TypeWidgetFinder:<Found 0 widgets with type "Container": []>
   Which: means none were found but some were expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/error_widget_test.dart:40:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/error_widget_test.dart line 40
The test description was:
  Custom error widget has proper styling
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:07 +109 -28: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_performance_unit_test.dart: NostrService Performance Unit Tests relay status queries are fast
00:07 +109 -28: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/error_widget_test.dart: Error Widget Builder Tests Custom error widget has proper styling [E]
  Test failed. See exception logs above.
  The test description was: Custom error widget has proper styling
  
00:07 +109 -29: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/error_widget_test.dart: Error Widget Builder Tests Error widget displays exception message in debug mode
00:07 +109 -29: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_performance_unit_test.dart: NostrService Performance Unit Tests relay status queries are fast [E]
  Expected: non-empty
    Actual: {}
  
  package:matcher                                                    expect
  package:flutter_test/src/widget_tester.dart 473:18                 expect
  test/unit/services/embedded_relay_performance_unit_test.dart 50:9  main.<fn>.<fn>
  
[12:44:52.808] Starting disposal...
[12:44:52.809] Disposal complete
00:07 +109 -29: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/error_widget_test.dart: Error Widget Builder Tests Error widget displays exception message in debug mode
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TextContainingWidgetFinder:<Found 0 widgets with text containing Debug mode test error:
[]>
   Which: means none were found but one was expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/error_widget_test.dart:62:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/error_widget_test.dart line 62
The test description was:
  Error widget displays exception message in debug mode
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:07 +109 -30: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_performance_unit_test.dart: NostrService Performance Unit Tests auth state queries are fast
00:07 +109 -30: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/error_widget_test.dart: Error Widget Builder Tests Error widget displays exception message in debug mode [E]
  Test failed. See exception logs above.
  The test description was: Error widget displays exception message in debug mode
  
00:07 +109 -30: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_performance_unit_test.dart: NostrService Performance Unit Tests auth state queries are fast
[12:44:52.815] 100 auth queries time: 1ms (0.01ms per query)
[12:44:52.816] Starting disposal...
[12:44:52.817] Disposal complete
00:07 +110 -30: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_performance_unit_test.dart: NostrService Performance Unit Tests subscription stream creation is fast
[12:44:52.822] Subscription stream creation time: 2ms
[12:44:52.823] Starting disposal...
[12:44:52.823] Disposal complete
00:07 +111 -30: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_performance_unit_test.dart: NostrService Performance Unit Tests multiple relay operations are efficient
00:07 +111 -31: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_performance_unit_test.dart: NostrService Performance Unit Tests multiple relay operations are efficient [E]
  Expected: non-empty
    Actual: {}
  
  package:matcher                                                     expect
  package:flutter_test/src/widget_tester.dart 473:18                  expect
  test/unit/services/embedded_relay_performance_unit_test.dart 122:9  main.<fn>.<fn>
  
[12:44:52.833] Starting disposal...
[12:44:52.833] Disposal complete
00:07 +111 -31: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_performance_unit_test.dart: NostrService Performance Unit Tests search interface responds quickly
00:07 +111 -32: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_performance_unit_test.dart: NostrService Performance Unit Tests search interface responds quickly [E]
  Bad state: NostrService not initialized
  package:openvine/services/nostr_service.dart 804:26                  NostrService.searchVideos
  test/unit/services/embedded_relay_performance_unit_test.dart 152:49  main.<fn>.<fn>
  
[12:44:52.840] Starting disposal...
[12:44:52.840] Disposal complete
00:07 +111 -32: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_performance_unit_test.dart: NostrService Performance Unit Tests P2P interface responds quickly
[12:44:52.843] P2P interface response time: 0ms
[12:44:52.843] Starting disposal...
[12:44:52.843] Disposal complete
00:07 +112 -32: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_performance_unit_test.dart: NostrService Performance Unit Tests service disposal is fast
[12:44:52.845] Starting disposal...
[12:44:52.846] Service disposal time: 0ms
[12:44:52.846] Disposal complete
[12:44:52.847] Starting disposal...
[12:44:52.848] Disposal complete
00:07 +113 -32: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_performance_unit_test.dart: NostrService Performance Unit Tests performance comparison demonstrates embedded relay speed advantage
00:07 +113 -33: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_performance_unit_test.dart: NostrService Performance Unit Tests performance comparison demonstrates embedded relay speed advantage [E]
  Expected: a value greater than <0>
    Actual: <0>
     Which: is not a value greater than <0>
  
  package:matcher                                                     expect
  package:flutter_test/src/widget_tester.dart 473:18                  expect
  test/unit/services/embedded_relay_performance_unit_test.dart 201:7  main.<fn>.<fn>
  
[12:44:52.859] Starting disposal...
[12:44:52.860] Disposal complete
00:08 +113 -33: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_pagination_test.dart: PaginationState should initialize with hasMore=true and no events received
00:08 +114 -33: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/subscription_manager_filter_test.dart: SubscriptionManager Filter Preservation should preserve hashtag filters when optimizing
00:08 +115 -33: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/subscription_manager_filter_test.dart: SubscriptionManager Filter Preservation should preserve hashtag filters when optimizing
00:08 +116 -33: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/subscription_manager_filter_test.dart: SubscriptionManager Filter Preservation should preserve hashtag filters when optimizing
00:08 +117 -33: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/subscription_manager_filter_test.dart: SubscriptionManager Filter Preservation should preserve hashtag filters when optimizing
00:08 +118 -33: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/subscription_manager_filter_test.dart: SubscriptionManager Filter Preservation should preserve hashtag filters when optimizing
00:08 +118 -34: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_pagination_test.dart: PaginationState should keep hasMore=true when more events received than requested
00:08 +119 -34: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_pagination_test.dart: PaginationState should track oldest timestamp correctly
00:08 +120 -34: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_pagination_test.dart: PaginationState should reset all state correctly
00:08 +121 -34: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_pagination_test.dart: VideoEventService Pagination should return early when pagination state has no more content
ğŸ” Streaming historical query for SubscriptionType.discovery: until=none, limit=50
00:08 +122 -34: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_pagination_test.dart: VideoEventService Pagination should return early when pagination state is already loading
00:08 +122 -34: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/subscription_manager_filter_test.dart: SubscriptionManager Filter Preservation should preserve hashtag filters when optimizing [E]
  Expected: a value less than or equal to <100>
    Actual: <200>
     Which: is not a value less than or equal to <100>
  
  package:matcher                                                expect
  package:flutter_test/src/widget_tester.dart 473:18             expect
  test/unit/services/subscription_manager_filter_test.dart 61:7  main.<fn>.<fn>
  
00:08 +123 -34: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/subscription_manager_filter_test.dart: SubscriptionManager Filter Preservation should preserve group (h) filters when optimizing
00:08 +124 -34: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_pagination_test.dart: Historical Events Processing should increment event counter when processing historical events
00:08 +124 -35: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_pagination_test.dart: Historical Events Processing should increment event counter when processing historical events
00:08 +125 -35: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_pagination_test.dart: Historical Events Processing should not increment counter for real-time events during historical query
00:08 +125 -35: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/subscription_manager_filter_test.dart: SubscriptionManager Filter Preservation should preserve both hashtag and group filters [E]
  Expected: <100>
    Actual: <250>
  
  package:matcher                                                 expect
  package:flutter_test/src/widget_tester.dart 473:18              expect
  test/unit/services/subscription_manager_filter_test.dart 139:7  main.<fn>.<fn>
  
00:08 +126 -35: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/subscription_manager_filter_test.dart: SubscriptionManager Filter Preservation should handle null hashtag and group filters
00:08 +127 -35: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/subscription_manager_filter_test.dart: SubscriptionManager Filter Preservation should optimize multiple filters independently
00:08 +127 -36: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/subscription_manager_filter_test.dart: SubscriptionManager Filter Preservation should optimize multiple filters independently [E]
  Expected: <100>
    Actual: <200>
  
  package:matcher                                                 expect
  package:flutter_test/src/widget_tester.dart 473:18              expect
  test/unit/services/subscription_manager_filter_test.dart 221:7  main.<fn>.<fn>
  
00:08 +127 -36: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/subscription_manager_filter_test.dart: SubscriptionManager Filter Preservation should not modify limits under 100
00:08 +128 -36: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/simple_video_cache_tdd_test.dart: VideoCacheService TDD should start with empty cache
00:08 +129 -36: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/simple_video_cache_tdd_test.dart: VideoCacheService TDD should add video to cache
00:08 +130 -36: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/simple_video_cache_tdd_test.dart: VideoCacheService TDD should prevent duplicate videos
00:08 +131 -36: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/simple_video_cache_tdd_test.dart: VideoCacheService TDD should clear cache
00:08 +132 -36: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_subscription_test.dart: (setUpAll)
00:08 +132 -36: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_subscription_test.dart: VideoEventService Subscription Duplicate Checking should allow different subscriptions with different parameters
00:08 +132 -37: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_subscription_test.dart: VideoEventService Subscription Duplicate Checking should allow different subscriptions with different parameters [E]
  Expected: <1>
    Actual: <0>
  
  package:matcher                                                      expect
  package:flutter_test/src/widget_tester.dart 473:18                   expect
  test/unit/services/video_event_service_subscription_test.dart 102:7  main.<fn>.<fn>
  
00:08 +132 -37: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_subscription_test.dart: VideoEventService Subscription Duplicate Checking should reject truly duplicate subscriptions
00:08 +133 -37: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_subscription_test.dart: VideoEventService Subscription Duplicate Checking should allow multiple author-specific subscriptions
00:08 +134 -37: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_subscription_test.dart: VideoEventService Subscription Duplicate Checking should correctly handle replace parameter
00:08 +134 -38: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_subscription_test.dart: VideoEventService Subscription Duplicate Checking should correctly handle replace parameter [E]
  Expected: <1>
    Actual: <0>
  
  package:matcher                                                      expect
  package:flutter_test/src/widget_tester.dart 473:18                   expect
  test/unit/services/video_event_service_subscription_test.dart 236:7  main.<fn>.<fn>
  
00:08 +134 -38: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_subscription_test.dart: VideoEventService Subscription Duplicate Checking should track active subscription parameters
00:08 +134 -39: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_subscription_test.dart: VideoEventService Subscription Duplicate Checking should track active subscription parameters [E]
  Expected: <1>
    Actual: <0>
  
  package:matcher                                                      expect
  package:flutter_test/src/widget_tester.dart 473:18                   expect
  test/unit/services/video_event_service_subscription_test.dart 272:7  main.<fn>.<fn>
  
00:08 +134 -39: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_subscription_test.dart: VideoEventService Subscription Duplicate Checking should handle the classic vines -> open feed sequence correctly
00:08 +135 -39: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_subscription_test.dart: (tearDownAll)
00:09 +135 -39: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/social_service_comment_test.dart: SocialService Comment Unit Tests postComment method should throw exception when user not authenticated
[12:44:54.124] [SYSTEM] ğŸ¤ Initializing SocialService
[12:44:54.128] [SYSTEM] SocialService initialization error: MissingStubError: 'isAuthenticated'
No stub was found which matches the arguments of this method call:
isAuthenticated

Add a stub for this method using Mockito's 'when' API, or generate the MockAuthService mock with the @GenerateNiceMocks annotation (see https://pub.dev/documentation/mockito/latest/annotations/MockSpec-class.html).
[12:44:54.134] [SYSTEM] Cannot post comment - user not authenticated
[12:44:54.141] [SYSTEM] ğŸ“±ï¸ Disposing SocialService
00:09 +136 -39: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/social_service_comment_test.dart: SocialService Comment Unit Tests postComment method should throw exception when comment content is empty
[12:44:54.146] [SYSTEM] ğŸ¤ Initializing SocialService
[12:44:54.147] [SYSTEM] SocialService initialization error: MissingStubError: 'isAuthenticated'
No stub was found which matches the arguments of this method call:
isAuthenticated

Add a stub for this method using Mockito's 'when' API, or generate the MockAuthService mock with the @GenerateNiceMocks annotation (see https://pub.dev/documentation/mockito/latest/annotations/MockSpec-class.html).
[12:44:54.147] [SYSTEM] Cannot post empty comment
[12:44:54.149] [SYSTEM] ğŸ“±ï¸ Disposing SocialService
00:09 +137 -39: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/social_service_comment_test.dart: SocialService Comment Unit Tests postComment method should create event with correct tags for top-level comment
[12:44:54.153] [SYSTEM] ğŸ¤ Initializing SocialService
[12:44:54.154] [SYSTEM] SocialService initialization error: MissingStubError: 'isAuthenticated'
No stub was found which matches the arguments of this method call:
isAuthenticated

Add a stub for this method using Mockito's 'when' API, or generate the MockAuthService mock with the @GenerateNiceMocks annotation (see https://pub.dev/documentation/mockito/latest/annotations/MockSpec-class.html).
[12:44:54.168] [SYSTEM] ğŸ“± Posting comment to event: a1b2c3d4...
[12:44:54.170] [SYSTEM] Comment posted successfully: 3e1edb7c...
[12:44:54.175] [SYSTEM] ğŸ“±ï¸ Disposing SocialService
00:09 +138 -39: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/social_service_comment_test.dart: SocialService Comment Unit Tests postComment method should create event with correct tags for reply comment
[12:44:54.182] [SYSTEM] ğŸ¤ Initializing SocialService
[12:44:54.183] [SYSTEM] SocialService initialization error: MissingStubError: 'isAuthenticated'
No stub was found which matches the arguments of this method call:
isAuthenticated

Add a stub for this method using Mockito's 'when' API, or generate the MockAuthService mock with the @GenerateNiceMocks annotation (see https://pub.dev/documentation/mockito/latest/annotations/MockSpec-class.html).
[12:44:54.186] [SYSTEM] ğŸ“± Posting comment to event: a1b2c3d4...
[12:44:54.186] [SYSTEM] Comment posted successfully: 6f1120c8...
[12:44:54.188] [SYSTEM] ğŸ“±ï¸ Disposing SocialService
00:09 +139 -39: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/social_service_comment_test.dart: SocialService Comment Unit Tests postComment method should broadcast event to relays
[12:44:54.200] [SYSTEM] ğŸ¤ Initializing SocialService
[12:44:54.201] [SYSTEM] SocialService initialization error: MissingStubError: 'isAuthenticated'
No stub was found which matches the arguments of this method call:
isAuthenticated

Add a stub for this method using Mockito's 'when' API, or generate the MockAuthService mock with the @GenerateNiceMocks annotation (see https://pub.dev/documentation/mockito/latest/annotations/MockSpec-class.html).
00:09 +139 -40: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/social_service_comment_test.dart: SocialService Comment Unit Tests postComment method should broadcast event to relays [E]
  Invalid argument(s): An argument matcher (like `any`) was either not used as an immediate argument to Symbol("createAndSignEvent") (argument matchers can only be used as an argument for the very method being stubbed or verified), or was used as a named argument without the Mockito "named" API (Each argument matcher that is used as a named argument needs to specify the name of the argument it is being used in. For example: `when(obj.fn(x: anyNamed("x")))`).
  package:mockito/src/mock.dart 491:7                               _InvocationForMatchedArguments._reconstitutePositionalArgs
  package:mockito/src/mock.dart 397:33                              new _InvocationForMatchedArguments
  package:mockito/src/mock.dart 363:18                              _useMatchedInvocationIfSet
  package:mockito/src/mock.dart 168:18                              Mock.noSuchMethod
  test/unit/services/social_service_comment_test.mocks.dart 493:14  MockAuthService.createAndSignEvent
  test/unit/services/social_service_comment_test.dart 242:27        main.<fn>.<fn>.<fn>
  
[12:44:54.244] [SYSTEM] ğŸ“±ï¸ Disposing SocialService
00:09 +139 -40: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/social_service_comment_test.dart: SocialService Comment Unit Tests postComment method should throw exception when event creation fails
[12:44:54.249] [SYSTEM] ğŸ¤ Initializing SocialService
[12:44:54.250] [SYSTEM] SocialService initialization error: MissingStubError: 'isAuthenticated'
No stub was found which matches the arguments of this method call:
isAuthenticated

Add a stub for this method using Mockito's 'when' API, or generate the MockAuthService mock with the @GenerateNiceMocks annotation (see https://pub.dev/documentation/mockito/latest/annotations/MockSpec-class.html).
00:09 +139 -41: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/social_service_comment_test.dart: SocialService Comment Unit Tests postComment method should throw exception when event creation fails [E]
  Invalid argument(s): An argument matcher (like `any`) was either not used as an immediate argument to Symbol("createAndSignEvent") (argument matchers can only be used as an argument for the very method being stubbed or verified), or was used as a named argument without the Mockito "named" API (Each argument matcher that is used as a named argument needs to specify the name of the argument it is being used in. For example: `when(obj.fn(x: anyNamed("x")))`).
  package:mockito/src/mock.dart 491:7                               _InvocationForMatchedArguments._reconstitutePositionalArgs
  package:mockito/src/mock.dart 397:33                              new _InvocationForMatchedArguments
  package:mockito/src/mock.dart 363:18                              _useMatchedInvocationIfSet
  package:mockito/src/mock.dart 168:18                              Mock.noSuchMethod
  test/unit/services/social_service_comment_test.mocks.dart 493:14  MockAuthService.createAndSignEvent
  test/unit/services/social_service_comment_test.dart 274:27        main.<fn>.<fn>.<fn>
  
[12:44:54.263] [SYSTEM] ğŸ“±ï¸ Disposing SocialService
00:09 +139 -41: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/social_service_comment_test.dart: SocialService Comment Unit Tests postComment method should throw exception when broadcast fails
[12:44:54.268] [SYSTEM] ğŸ¤ Initializing SocialService
[12:44:54.269] [SYSTEM] SocialService initialization error: MissingStubError: 'isAuthenticated'
No stub was found which matches the arguments of this method call:
isAuthenticated

Add a stub for this method using Mockito's 'when' API, or generate the MockAuthService mock with the @GenerateNiceMocks annotation (see https://pub.dev/documentation/mockito/latest/annotations/MockSpec-class.html).
00:09 +139 -42: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/social_service_comment_test.dart: SocialService Comment Unit Tests postComment method should throw exception when broadcast fails [E]
  Invalid argument(s): An argument matcher (like `any`) was either not used as an immediate argument to Symbol("createAndSignEvent") (argument matchers can only be used as an argument for the very method being stubbed or verified), or was used as a named argument without the Mockito "named" API (Each argument matcher that is used as a named argument needs to specify the name of the argument it is being used in. For example: `when(obj.fn(x: anyNamed("x")))`).
  package:mockito/src/mock.dart 491:7                               _InvocationForMatchedArguments._reconstitutePositionalArgs
  package:mockito/src/mock.dart 397:33                              new _InvocationForMatchedArguments
  package:mockito/src/mock.dart 363:18                              _useMatchedInvocationIfSet
  package:mockito/src/mock.dart 168:18                              Mock.noSuchMethod
  test/unit/services/social_service_comment_test.mocks.dart 493:14  MockAuthService.createAndSignEvent
  test/unit/services/social_service_comment_test.dart 314:27        main.<fn>.<fn>.<fn>
  
[12:44:54.279] [SYSTEM] ğŸ“±ï¸ Disposing SocialService
00:09 +139 -42: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/social_service_comment_test.dart: SocialService Comment Unit Tests postComment method should trim whitespace from comment content
[12:44:54.281] [SYSTEM] ğŸ¤ Initializing SocialService
[12:44:54.282] [SYSTEM] SocialService initialization error: MissingStubError: 'isAuthenticated'
No stub was found which matches the arguments of this method call:
isAuthenticated

Add a stub for this method using Mockito's 'when' API, or generate the MockAuthService mock with the @GenerateNiceMocks annotation (see https://pub.dev/documentation/mockito/latest/annotations/MockSpec-class.html).
00:09 +139 -43: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/social_service_comment_test.dart: SocialService Comment Unit Tests postComment method should trim whitespace from comment content [E]
  Invalid argument(s): An argument matcher (like `any`) was either not used as an immediate argument to Symbol("createAndSignEvent") (argument matchers can only be used as an argument for the very method being stubbed or verified), or was used as a named argument without the Mockito "named" API (Each argument matcher that is used as a named argument needs to specify the name of the argument it is being used in. For example: `when(obj.fn(x: anyNamed("x")))`).
  package:mockito/src/mock.dart 491:7                               _InvocationForMatchedArguments._reconstitutePositionalArgs
  package:mockito/src/mock.dart 397:33                              new _InvocationForMatchedArguments
  package:mockito/src/mock.dart 363:18                              _useMatchedInvocationIfSet
  package:mockito/src/mock.dart 168:18                              Mock.noSuchMethod
  test/unit/services/social_service_comment_test.mocks.dart 493:14  MockAuthService.createAndSignEvent
  test/unit/services/social_service_comment_test.dart 367:27        main.<fn>.<fn>.<fn>
  
[12:44:54.289] [SYSTEM] ğŸ“±ï¸ Disposing SocialService
00:09 +139 -43: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/social_service_comment_test.dart: SocialService Comment Unit Tests fetchCommentsForEvent method should return stream of comment events
[12:44:54.295] [SYSTEM] ğŸ¤ Initializing SocialService
[12:44:54.296] [SYSTEM] SocialService initialization error: MissingStubError: 'isAuthenticated'
No stub was found which matches the arguments of this method call:
isAuthenticated

Add a stub for this method using Mockito's 'when' API, or generate the MockAuthService mock with the @GenerateNiceMocks annotation (see https://pub.dev/documentation/mockito/latest/annotations/MockSpec-class.html).
[12:44:54.300] [SYSTEM] ğŸ“± Fetching comments for event: a1b2c3d4...
00:09 +139 -44: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/social_service_comment_test.dart: SocialService Comment Unit Tests fetchCommentsForEvent method should return stream of comment events [E]
  MissingStubError: 'createSubscription'
  No stub was found which matches the arguments of this method call:
  createSubscription({name: comments_a1b2c3d4, filters: [Instance of 'Filter'], onEvent: Closure: (Event) => Null, onError: Closure: (dynamic) => Null, onComplete: Closure: () => Null, timeout: 0:02:00.000000, priority: 6})
  
  Add a stub for this method using Mockito's 'when' API, or generate the MockSubscriptionManager mock with the @GenerateNiceMocks annotation (see https://pub.dev/documentation/mockito/latest/annotations/MockSpec-class.html).
  package:mockito/src/mock.dart 200:7                               Mock._noSuchMethod
  package:mockito/src/mock.dart 194:47                              Mock.noSuchMethod
  test/unit/services/social_service_comment_test.mocks.dart 558:14  MockSubscriptionManager.createSubscription
  package:openvine/services/social_service.dart 1520:10             SocialService.fetchCommentsForEvent
  test/unit/services/social_service_comment_test.dart 420:38        main.<fn>.<fn>.<fn>
  
[12:44:54.311] [SYSTEM] ğŸ“±ï¸ Disposing SocialService
00:09 +139 -44: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/social_service_comment_test.dart: SocialService Comment Unit Tests fetchCommentsForEvent method should subscribe with correct filter for comments
[12:44:54.317] [SYSTEM] ğŸ¤ Initializing SocialService
[12:44:54.318] [SYSTEM] SocialService initialization error: MissingStubError: 'isAuthenticated'
No stub was found which matches the arguments of this method call:
isAuthenticated

Add a stub for this method using Mockito's 'when' API, or generate the MockAuthService mock with the @GenerateNiceMocks annotation (see https://pub.dev/documentation/mockito/latest/annotations/MockSpec-class.html).
[12:44:54.319] [SYSTEM] ğŸ“± Fetching comments for event: a1b2c3d4...
00:09 +139 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/social_service_comment_test.dart: SocialService Comment Unit Tests fetchCommentsForEvent method should subscribe with correct filter for comments [E]
  MissingStubError: 'createSubscription'
  No stub was found which matches the arguments of this method call:
  createSubscription({name: comments_a1b2c3d4, filters: [Instance of 'Filter'], onEvent: Closure: (Event) => Null, onError: Closure: (dynamic) => Null, onComplete: Closure: () => Null, timeout: 0:02:00.000000, priority: 6})
  
  Add a stub for this method using Mockito's 'when' API, or generate the MockSubscriptionManager mock with the @GenerateNiceMocks annotation (see https://pub.dev/documentation/mockito/latest/annotations/MockSpec-class.html).
  package:mockito/src/mock.dart 200:7                               Mock._noSuchMethod
  package:mockito/src/mock.dart 194:47                              Mock.noSuchMethod
  test/unit/services/social_service_comment_test.mocks.dart 558:14  MockSubscriptionManager.createSubscription
  package:openvine/services/social_service.dart 1520:10             SocialService.fetchCommentsForEvent
  test/unit/services/social_service_comment_test.dart 439:23        main.<fn>.<fn>.<fn>
  
[12:44:54.330] [SYSTEM] ğŸ“±ï¸ Disposing SocialService
00:09 +139 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_cache_service_tdd_test.dart: VideoCacheService TDD Tests Basic Caching Operations should start with empty cache
00:09 +140 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_cache_service_tdd_test.dart: VideoCacheService TDD Tests Basic Caching Operations should add video to cache
00:09 +141 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_cache_service_tdd_test.dart: VideoCacheService TDD Tests Basic Caching Operations should prevent duplicate videos
00:09 +142 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_cache_service_tdd_test.dart: VideoCacheService TDD Tests Basic Caching Operations should retrieve video by ID
00:09 +143 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_cache_service_tdd_test.dart: VideoCacheService TDD Tests Basic Caching Operations should return null for non-existent video ID
00:09 +144 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_cache_service_tdd_test.dart: VideoCacheService TDD Tests Priority-based Insertion classic vines should be prioritized at top
00:09 +145 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_cache_service_tdd_test.dart: VideoCacheService TDD Tests Priority-based Insertion multiple classic vines should randomize among themselves
00:09 +146 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_cache_service_tdd_test.dart: VideoCacheService TDD Tests Query Operations should get videos by author
00:09 +147 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_cache_service_tdd_test.dart: VideoCacheService TDD Tests Query Operations should get videos by hashtags
00:09 +148 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_cache_service_tdd_test.dart: VideoCacheService TDD Tests Cache Management should clear all cached videos
00:09 +149 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_cache_service_tdd_test.dart: VideoCacheService TDD Tests Cache Management should check if video exists in cache
00:09 +150 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_cache_service_tdd_test.dart: VideoCacheService TDD Tests Cache Management should handle batch video additions
00:10 +151 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_hashtag_dedup_integration_test.dart: VideoEventService Hashtag Deduplication Integration Test Verify deduplication logic works correctly
[12:44:55.031] Buggy implementation results: 2
[12:44:55.041] Fixed implementation results: 1
00:10 +152 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: (setUpAll)
00:10 +152 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Deduplication Tests should not add duplicate events with same ID
00:10 +153 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Deduplication Tests should add different events with unique IDs
00:10 +154 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Deduplication Tests should add different events with unique IDs
00:10 +155 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_search_test.dart: VideoEventService Search Tests Search Method Tests should call searchVideosByHashtag with valid hashtag
00:10 +156 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Deduplication Tests should handle mix of duplicates and unique events
00:10 +157 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Deduplication Tests should handle mix of duplicates and unique events
00:10 +158 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Deduplication Tests should handle mix of duplicates and unique events
00:10 +159 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Deduplication Tests should handle mix of duplicates and unique events
00:10 +160 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Deduplication Tests should handle mix of duplicates and unique events
00:10 +161 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Deduplication Tests should handle mix of duplicates and unique events
00:10 +162 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Deduplication Tests should handle mix of duplicates and unique events
00:10 +163 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Deduplication Tests should handle mix of duplicates and unique events
00:10 +164 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Deduplication Tests should maintain deduplication across multiple subscriptions
00:10 +165 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Deduplication Tests should handle rapid duplicate events efficiently
00:10 +166 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Deduplication Tests should handle events with invalid kind gracefully
00:10 +167 -45: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Deduplication Tests should handle events with invalid kind gracefully
00:10 +167 -46: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Deduplication Tests should handle events with invalid kind gracefully
00:10 +168 -46: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Repost Deduplication should deduplicate reposts of the same video
00:10 +168 -46: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_service_unit_test.dart: NostrService Unit Tests service has correct initial state [E]
  Expected: <1>
    Actual: <0>
  
  package:matcher                                                expect
  package:flutter_test/src/widget_tester.dart 473:18             expect
  test/unit/services/embedded_relay_service_unit_test.dart 27:7  main.<fn>.<fn>
  
00:10 +169 -46: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Repost Deduplication should deduplicate reposts of the same video
00:10 +169 -47: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Repost Deduplication should deduplicate reposts of the same video
00:10 +169 -47: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_service_unit_test.dart: NostrService Unit Tests service provides relay status information [E]
  Expected: non-empty
    Actual: {}
  
  package:matcher                                                expect
  package:flutter_test/src/widget_tester.dart 473:18             expect
  test/unit/services/embedded_relay_service_unit_test.dart 42:7  main.<fn>.<fn>
  
00:10 +170 -47: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_deduplication_test.dart: VideoEventService Repost Deduplication should deduplicate reposts of the same video
00:10 +170 -47: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_service_unit_test.dart: NostrService Unit Tests service can add external relays
[12:44:55.520] Added relay to configuration: ws://localhost:7447
[12:44:55.522] Retrying embedded relay initialization...
00:10 +171 -47: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_service_unit_test.dart: NostrService Unit Tests service can add external relays
[2025-10-17T12:44:55.531173] SEVERE: Database initialization failed ERROR: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
[2025-10-17T12:44:55.532243] SEVERE: Stack trace ERROR: #0      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:365:7)
<asynchronous suspension>
#1      getApplicationSupportDirectory (package:path_provider/path_provider.dart:78:24)
<asynchronous suspension>
#2      DatabaseHelper._initDatabase (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:78:32)
<asynchronous suspension>
#3      DatabaseHelper.database (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:40:17)
<asynchronous suspension>
#4      EmbeddedNostrRelay.initialize (package:flutter_embedded_nostr_relay/src/core/embedded_nostr_relay.dart:215:18)
<asynchronous suspension>
#5      NostrService.retryInitialization (package:openvine/services/nostr_service.dart:718:7)
<asynchronous suspension>
#6      NostrService.addRelay (package:openvine/services/nostr_service.dart:684:7)
<asynchronous suspension>
#7      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_service_unit_test.dart:65:11)
<asynchronous suspension>
#8      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#9      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#10     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

[12:44:55.533] Embedded relay retry failed: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
00:10 +171 -48: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_service_unit_test.dart: NostrService Unit Tests service can add external relays [E]
  Expected: false
    Actual: <true>
  
  package:matcher                                                expect
  package:flutter_test/src/widget_tester.dart 473:18             expect
  test/unit/services/embedded_relay_service_unit_test.dart 66:7  main.<fn>.<fn>
  
00:10 +171 -48: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_service_unit_test.dart: NostrService Unit Tests service can remove external relays but not embedded relay
[12:44:55.541] Removed external relay: ws://localhost:7447
00:10 +171 -49: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_service_unit_test.dart: NostrService Unit Tests service can remove external relays but not embedded relay [E]
  Expected: contains 'ws://localhost:7447'
    Actual: []
     Which: does not contain 'ws://localhost:7447'
  
  package:matcher                                                expect
  package:flutter_test/src/widget_tester.dart 473:18             expect
  test/unit/services/embedded_relay_service_unit_test.dart 78:7  main.<fn>.<fn>
  
00:10 +171 -49: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_service_unit_test.dart: NostrService Unit Tests service provides relay status checks
00:10 +171 -50: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_service_unit_test.dart: NostrService Unit Tests service provides relay status checks [E]
  Expected: true
    Actual: <null>
  
  package:matcher                                                expect
  package:flutter_test/src/widget_tester.dart 473:18             expect
  test/unit/services/embedded_relay_service_unit_test.dart 88:7  main.<fn>.<fn>
  
00:10 +171 -50: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_service_unit_test.dart: NostrService Unit Tests service can handle auth timeout setting
00:10 +172 -50: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_service_unit_test.dart: NostrService Unit Tests service can be disposed
[12:44:55.557] Starting disposal...
00:10 +172 -51: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_service_unit_test.dart: NostrService Unit Tests service can be disposed [E]
  Expected: true
    Actual: <false>
  
  package:matcher                                                 expect
  package:flutter_test/src/widget_tester.dart 473:18              expect
  test/unit/services/embedded_relay_service_unit_test.dart 104:7  main.<fn>.<fn>
  
[12:44:55.561] Disposal complete
00:10 +172 -51: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_service_unit_test.dart: NostrService Unit Tests disposed service throws on operations
[12:44:55.562] Starting disposal...
[12:44:55.565] Disposal complete
00:10 +173 -51: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_service_unit_test.dart: NostrService Unit Tests service provides P2P functionality interface
00:10 +174 -51: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_service_unit_test.dart: NostrService Unit Tests service provides stats interface
00:10 +175 -51: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_service_unit_test.dart: NostrService Unit Tests service provides search interface
00:10 +175 -52: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/embedded_relay_service_unit_test.dart: NostrService Unit Tests service provides search interface [E]
  Bad state: NostrService not initialized
  package:openvine/services/nostr_service.dart 804:26              NostrService.searchVideos
  test/unit/services/embedded_relay_service_unit_test.dart 142:49  main.<fn>.<fn>
  
00:10 +175 -52: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_hashtag_bug_test.dart: VideoEventService getVideoEventsByHashtags Bug CURRENT BUG: getVideoEventsByHashtags returns duplicates
[12:44:55.774] Event lists:
[12:44:55.775]   discovery: 1 videos
[12:44:55.775]   hashtag: 1 videos
[12:44:55.775]   trending: 0 videos
[12:44:55.775] Result count: 2
[12:44:55.776] Result IDs: [test-video-123, test-video-123]
00:10 +176 -52: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_hashtag_bug_test.dart: VideoEventService getVideoEventsByHashtags Bug PROPOSED FIX: getVideoEventsByHashtags with deduplication
00:12 +177 -52: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/upload_manager_get_by_path_test.dart: (setUpAll)
00:12 +177 -52: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/upload_manager_get_by_path_test.dart: UploadManager.getUploadByFilePath should return upload with matching file path
00:12 +178 -52: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_cache_service_basic_test.dart: VideoCacheService Basic TDD should start with empty cache
00:12 +179 -52: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/upload_manager_get_by_path_test.dart: UploadManager.getUploadByFilePath should return null when no upload matches file path
00:12 +180 -52: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/upload_manager_get_by_path_test.dart: UploadManager.getUploadByFilePath should return null when no upload matches file path
00:12 +181 -52: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/upload_manager_get_by_path_test.dart: UploadManager.getUploadByFilePath should return null when no upload matches file path
00:12 +182 -52: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/upload_manager_get_by_path_test.dart: UploadManager.getUploadByFilePath should return null when no upload matches file path
00:12 +183 -52: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/upload_manager_get_by_path_test.dart: UploadManager.getUploadByFilePath should return null when no upload matches file path
00:12 +184 -52: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/upload_manager_get_by_path_test.dart: UploadManager.getUploadByFilePath should return null when no upload matches file path
00:12 +185 -52: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_cache_service_basic_test.dart: VideoCacheService Basic TDD should provide cache statistics
00:12 +185 -53: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/upload_manager_get_by_path_test.dart: UploadManager.getUploadByFilePath should return null when pendingUploads is empty
00:12 +186 -53: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/upload_manager_get_by_path_test.dart: UploadManager.getUploadByFilePath should handle file paths with spaces
00:12 +187 -53: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/upload_manager_get_by_path_test.dart: UploadManager.getUploadByFilePath should handle special characters in file paths
00:12 +188 -53: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/upload_manager_get_by_path_test.dart: UploadManager.getUploadByFilePath should return first match when multiple uploads have same path
00:12 +188 -54: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_cache_service_basic_test.dart: VideoCacheService Basic TDD should provide cache statistics [E]
  Expected: a value greater than or equal to <0>
    Actual: <null>
     Which: is not a value greater than or equal to <0>
  NoSuchMethodError: The method '<' was called on null.
  Receiver: null
  Tried calling: <(0) at #0      Object.noSuchMethod (dart:core-patch/object_patch.dart:38:5)
  #1      _OrderingMatcher.matches (package:matcher/src/order_matchers.dart:81:34)
  #2      _expect (package:matcher/src/expect/expect.dart:138:30)
  #3      expect (package:matcher/src/expect/expect.dart:56:3)
  #4      expect (package:flutter_test/src/widget_tester.dart:473:18)
  #5      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_cache_service_basic_test.dart:158:7)
  #6      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
  <asynchronous suspension>
  #7      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
  <asynchronous suspension>
  #8      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
  <asynchronous suspension>
  
  
  package:matcher                                               expect
  package:flutter_test/src/widget_tester.dart 473:18            expect
  test/unit/services/video_cache_service_basic_test.dart 158:7  main.<fn>.<fn>
  
00:12 +188 -54: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should use until filter when loading more events at end of feed
00:12 +188 -54: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/upload_manager_get_by_path_test.dart: UploadManager.getUploadByFilePath should return first match when multiple uploads have same path [E]
  Expected: <1>
    Actual: <7>
  
  package:matcher                                                expect
  package:flutter_test/src/widget_tester.dart 473:18             expect
  test/unit/services/upload_manager_get_by_path_test.dart 201:7  main.<fn>.<fn>
  
00:12 +189 -54: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should use until filter when loading more events at end of feed
ğŸ” Streaming historical query for SubscriptionType.discovery: until=2024-01-01 11:00:00.000, limit=50
00:12 +190 -54: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should use until filter when loading more events at end of feed
00:12 +190 -55: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/classic_vines_priority_test.dart: Classic Vines Priority Loading Tests should prioritize classic vines at top of feed
00:12 +190 -55: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should use until filter when loading more events at end of feed [E]
  Expected: contains <32222>
    Actual: [22, 21, 34236, 34235]
     Which: does not contain <32222>
  
  package:matcher                                                        expect
  package:flutter_test/src/widget_tester.dart 473:18                     expect
  test/unit/services/video_event_service_infinite_scroll_test.dart 99:7  main.<fn>.<fn>
  
00:12 +190 -56: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should not use until filter when no existing events
ğŸ” Streaming historical query for SubscriptionType.discovery: until=none, limit=50
00:12 +190 -56: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/classic_vines_priority_test.dart: Classic Vines Priority Loading Tests should prioritize classic vines at top of feed [E]
  Expected: 'classic-1'
    Actual: 'regular-1'
     Which: is different.
            Expected: classic-1
              Actual: regular-1
                      ^
             Differ at offset 0
  
  package:matcher                                            expect
  package:flutter_test/src/widget_tester.dart 473:18         expect
  test/unit/services/classic_vines_priority_test.dart 194:7  main.<fn>.<fn>
  
00:12 +190 -57: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/classic_vines_priority_test.dart: Classic Vines Priority Loading Tests should maintain classic vines priority when adding new regular videos
00:12 +190 -57: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should not use until filter when no existing events [E]
  Expected: contains <32222>
    Actual: [22, 21, 34236, 34235]
     Which: does not contain <32222>
  
  package:matcher                                                         expect
  package:flutter_test/src/widget_tester.dart 473:18                      expect
  test/unit/services/video_event_service_infinite_scroll_test.dart 139:7  main.<fn>.<fn>
  
00:12 +190 -57: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should properly update pagination state when receiving older events
ğŸ” Streaming historical query for SubscriptionType.discovery: until=2024-01-01 13:00:00.000, limit=3
00:12 +191 -57: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/classic_vines_priority_test.dart: Classic Vines Priority Loading Tests should maintain classic vines priority when adding new regular videos
00:12 +191 -57: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should set hasMore=false when fewer events received than requested
ğŸ” Streaming historical query for SubscriptionType.discovery: until=none, limit=10
00:12 +192 -57: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/classic_vines_priority_test.dart: Classic Vines Priority Loading Tests should maintain classic vines priority when adding new regular videos
00:12 +192 -57: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should continue loading older events with decreasing until timestamps
ğŸ” Streaming historical query for SubscriptionType.discovery: until=none, limit=2
00:12 +192 -58: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should continue loading older events with decreasing until timestamps
00:13 +192 -58: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/classic_vines_priority_test.dart: Classic Vines Priority Loading Tests should maintain classic vines priority when adding new regular videos [E]
  Expected: <6>
    Actual: <1>
  
  package:matcher                                            expect
  package:flutter_test/src/widget_tester.dart 473:18         expect
  test/unit/services/classic_vines_priority_test.dart 250:7  main.<fn>.<fn>
  
00:13 +192 -58: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should continue loading older events with decreasing until timestamps
ğŸ” Streaming historical query for SubscriptionType.discovery: until=2024-01-01 13:00:00.000, limit=2
ğŸ” Streaming historical query for SubscriptionType.discovery: until=2024-01-01 11:00:00.000, limit=2
00:13 +193 -58: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should continue loading older events with decreasing until timestamps
00:13 +194 -58: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should continue loading older events with decreasing until timestamps
00:13 +194 -59: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should continue loading older events with decreasing until timestamps
00:13 +194 -59: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/classic_vines_priority_test.dart: Classic Vines Priority Loading Tests should correctly order all priority levels [E]
  Expected: <3>
    Actual: <0>
  
  package:matcher                                            expect
  package:flutter_test/src/widget_tester.dart 473:18         expect
  test/unit/services/classic_vines_priority_test.dart 354:7  main.<fn>.<fn>
  
00:13 +195 -59: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should continue loading older events with decreasing until timestamps
00:13 +196 -59: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/upload_manager_function_extraction_test.dart: UploadManager Function Extraction TDD createSuccessMetrics should create metrics with calculated values
00:13 +196 -59: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should handle reaching true end of content gracefully
ğŸ” Streaming historical query for SubscriptionType.discovery: until=none, limit=50
ğŸ” Streaming historical query for SubscriptionType.discovery: until=none, limit=50
00:13 +197 -59: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should handle reaching true end of content gracefully
00:13 +198 -59: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should handle reaching true end of content gracefully
00:13 +199 -59: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should handle reaching true end of content gracefully
00:13 +200 -59: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should handle reaching true end of content gracefully
00:13 +201 -59: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should handle reaching true end of content gracefully
00:13 +202 -59: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should handle reaching true end of content gracefully
00:13 +203 -59: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should handle reaching true end of content gracefully
00:13 +203 -60: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_service_infinite_scroll_test.dart: Infinite Scroll with Until Filter should handle reaching true end of content gracefully [E]
  Unexpected calls: MockINostrService.isInitialized, MockINostrService.subscribeToEvents({filters: [Instance of 'Filter'], bypassLimits: false, onEose: null})
  package:matcher                                                          fail
  package:mockito/src/mock.dart 860:7                                      _VerifyCall._checkWith
  package:mockito/src/mock.dart 1152:18                                    _makeVerify.<fn>
  test/unit/services/video_event_service_infinite_scroll_test.dart 339:18  main.<fn>.<fn>
  
00:13 +203 -60: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:14 +204 -60: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:14 +205 -60: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:14 +205 -60: /Users/rabble/code/andotherstuff/openvine/mobile/test/revine_profile_display_test.dart: Revine Profile Display Tests should identify why revines might not appear in profile
[12:44:59.335] === DEBUGGING WHY REVINES DONT SHOW ===
[12:44:59.473] Video 1:
[12:44:59.473]   isRepost: false
[12:44:59.473]   reposterPubkey: test_user_pubkey_12345
[12:44:59.473]   expectedPubkey: test_user_pubkey_12345
[12:44:59.474]   wouldShow: false
[12:44:59.474] 
[12:44:59.474] Video 2:
[12:44:59.476]   isRepost: true
[12:44:59.477]   reposterPubkey: wrong_user_pubkey
[12:44:59.477]   expectedPubkey: test_user_pubkey_12345
[12:44:59.477]   wouldShow: false
[12:44:59.477] 
[12:44:59.477] Video 3:
[12:44:59.477]   isRepost: true
[12:44:59.478]   reposterPubkey: null
[12:44:59.478]   expectedPubkey: test_user_pubkey_12345
[12:44:59.478]   wouldShow: false
[12:44:59.478] 
00:14 +206 -60: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:14 +207 -60: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:14 +207 -61: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:14 +207 -61: /Users/rabble/code/andotherstuff/openvine/mobile/test/manual_thumbnail_test.dart: Manual Thumbnail Tests Test thumbnail functionality with sample video
[12:44:59.955] ğŸ¬ Manual thumbnail test starting...
[12:44:59.961] ğŸ“¹ Created test video file: /var/folders/nt/9j5638qs1r9fdp0h2j2pxx740000gn/T/manual_thumbnail_testEG3zXt/real_test_video.mp4
[12:44:59.963] ğŸ“¦ Video file size: 156 bytes
[12:44:59.966] 
ğŸ§ª Test 1: Attempting thumbnail extraction...
[12:44:59.978] âŒ Thumbnail extraction returned null/empty
[12:44:59.978] â„¹ï¸ This could mean:
[12:44:59.978]   - video_thumbnail plugin not available in test environment
[12:44:59.979]   - Video content not recognized as valid
[12:44:59.980]   - Platform limitations (plugins often don't work in tests)
[12:44:59.980] 
ğŸ§ª Test 2: Testing optimal timestamp calculation...
[12:44:59.982] ğŸ“ 0s video â†’ 100ms timestamp
[12:44:59.983] ğŸ“ 3s video â†’ 300ms timestamp
[12:44:59.984] ğŸ“ 6s video â†’ 630ms timestamp
[12:44:59.984] ğŸ“ 15s video â†’ 1000ms timestamp
[12:44:59.984] ğŸ“ 30s video â†’ 1000ms timestamp
[12:44:59.987] 
ğŸ§ª Test 3: Testing upload result structure...
00:15 +207 -61: /Users/rabble/code/andotherstuff/openvine/mobile/test/tools/naming_convention_test.dart: Naming Convention Tests should follow feature_component_type.dart naming pattern for screens [E]
  Expected: empty
    Actual: [
              'lib/screens/profile_screen_scrollable.dart (should end with _screen)',
              'lib/screens/home_screen_router.dart (should end with _screen)',
              'lib/screens/profile_screen_router.dart (should end with _screen)',
              'lib/screens/hashtag_screen_router.dart (should end with _screen)',
              'lib/screens/explore_screen_router.dart (should end with _screen)',
              'lib/screens/pure/vine_preview_screen_pure.dart (should end with _screen)',
              'lib/screens/pure/video_metadata_screen_pure.dart (should end with _screen)',
              'lib/screens/pure/search_screen_pure.dart (should end with _screen)',
              'lib/screens/pure/explore_video_screen_pure.dart (should end with _screen)',
              'lib/screens/pure/universal_camera_screen_pure.dart (should end with _screen)',
              'lib/screens/debug_video_test.dart (should end with _screen)'
            ]
  Screen files with invalid naming found: lib/screens/profile_screen_scrollable.dart (should end with _screen), lib/screens/home_screen_router.dart (should end with _screen), lib/screens/profile_screen_router.dart (should end with _screen), lib/screens/hashtag_screen_router.dart (should end with _screen), lib/screens/explore_screen_router.dart (should end with _screen), lib/screens/pure/vine_preview_screen_pure.dart (should end with _screen), lib/screens/pure/video_metadata_screen_pure.dart (should end with _screen), lib/screens/pure/search_screen_pure.dart (should end with _screen), lib/screens/pure/explore_video_screen_pure.dart (should end with _screen), lib/screens/pure/universal_camera_screen_pure.dart (should end with _screen), lib/screens/debug_video_test.dart (should end with _screen)
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test/tools/naming_convention_test.dart 59:7         main.<fn>.<fn>
  
00:15 +207 -61: /Users/rabble/code/andotherstuff/openvine/mobile/test/manual_thumbnail_test.dart: Manual Thumbnail Tests Test thumbnail functionality with sample video
[12:44:59.990] âœ… Upload result structure is correct
[12:44:59.990] ğŸ¬ Video URL: https://cdn.example.com/manual_test_video_123.mp4
[12:44:59.990] 
ğŸ§ª Test 4: Verifying NIP-71 event tags...
[12:44:59.990] âœ… NIP-71 event tags would include:
[12:44:59.990]   ğŸ·ï¸ url: https://cdn.example.com/manual_test_video_123.mp4
[12:44:59.991]   ğŸ·ï¸ m: video/mp4
[12:44:59.991]   ğŸ·ï¸ title: Manual Test Video
[12:44:59.991]   ğŸ·ï¸ summary: Testing thumbnail generation manually
[12:44:59.991]   ğŸ·ï¸ client: nostrvine
[12:44:59.991] 
ğŸ‰ Manual thumbnail test completed!
[12:44:59.991] ğŸ“‹ Results Summary:
[12:44:59.991]   ğŸ“¸ Thumbnail extraction: FAILED (expected in test env)
[12:44:59.991]   ğŸ“ Timestamp calculation: SUCCESS
[12:44:59.991]   ğŸ“¤ Upload structure: SUCCESS
[12:44:59.991]   ğŸ·ï¸ NIP-71 compliance: SUCCESS
[12:44:59.993] ğŸ—‘ï¸ Cleaned up test files
00:15 +208 -61: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:15 +208 -62: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:15 +208 -62: /Users/rabble/code/andotherstuff/openvine/mobile/test/tools/naming_convention_test.dart: Naming Convention Tests should follow PascalCase for class names matching file names [E]
  Expected: empty
    Actual: [
              'lib/constants/nip71_migration.dart: Expected class name Nip71Migration',
              'lib/providers/profile_videos_provider.dart: Expected class name ProfileVideosProvider',
              'lib/providers/analytics_providers.dart: Expected class name AnalyticsProviders',
              'lib/providers/video_feed_provider.dart: Expected class name VideoFeedProvider',
              'lib/providers/latest_videos_provider.g.dart: Expected class name LatestVideosProvider.g',
              'lib/providers/home_feed_provider.g.dart: Expected class name HomeFeedProvider.g',
              'lib/providers/individual_video_providers.dart: Expected class name IndividualVideoProviders',
              'lib/providers/latest_videos_provider.dart: Expected class name LatestVideosProvider',
              'lib/providers/curation_providers.g.dart: Expected class name CurationProviders.g',
              'lib/providers/p2p_sync_provider.dart: Expected class name P2pSyncProvider',
              'lib/providers/search_provider.dart: Expected class name SearchProvider',
              'lib/providers/individual_video_providers.g.dart: Expected class name IndividualVideoProviders.g',
              'lib/providers/app_foreground_provider.g.dart: Expected class name AppForegroundProvider.g',
              'lib/providers/app_lifecycle_provider.dart: Expected class name AppLifecycleProvider',
              'lib/providers/profile_feed_provider.dart: Expected class name ProfileFeedProvider',
              'lib/providers/tab_visibility_provider.g.dart: Expected class name TabVisibilityProvider.g',
              'lib/providers/video_controller_fallback_provider.dart: Expected class name VideoControllerFallbackProvider',
              'lib/providers/optimistic_follow_provider.dart: Expected class name OptimisticFollowProvider',
              'lib/providers/home_feed_provider.dart: Expected class name HomeFeedProvider',
              'lib/providers/social_providers.g.dart: Expected class name SocialProviders.g',
              'lib/providers/user_profile_providers.dart: Expected class name UserProfileProviders',
              'lib/providers/tab_visibility_provider.dart: Expected class name TabVisibilityProvider',
              'lib/providers/app_providers.g.dart: Expected class name AppProviders.g',
              'lib/providers/video_events_providers.dart: Expected class name VideoEventsProviders',
              ...
            ]
  Class names not matching file names: lib/constants/nip71_migration.dart: Expected class name Nip71Migration, lib/providers/profile_videos_provider.dart: Expected class name ProfileVideosProvider, lib/providers/analytics_providers.dart: Expected class name AnalyticsProviders, lib/providers/video_feed_provider.dart: Expected class name VideoFeedProvider, lib/providers/latest_videos_provider.g.dart: Expected class name LatestVideosProvider.g, lib/providers/home_feed_provider.g.dart: Expected class name HomeFeedProvider.g, lib/providers/individual_video_providers.dart: Expected class name IndividualVideoProviders, lib/providers/latest_videos_provider.dart: Expected class name LatestVideosProvider, lib/providers/curation_providers.g.dart: Expected class name CurationProviders.g, lib/providers/p2p_sync_provider.dart: Expected class name P2pSyncProvider, lib/providers/search_provider.dart: Expected class name SearchProvider, lib/providers/individual_video_providers.g.dart: Expected class name IndividualVideoProviders.g, lib/providers/app_foreground_provider.g.dart: Expected class name AppForegroundProvider.g, lib/providers/app_lifecycle_provider.dart: Expected class name AppLifecycleProvider, lib/providers/profile_feed_provider.dart: Expected class name ProfileFeedProvider, lib/providers/tab_visibility_provider.g.dart: Expected class name TabVisibilityProvider.g, lib/providers/video_controller_fallback_provider.dart: Expected class name VideoControllerFallbackProvider, lib/providers/optimistic_follow_provider.dart: Expected class name OptimisticFollowProvider, lib/providers/home_feed_provider.dart: Expected class name HomeFeedProvider, lib/providers/social_providers.g.dart: Expected class name SocialProviders.g, lib/providers/user_profile_providers.dart: Expected class name UserProfileProviders, lib/providers/tab_visibility_provider.dart: Expected class name TabVisibilityProvider, lib/providers/app_providers.g.dart: Expected class name AppProviders.g, lib/providers/video_events_providers.dart: Expected class name VideoEventsProviders, lib/providers/app_foreground_provider.dart: Expected class name AppForegroundProvider, lib/providers/computed_active_video_provider.dart: Expected class name ComputedActiveVideoProvider, lib/providers/video_overlay_manager_provider.g.dart: Expected class name VideoOverlayManagerProvider.g, lib/providers/comments_provider.dart: Expected class name CommentsProvider, lib/providers/video_events_providers.g.dart: Expected class name VideoEventsProviders.g, lib/providers/seen_videos_notifier.g.dart: Expected class name SeenVideosNotifier.g, lib/providers/profile_videos_provider.g.dart: Expected class name ProfileVideosProvider.g, lib/providers/video_overlay_manager_provider.dart: Expected class name VideoOverlayManagerProvider, lib/providers/curation_providers.dart: Expected class name CurationProviders, lib/providers/user_profile_providers.g.dart: Expected class name UserProfileProviders.g, lib/providers/profile_feed_provider.g.dart: Expected class name ProfileFeedProvider.g, lib/providers/comments_provider.g.dart: Expected class name CommentsProvider.g, lib/providers/home_screen_controllers.dart: Expected class name HomeScreenControllers, lib/providers/profile_stats_provider.g.dart: Expected class name ProfileStatsProvider.g, lib/providers/social_providers.dart: Expected class name SocialProviders, lib/providers/readiness_gate_providers.g.dart: Expected class name ReadinessGateProviders.g, lib/providers/profile_stats_provider.dart: Expected class name ProfileStatsProvider, lib/providers/search_provider.g.dart: Expected class name SearchProvider.g, lib/providers/analytics_providers.g.dart: Expected class name AnalyticsProviders.g, lib/providers/vine_recording_provider.dart: Expected class name VineRecordingProvider, lib/providers/video_feed_provider.g.dart: Expected class name VideoFeedProvider.g, lib/features/feature_flags/providers/feature_flag_providers.g.dart: Expected class name FeatureFlagProviders.g, lib/firebase_options.dart: Expected class name FirebaseOptions, lib/utils/ios_upload_debug_helper.dart: Expected class name IosUploadDebugHelper, lib/utils/platform_io_web.dart: Expected class name PlatformIoWeb, lib/models/comment.g.dart: Expected class name Comment.g, lib/models/user_profile.g.dart: Expected class name UserProfile.g, lib/models/pending_upload.g.dart: Expected class name PendingUpload.g, lib/models/nip94_metadata.dart: Expected class name Nip94Metadata, lib/state/video_content_state.dart: Expected class name VideoContentState, lib/state/user_profile_state.freezed.dart: Expected class name UserProfileState.freezed, lib/state/curation_state.freezed.dart: Expected class name CurationState.freezed, lib/state/search_state.freezed.dart: Expected class name SearchState.freezed, lib/state/analytics_state.freezed.dart: Expected class name AnalyticsState.freezed, lib/state/seen_videos_state.freezed.dart: Expected class name SeenVideosState.freezed, lib/state/video_feed_state.freezed.dart: Expected class name VideoFeedState.freezed, lib/state/social_state.freezed.dart: Expected class name SocialState.freezed, lib/state/video_content_state.freezed.dart: Expected class name VideoContentState.freezed, lib/exceptions/video_exceptions.dart: Expected class name VideoExceptions, lib/screens/debug_video_test.dart: Expected class name DebugVideoTest, lib/screens/p2p_sync_screen.dart: Expected class name P2pSyncScreen, lib/main.dart: Expected class name Main, lib/theme/app_theme.dart: Expected class name AppTheme, lib/services/stubs/platform_stub.dart: Expected class name PlatformStub, lib/services/stubs/js_stub.dart: Expected class name JsStub, lib/services/p2p_discovery_service.dart: Expected class name P2pDiscoveryService, lib/services/proofmode_human_detection.dart: Expected class name ProofmodeHumanDetection, lib/services/nip07_interop.dart: Expected class name Nip07Interop, lib/services/web_camera_service_stub.dart: Expected class name WebCameraServiceStub, lib/services/camera/native_macos_camera.dart: Expected class name NativeMacosCamera, lib/services/proofmode_attestation_service.dart: Expected class name ProofmodeAttestationService, lib/services/proofmode_key_service.dart: Expected class name ProofmodeKeyService, lib/services/proofmode_session_service.dart: Expected class name ProofmodeSessionService, lib/services/nostr_service_interface.dart: Expected class name NostrServiceInterface, lib/services/proofmode_camera_integration.dart: Expected class name ProofmodeCameraIntegration, lib/services/p2p_video_sync_service.dart: Expected class name P2pVideoSyncService, lib/services/proofmode_config.dart: Expected class name ProofmodeConfig, lib/services/circuit_breaker_service.dart: Expected class name CircuitBreakerService, lib/widgets/vine_recording_controls.dart: Expected class name VineRecordingControls, lib/widgets/proofmode_badge_row.dart: Expected class name ProofmodeBadgeRow, lib/widgets/macos_camera_preview.dart: Expected class name MacosCameraPreview, lib/widgets/camera_fab.dart: Expected class name CameraFab, lib/widgets/proofmode_badge.dart: Expected class name ProofmodeBadge, lib/nostr/transport/in_memory_transport.dart: Expected class name InMemoryTransport, lib/router/route_utils.dart: Expected class name RouteUtils, lib/router/last_tab_position_provider.dart: Expected class name LastTabPositionProvider
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test/tools/naming_convention_test.dart 99:7         main.<fn>.<fn>
  
00:15 +209 -62: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:16 +210 -62: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:16 +211 -62: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:16 +212 -62: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:16 +213 -62: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:16 +214 -62: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:16 +215 -62: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:17 +216 -62: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:17 +217 -62: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:17 +218 -62: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:17 +219 -62: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:17 +220 -62: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:17 +221 -62: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:17 +222 -62: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:17 +223 -62: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:17 +224 -62: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:17 +225 -62: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:17 +225 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:17 +225 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/tools/future_delayed_detector_test.dart: FutureDelayedDetector detects simple Future.delayed usage [E]
  Expected: <1>
    Actual: <254>
  Should exit with code 1 when Future.delayed is found
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test/tools/future_delayed_detector_test.dart 52:7   main.<fn>.<fn>
  
00:17 +226 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:17 +227 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +228 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +229 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +230 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +230 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/revine_fix_test.dart: Revine Fix Tests VideoEvent.createRepostEvent should create proper repost structure
[12:45:03.027] âœ… Repost VideoEvent structure is correct
[12:45:03.032]   - Original author: original_video_author_pubkey
[12:45:03.032]   - Reposter: test_user_pubkey_12345
[12:45:03.032]   - isRepost: true
[12:45:03.032]   - Video URL preserved: https://example.com/video.mp4
00:18 +231 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +232 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +232 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/revine_fix_test.dart: Revine Fix Tests Profile repost filtering logic should work correctly
[12:45:03.043] âœ… Profile repost filtering works correctly
[12:45:03.044]   - Total videos in feed: 5
[12:45:03.044]   - User reposts found: 2
00:18 +233 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +234 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +234 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/revine_fix_test.dart: Revine Fix Tests Profile repost filtering logic should work correctly
[12:45:03.046]   - Repost IDs: [repost1, repost2]
00:18 +235 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +236 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +237 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +237 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/revine_fix_test.dart: Revine Fix Tests includeReposts flag should be tracked correctly
[12:45:03.073] âœ… VideoEventService initialized correctly
[12:45:03.073]   - Classic vines pubkey available: 033877f4080835f162880482590762c0a7508851e88fe164dd89028743914da5
00:18 +238 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +239 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +240 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +241 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +242 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +243 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +244 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +245 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +246 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +247 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +248 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +249 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +249 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should display hashtag in app bar
[HASHTAG] ğŸ”„ Building HashtagFeedScreen for #bitcoin
00:18 +250 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +251 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +251 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should display hashtag in app bar
[HASHTAG] ğŸ“Š Found 0 videos for #bitcoin
00:18 +252 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +253 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +254 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +255 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +256 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +257 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +258 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +259 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +260 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +260 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should display hashtag in app bar
[HASHTAG] ğŸ·ï¸  Subscribing to hashtag: bitcoin
[HASHTAG] âœ… Successfully subscribed to hashtag: bitcoin
00:18 +261 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +262 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +263 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +263 -63: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should display hashtag in app bar
â•â•â•¡ EXCEPTION CAUGHT BY WIDGETS LIBRARY â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following _TypeError was thrown building Builder(dirty):
type 'Null' is not a subtype of type 'bool'

The relevant error-causing widget was:
  Builder
  Builder:file:///Users/rabble/code/andotherstuff/openvine/mobile/lib/screens/hashtag_feed_screen.dart:151:18

When the exception was thrown, this was the stack:
#0      MockVideoEventService.isLoadingForSubscription (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart:14:7)
#1      _HashtagFeedScreenState.build.<anonymous closure> (package:openvine/screens/hashtag_feed_screen.dart:166:51)
#2      Builder.build (package:flutter/src/widgets/basic.dart:8226:48)
#3      StatelessElement.build (package:flutter/src/widgets/framework.dart:5791:49)
#4      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5723:15)
#5      Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#6      ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5705:5)
#7      ComponentElement.mount (package:flutter/src/widgets/framework.dart:5699:5)
...     Normal element mounting (25 frames)
#32     Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#33     MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#34     MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (340 frames)
#374    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#375    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#376    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (479 frames)
#855    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#856    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:20)
#857    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#858    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#859    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#860    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#861    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#862    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#863    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#864    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#865    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#866    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#867    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#868    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#869    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#870    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#871    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#872    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#873    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#874    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#875    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#876    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#877    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#878    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#879    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#880    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#881    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#882    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#883    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#884    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#885    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#886    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#887    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#888    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#889    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#890    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#891    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#892    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#893    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#894    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#895    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#896    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#897    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#898    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#899    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#900    _RawViewElement.update (package:flutter/src/widgets/view.dart:568:5)
#901    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#902    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#903    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#904    StatelessElement.update (package:flutter/src/widgets/framework.dart:5797:5)
#905    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#906    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#907    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#908    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#909    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#910    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#911    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1716:16)
#912    RootElement.update (package:flutter/src/widgets/binding.dart:1694:5)
#913    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1708:7)
#914    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#915    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2695:15)
#916    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2752:11)
#917    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3056:18)
#918    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1506:19)
#919    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:495:5)
#920    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1434:15)
#921    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1347:9)
#922    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1335:9)
#925    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#926    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1324:27)
#927    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#930    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#931    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#932    main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart:59:20)
#933    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#934    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:18 +263 -64: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +263 -64: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should display hashtag in app bar [E]
  Test failed. See exception logs above.
  The test description was: should display hashtag in app bar
  
00:18 +263 -64: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should show loading indicator when videos are loading
[HASHTAG] ğŸ”„ Building HashtagFeedScreen for #bitcoin
[HASHTAG] ğŸ“Š Found 0 videos for #bitcoin
[HASHTAG] ğŸ·ï¸  Subscribing to hashtag: bitcoin
[HASHTAG] âœ… Successfully subscribed to hashtag: bitcoin
â•â•â•¡ EXCEPTION CAUGHT BY WIDGETS LIBRARY â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following _TypeError was thrown building Builder(dirty):
type 'Null' is not a subtype of type 'bool'

The relevant error-causing widget was:
  Builder
  Builder:file:///Users/rabble/code/andotherstuff/openvine/mobile/lib/screens/hashtag_feed_screen.dart:151:18

When the exception was thrown, this was the stack:
#0      MockVideoEventService.isLoadingForSubscription (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart:14:7)
#1      _HashtagFeedScreenState.build.<anonymous closure> (package:openvine/screens/hashtag_feed_screen.dart:166:51)
#2      Builder.build (package:flutter/src/widgets/basic.dart:8226:48)
#3      StatelessElement.build (package:flutter/src/widgets/framework.dart:5791:49)
#4      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5723:15)
#5      Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#6      ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5705:5)
#7      ComponentElement.mount (package:flutter/src/widgets/framework.dart:5699:5)
...     Normal element mounting (25 frames)
#32     Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#33     MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#34     MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (340 frames)
#374    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#375    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#376    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (479 frames)
#855    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#856    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:20)
#857    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#858    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#859    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#860    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#861    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#862    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#863    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#864    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#865    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#866    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#867    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#868    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#869    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#870    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#871    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#872    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#873    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#874    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#875    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#876    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#877    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#878    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#879    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#880    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#881    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#882    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#883    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#884    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#885    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#886    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#887    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#888    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#889    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#890    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#891    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#892    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#893    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#894    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#895    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#896    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#897    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#898    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#899    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#900    _RawViewElement.update (package:flutter/src/widgets/view.dart:568:5)
#901    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#902    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#903    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#904    StatelessElement.update (package:flutter/src/widgets/framework.dart:5797:5)
#905    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#906    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#907    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#908    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#909    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#910    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#911    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1716:16)
#912    RootElement.update (package:flutter/src/widgets/binding.dart:1694:5)
#913    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1708:7)
#914    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#915    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2695:15)
#916    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2752:11)
#917    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3056:18)
#918    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1506:19)
#919    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:495:5)
#920    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1434:15)
#921    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1347:9)
#922    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1335:9)
#925    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#926    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1324:27)
#927    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#930    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#931    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#932    main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart:74:20)
#933    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#934    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TypeWidgetFinder:<Found 0 widgets with type "CircularProgressIndicator": []>
   Which: means none were found but one was expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart:76:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart line 76
The test description was:
  should show loading indicator when videos are loading
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following message was thrown:
Multiple exceptions (2) were detected during the running of the current test, and at least one was
unexpected.
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:18 +263 -65: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:18 +263 -65: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should show loading indicator when videos are loading [E]
  Test failed. See exception logs above.
  The test description was: should show loading indicator when videos are loading
  
00:19 +263 -65: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should show "No videos found" message when no videos exist
[HASHTAG] ğŸ”„ Building HashtagFeedScreen for #bitcoin
[HASHTAG] ğŸ“Š Found 0 videos for #bitcoin
[HASHTAG] ğŸ·ï¸  Subscribing to hashtag: bitcoin
[HASHTAG] âœ… Successfully subscribed to hashtag: bitcoin
â•â•â•¡ EXCEPTION CAUGHT BY WIDGETS LIBRARY â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following _TypeError was thrown building Builder(dirty):
type 'Null' is not a subtype of type 'bool'

The relevant error-causing widget was:
  Builder
  Builder:file:///Users/rabble/code/andotherstuff/openvine/mobile/lib/screens/hashtag_feed_screen.dart:151:18

When the exception was thrown, this was the stack:
#0      MockVideoEventService.isLoadingForSubscription (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart:14:7)
#1      _HashtagFeedScreenState.build.<anonymous closure> (package:openvine/screens/hashtag_feed_screen.dart:166:51)
#2      Builder.build (package:flutter/src/widgets/basic.dart:8226:48)
#3      StatelessElement.build (package:flutter/src/widgets/framework.dart:5791:49)
#4      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5723:15)
#5      Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#6      ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5705:5)
#7      ComponentElement.mount (package:flutter/src/widgets/framework.dart:5699:5)
...     Normal element mounting (25 frames)
#32     Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#33     MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#34     MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (340 frames)
#374    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#375    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#376    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (479 frames)
#855    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#856    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:20)
#857    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#858    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#859    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#860    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#861    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#862    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#863    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#864    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#865    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#866    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#867    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#868    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#869    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#870    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#871    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#872    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#873    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#874    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#875    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#876    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#877    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#878    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#879    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#880    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#881    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#882    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#883    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#884    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#885    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#886    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#887    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#888    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#889    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#890    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#891    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#892    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#893    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#894    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#895    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#896    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#897    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#898    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#899    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#900    _RawViewElement.update (package:flutter/src/widgets/view.dart:568:5)
#901    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#902    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#903    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#904    StatelessElement.update (package:flutter/src/widgets/framework.dart:5797:5)
#905    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#906    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#907    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#908    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#909    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#910    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#911    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1716:16)
#912    RootElement.update (package:flutter/src/widgets/binding.dart:1694:5)
#913    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1708:7)
#914    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#915    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2695:15)
#916    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2752:11)
#917    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3056:18)
#918    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1506:19)
#919    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:495:5)
#920    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1434:15)
#921    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1347:9)
#922    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1335:9)
#925    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#926    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1324:27)
#927    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#930    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#931    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#932    main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart:89:20)
#933    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#934    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TextWidgetFinder:<Found 0 widgets with text "No videos found for #bitcoin": []>
   Which: means none were found but one was expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart:91:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart line 91
The test description was:
  should show "No videos found" message when no videos exist
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following message was thrown:
Multiple exceptions (2) were detected during the running of the current test, and at least one was
unexpected.
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:19 +263 -66: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:19 +263 -66: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should show "No videos found" message when no videos exist [E]
  Test failed. See exception logs above.
  The test description was: should show "No videos found" message when no videos exist
  
00:19 +263 -66: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should display video count and "viners" text when videos exist
[HASHTAG] ğŸ”„ Building HashtagFeedScreen for #bitcoin
[HASHTAG] ğŸ“Š Found 2 videos for #bitcoin
[HASHTAG] ğŸ·ï¸  Subscribing to hashtag: bitcoin
[HASHTAG] âœ… Successfully subscribed to hashtag: bitcoin
â•â•â•¡ EXCEPTION CAUGHT BY WIDGETS LIBRARY â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following RangeError was thrown building Builder(dirty):
RangeError (end): Invalid value: Not in inclusive range 0..7: 8

The relevant error-causing widget was:
  Builder
  Builder:file:///Users/rabble/code/andotherstuff/openvine/mobile/lib/screens/hashtag_feed_screen.dart:151:18

When the exception was thrown, this was the stack:
#0      RangeError.checkValidRange (dart:core/errors.dart:392:9)
#1      _StringBase.substring (dart:core-patch/string_patch.dart:440:27)
#2      _HashtagFeedScreenState.build.<anonymous closure>.<anonymous closure> (package:openvine/screens/hashtag_feed_screen.dart:162:87)
#3      MappedListIterable.elementAt (dart:_internal/iterable.dart:442:31)
#4      ListIterable.join (dart:_internal/iterable.dart:159:25)
#5      _HashtagFeedScreenState.build.<anonymous closure> (package:openvine/screens/hashtag_feed_screen.dart:162:104)
#6      Builder.build (package:flutter/src/widgets/basic.dart:8226:48)
#7      StatelessElement.build (package:flutter/src/widgets/framework.dart:5791:49)
#8      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5723:15)
#9      Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#10     ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5705:5)
#11     ComponentElement.mount (package:flutter/src/widgets/framework.dart:5699:5)
...     Normal element mounting (25 frames)
#36     Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#37     MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#38     MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (340 frames)
#378    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#379    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#380    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (479 frames)
#859    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#860    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:20)
#861    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#862    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#863    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#864    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#865    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#866    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#867    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#868    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#869    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#870    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#871    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#872    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#873    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#874    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#875    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#876    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#877    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#878    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#879    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#880    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#881    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#882    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#883    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#884    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#885    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#886    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#887    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#888    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#889    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#890    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#891    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#892    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#893    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#894    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#895    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#896    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#897    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#898    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#899    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#900    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#901    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#902    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#903    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#904    _RawViewElement.update (package:flutter/src/widgets/view.dart:568:5)
#905    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#906    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#907    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#908    StatelessElement.update (package:flutter/src/widgets/framework.dart:5797:5)
#909    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#910    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#911    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#912    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#913    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#914    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#915    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1716:16)
#916    RootElement.update (package:flutter/src/widgets/binding.dart:1694:5)
#917    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1708:7)
#918    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#919    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2695:15)
#920    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2752:11)
#921    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3056:18)
#922    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1506:19)
#923    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:495:5)
#924    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1434:15)
#925    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1347:9)
#926    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1335:9)
#929    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#930    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1324:27)
#931    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#934    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#935    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#936    main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart:121:20)
#937    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#938    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TextWidgetFinder:<Found 0 widgets with text "2 videos": []>
   Which: means none were found but one was expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart:123:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart line 123
The test description was:
  should display video count and "viners" text when videos exist
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following message was thrown:
Multiple exceptions (2) were detected during the running of the current test, and at least one was
unexpected.
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:19 +263 -67: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:19 +263 -67: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should display video count and "viners" text when videos exist [E]
  Test failed. See exception logs above.
  The test description was: should display video count and "viners" text when videos exist
  
00:19 +263 -67: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should display recent video count when available
[HASHTAG] ğŸ”„ Building HashtagFeedScreen for #bitcoin
[HASHTAG] ğŸ“Š Found 1 videos for #bitcoin
[HASHTAG] ğŸ·ï¸  Subscribing to hashtag: bitcoin
[HASHTAG] âœ… Successfully subscribed to hashtag: bitcoin
â•â•â•¡ EXCEPTION CAUGHT BY WIDGETS LIBRARY â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following RangeError was thrown building Builder(dirty):
RangeError (end): Invalid value: Not in inclusive range 0..7: 8

The relevant error-causing widget was:
  Builder
  Builder:file:///Users/rabble/code/andotherstuff/openvine/mobile/lib/screens/hashtag_feed_screen.dart:151:18

When the exception was thrown, this was the stack:
#0      RangeError.checkValidRange (dart:core/errors.dart:392:9)
#1      _StringBase.substring (dart:core-patch/string_patch.dart:440:27)
#2      _HashtagFeedScreenState.build.<anonymous closure>.<anonymous closure> (package:openvine/screens/hashtag_feed_screen.dart:162:87)
#3      MappedListIterable.elementAt (dart:_internal/iterable.dart:442:31)
#4      ListIterable.join (dart:_internal/iterable.dart:159:25)
#5      _HashtagFeedScreenState.build.<anonymous closure> (package:openvine/screens/hashtag_feed_screen.dart:162:104)
#6      Builder.build (package:flutter/src/widgets/basic.dart:8226:48)
#7      StatelessElement.build (package:flutter/src/widgets/framework.dart:5791:49)
#8      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5723:15)
#9      Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#10     ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5705:5)
#11     ComponentElement.mount (package:flutter/src/widgets/framework.dart:5699:5)
...     Normal element mounting (25 frames)
#36     Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#37     MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#38     MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (340 frames)
#378    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#379    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#380    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (479 frames)
#859    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#860    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:20)
#861    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#862    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#863    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#864    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#865    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#866    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#867    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#868    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#869    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#870    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#871    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#872    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#873    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#874    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#875    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#876    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#877    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#878    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#879    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#880    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#881    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#882    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#883    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#884    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#885    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#886    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#887    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#888    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#889    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#890    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#891    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#892    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#893    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#894    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#895    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#896    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#897    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#898    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#899    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#900    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#901    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#902    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#903    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#904    _RawViewElement.update (package:flutter/src/widgets/view.dart:568:5)
#905    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#906    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#907    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#908    StatelessElement.update (package:flutter/src/widgets/framework.dart:5797:5)
#909    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#910    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#911    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#912    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#913    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#914    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#915    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1716:16)
#916    RootElement.update (package:flutter/src/widgets/binding.dart:1694:5)
#917    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1708:7)
#918    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#919    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2695:15)
#920    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2752:11)
#921    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3056:18)
#922    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1506:19)
#923    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:495:5)
#924    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1434:15)
#925    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1347:9)
#926    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1335:9)
#929    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#930    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1324:27)
#931    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#934    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#935    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#936    main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart:150:20)
#937    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#938    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TextWidgetFinder:<Found 0 widgets with text "1 new in last 24 hours": []>
   Which: means none were found but one was expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart:152:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart line 152
The test description was:
  should display recent video count when available
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following message was thrown:
Multiple exceptions (2) were detected during the running of the current test, and at least one was
unexpected.
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:19 +263 -68: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:19 +263 -68: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should display recent video count when available [E]
  Test failed. See exception logs above.
  The test description was: should display recent video count when available
  
00:19 +263 -68: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should not display recent count when zero
[HASHTAG] ğŸ”„ Building HashtagFeedScreen for #bitcoin
[HASHTAG] ğŸ“Š Found 1 videos for #bitcoin
[HASHTAG] ğŸ·ï¸  Subscribing to hashtag: bitcoin
[HASHTAG] âœ… Successfully subscribed to hashtag: bitcoin
â•â•â•¡ EXCEPTION CAUGHT BY WIDGETS LIBRARY â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following RangeError was thrown building Builder(dirty):
RangeError (end): Invalid value: Not in inclusive range 0..7: 8

The relevant error-causing widget was:
  Builder
  Builder:file:///Users/rabble/code/andotherstuff/openvine/mobile/lib/screens/hashtag_feed_screen.dart:151:18

When the exception was thrown, this was the stack:
#0      RangeError.checkValidRange (dart:core/errors.dart:392:9)
#1      _StringBase.substring (dart:core-patch/string_patch.dart:440:27)
#2      _HashtagFeedScreenState.build.<anonymous closure>.<anonymous closure> (package:openvine/screens/hashtag_feed_screen.dart:162:87)
#3      MappedListIterable.elementAt (dart:_internal/iterable.dart:442:31)
#4      ListIterable.join (dart:_internal/iterable.dart:159:25)
#5      _HashtagFeedScreenState.build.<anonymous closure> (package:openvine/screens/hashtag_feed_screen.dart:162:104)
#6      Builder.build (package:flutter/src/widgets/basic.dart:8226:48)
#7      StatelessElement.build (package:flutter/src/widgets/framework.dart:5791:49)
#8      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5723:15)
#9      Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#10     ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5705:5)
#11     ComponentElement.mount (package:flutter/src/widgets/framework.dart:5699:5)
...     Normal element mounting (25 frames)
#36     Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#37     MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#38     MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (340 frames)
#378    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#379    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#380    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (479 frames)
#859    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#860    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:20)
#861    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#862    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#863    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#864    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#865    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#866    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#867    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#868    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#869    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#870    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#871    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#872    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#873    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#874    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#875    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#876    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#877    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#878    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#879    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#880    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#881    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#882    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#883    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#884    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#885    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#886    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#887    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#888    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#889    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#890    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#891    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#892    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#893    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#894    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#895    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#896    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#897    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#898    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#899    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#900    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#901    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#902    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#903    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#904    _RawViewElement.update (package:flutter/src/widgets/view.dart:568:5)
#905    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#906    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#907    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#908    StatelessElement.update (package:flutter/src/widgets/framework.dart:5797:5)
#909    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#910    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#911    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#912    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#913    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#914    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#915    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1716:16)
#916    RootElement.update (package:flutter/src/widgets/binding.dart:1694:5)
#917    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1708:7)
#918    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#919    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2695:15)
#920    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2752:11)
#921    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3056:18)
#922    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1506:19)
#923    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:495:5)
#924    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1434:15)
#925    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1347:9)
#926    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1335:9)
#929    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#930    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1324:27)
#931    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#934    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#935    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#936    main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart:177:20)
#937    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#938    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:19 +263 -69: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:19 +263 -69: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should not display recent count when zero [E]
  Test failed. See exception logs above.
  The test description was: should not display recent count when zero
  
00:19 +263 -69: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should trigger hashtag subscription on init
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following StateError was thrown running a test:
Bad state: No method stub was called from within `when()`. Was a real method called, or perhaps an
extension method?

When the exception was thrown, this was the stack:
#0      When._completeWhen (package:mocktail/src/mocktail.dart:262:7)
#1      When.thenAnswer (package:mocktail/src/mocktail.dart:257:12)
#2      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart:191:12)
#3      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#4      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

The test description was:
  should trigger hashtag subscription on init
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:19 +263 -70: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:19 +263 -70: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should trigger hashtag subscription on init [E]
  Test failed. See exception logs above.
  The test description was: should trigger hashtag subscription on init
  
00:19 +263 -70: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should display back button and navigate on tap
[HASHTAG] ğŸ”„ Building HashtagFeedScreen for #bitcoin
[HASHTAG] ğŸ“Š Found 0 videos for #bitcoin
[HASHTAG] ğŸ·ï¸  Subscribing to hashtag: bitcoin
[HASHTAG] âœ… Successfully subscribed to hashtag: bitcoin
00:20 +263 -70: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/real_video_subscription_test.dart: Real Video Subscription Test (setUpAll)
[12:45:05.160] [AUTH] Initializing SecureKeyStorageService
[12:45:05.164] [SYSTEM] Initializing platform-specific secure storage
[12:45:05.169] [SYSTEM] Failed to detect capabilities, using fallback: MissingPluginException(No implementation found for method getCapabilities on channel openvine.secure_storage)
[12:45:05.171] [SYSTEM] ğŸ“±ï¸ Initializing macOS Keychain integration
[12:45:05.171] [SYSTEM] macOS uses software-based Keychain storage (no hardware backing)
[12:45:05.172] [SYSTEM] Platform secure storage initialized for macOS
[12:45:05.172] [SYSTEM] Platform secure storage initialized for macOS
ğŸ“Š Capabilities: basicSecureStorage
[12:45:05.174] [AUTH] SecureKeyStorageService initialized
[12:45:05.174] [AUTH] ğŸ“± Security level: Software-only
[12:45:05.192] Initialization: Creating embedded relay instance
[12:45:05.193] Initialization: Starting embedded relay initialization
[2025-10-17T12:45:05.201864] SEVERE: Database initialization failed ERROR: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
[2025-10-17T12:45:05.202785] SEVERE: Stack trace ERROR: #0      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:365:7)
<asynchronous suspension>
#1      getApplicationSupportDirectory (package:path_provider/path_provider.dart:78:24)
<asynchronous suspension>
#2      DatabaseHelper._initDatabase (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:78:32)
<asynchronous suspension>
#3      DatabaseHelper.database (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:40:17)
<asynchronous suspension>
#4      EmbeddedNostrRelay.initialize (package:flutter_embedded_nostr_relay/src/core/embedded_nostr_relay.dart:215:18)
<asynchronous suspension>
#5      NostrService.initialize (package:openvine/services/nostr_service.dart:87:11)
<asynchronous suspension>
#6      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/integration/real_video_subscription_test.dart:69:7)
<asynchronous suspension>
#7      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#8      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

[12:45:05.204] Initialization: Embedded relay failed: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
[12:45:05.204] [SYSTEM] â³ Waiting for relay connection...
00:20 +263 -71: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:20 +263 -71: /Users/rabble/code/andotherstuff/openvine/mobile/test/tools/future_delayed_detector_test.dart: FutureDelayedDetector detects Future.delayed with const Duration [E]
  Expected: <1>
    Actual: <254>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test/tools/future_delayed_detector_test.dart 95:7   main.<fn>.<fn>
  
00:20 +263 -71: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/profile_fetch_embedded_relay_test.dart: Profile Fetching with Embedded Relay should fetch profiles for video authors from OpenVine relay
[2025-10-17T12:45:05.259518] INFO: Initializing Flutter Embedded Nostr Relay
[2025-10-17T12:45:05.261437] INFO: Attempting database initialization...
[2025-10-17T12:45:05.265412] SEVERE: Database initialization failed ERROR: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
[2025-10-17T12:45:05.266031] SEVERE: Stack trace ERROR: #0      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:365:7)
<asynchronous suspension>
#1      getApplicationSupportDirectory (package:path_provider/path_provider.dart:78:24)
<asynchronous suspension>
#2      DatabaseHelper._initDatabase (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:78:32)
<asynchronous suspension>
#3      DatabaseHelper.database (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:40:17)
<asynchronous suspension>
#4      EmbeddedNostrRelay.initialize (package:flutter_embedded_nostr_relay/src/core/embedded_nostr_relay.dart:215:18)
<asynchronous suspension>
#5      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/integration/profile_fetch_embedded_relay_test.dart:19:7)
<asynchronous suspension>
#6      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#7      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

00:20 +263 -71: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should display back button and navigate on tap
â•â•â•¡ EXCEPTION CAUGHT BY WIDGETS LIBRARY â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following _TypeError was thrown building Builder(dirty):
type 'Null' is not a subtype of type 'bool'

When the exception was thrown, this was the stack:
#0      MockVideoEventService.isLoadingForSubscription (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart:14:7)
#1      _HashtagFeedScreenState.build.<anonymous closure> (package:openvine/screens/hashtag_feed_screen.dart:166:51)
#2      Builder.build (package:flutter/src/widgets/basic.dart:8226:48)
#3      StatelessElement.build (package:flutter/src/widgets/framework.dart:5791:49)
#4      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5723:15)
#5      Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#6      ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5705:5)
#7      ComponentElement.mount (package:flutter/src/widgets/framework.dart:5699:5)
...     Normal element mounting (25 frames)
#32     Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#33     MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#34     MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (340 frames)
#374    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#375    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#376    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (479 frames)
#855    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#856    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:20)
#857    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#858    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#859    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#860    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#861    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#862    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#863    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#864    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#865    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#866    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#867    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#868    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#869    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#870    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#871    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#872    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#873    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#874    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#875    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#876    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#877    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#878    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#879    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#880    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#881    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#882    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#883    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#884    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#885    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#886    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#887    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#888    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#889    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#890    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#891    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#892    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#893    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#894    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#895    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#896    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#897    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#898    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#899    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#900    _RawViewElement.update (package:flutter/src/widgets/view.dart:568:5)
#901    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#902    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#903    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#904    StatelessElement.update (package:flutter/src/widgets/framework.dart:5797:5)
#905    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#906    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#907    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#908    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#909    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#910    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#911    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1716:16)
#912    RootElement.update (package:flutter/src/widgets/binding.dart:1694:5)
#913    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1708:7)
#914    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#915    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2695:15)
#916    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2752:11)
#917    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3056:18)
#918    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1506:19)
#919    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:495:5)
#920    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1434:15)
#921    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1347:9)
#922    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1335:9)
#925    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#926    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1324:27)
#927    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#930    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#931    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#932    main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart:210:20)
#933    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#934    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:20 +263 -72: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:20 +263 -72: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should display back button and navigate on tap [E]
  Test failed. See exception logs above.
  The test description was: should display back button and navigate on tap
  
â•â•â•¡ EXCEPTION CAUGHT BY WIDGET INSPECTOR â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following assertion was thrown:
Looking up a deactivated widget's ancestor is unsafe.
At this point the state of the widget's element tree is no longer stable.
To safely refer to a widget's ancestor in its dispose() method, save a reference to the ancestor by
calling dependOnInheritedWidgetOfExactType() in the widget's didChangeDependencies() method.

When the exception was thrown, this was the stack:
#0      Element._debugCheckStateIsActiveForAncestorLookup.<anonymous closure> (package:flutter/src/widgets/framework.dart:4954:9)
#1      Element._debugCheckStateIsActiveForAncestorLookup (package:flutter/src/widgets/framework.dart:4968:6)
#2      Element.visitAncestorElements (package:flutter/src/widgets/framework.dart:5080:12)
#3      _describeRelevantUserCode (package:flutter/src/widgets/widget_inspector.dart:4221:13)
#4      _parseDiagnosticsNode (package:flutter/src/widgets/widget_inspector.dart:4140:12)
#5      debugTransformDebugCreator (package:flutter/src/widgets/widget_inspector.dart:4119:21)
#6      _FlutterErrorDetailsNode.builder (package:flutter/src/foundation/assertions.dart:1310:31)
#7      DiagnosticableNode.getProperties (package:flutter/src/foundation/diagnostics.dart:2945:68)
#8      TextTreeRenderer._debugRender (package:flutter/src/foundation/diagnostics.dart:1270:63)
#9      TextTreeRenderer.render (package:flutter/src/foundation/diagnostics.dart:1137:14)
#10     FlutterError.dumpErrorToConsole (package:flutter/src/foundation/assertions.dart:1040:13)
#11     _defaultTestExceptionReporter (package:flutter_test/src/test_exception_reporter.dart:29:16)
#12     TestWidgetsFlutterBinding._createTestCompletionHandler.<anonymous closure> (package:flutter_test/src/binding.dart:821:28)
<asynchronous suspension>
(elided 8 frames from dart:async and package:stack_trace)

This exception was caught while trying to describe the user-relevant code of another error.
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:20 +263 -73: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:20 +263 -73: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should display back button and navigate on tap
â•â•â•¡ EXCEPTION CAUGHT BY WIDGET INSPECTOR â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following assertion was thrown:
Looking up a deactivated widget's ancestor is unsafe.
At this point the state of the widget's element tree is no longer stable.
To safely refer to a widget's ancestor in its dispose() method, save a reference to the ancestor by
calling dependOnInheritedWidgetOfExactType() in the widget's didChangeDependencies() method.

When the exception was thrown, this was the stack:
#0      Element._debugCheckStateIsActiveForAncestorLookup.<anonymous closure> (package:flutter/src/widgets/framework.dart:4954:9)
#1      Element._debugCheckStateIsActiveForAncestorLookup (package:flutter/src/widgets/framework.dart:4968:6)
#2      Element.visitAncestorElements (package:flutter/src/widgets/framework.dart:5080:12)
#3      _describeRelevantUserCode (package:flutter/src/widgets/widget_inspector.dart:4221:13)
#4      _parseDiagnosticsNode (package:flutter/src/widgets/widget_inspector.dart:4140:12)
#5      debugTransformDebugCreator (package:flutter/src/widgets/widget_inspector.dart:4119:21)
#6      _FlutterErrorDetailsNode.builder (package:flutter/src/foundation/assertions.dart:1310:31)
#7      DiagnosticableNode.emptyBodyDescription (package:flutter/src/foundation/diagnostics.dart:2941:45)
#8      TextTreeRenderer._debugRender (package:flutter/src/foundation/diagnostics.dart:1307:14)
#9      TextTreeRenderer.render (package:flutter/src/foundation/diagnostics.dart:1137:14)
#10     FlutterError.dumpErrorToConsole (package:flutter/src/foundation/assertions.dart:1040:13)
#11     _defaultTestExceptionReporter (package:flutter_test/src/test_exception_reporter.dart:29:16)
#12     TestWidgetsFlutterBinding._createTestCompletionHandler.<anonymous closure> (package:flutter_test/src/binding.dart:821:28)
<asynchronous suspension>
(elided 8 frames from dart:async and package:stack_trace)

This exception was caught while trying to describe the user-relevant code of another error.
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:20 +263 -73: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should show correct UI elements without stats
[HASHTAG] ğŸ”„ Building HashtagFeedScreen for #bitcoin
[HASHTAG] ğŸ“Š Found 1 videos for #bitcoin
[HASHTAG] ğŸ·ï¸  Subscribing to hashtag: bitcoin
00:20 +263 -73: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/profile_fetch_embedded_relay_test.dart: Profile Fetching with Embedded Relay should fetch profiles for video authors from OpenVine relay [E]
  MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
  package:flutter/src/services/platform_channel.dart 365:7  MethodChannel._invokeMethod
  
00:20 +263 -73: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should show correct UI elements without stats
[HASHTAG] âœ… Successfully subscribed to hashtag: bitcoin
00:20 +263 -73: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/profile_fetch_embedded_relay_test.dart: Profile Fetching with Embedded Relay should fetch profiles for video authors from OpenVine relay
[2025-10-17T12:45:05.316418] INFO: Initializing Flutter Embedded Nostr Relay
[2025-10-17T12:45:05.316870] INFO: Attempting database initialization...
[2025-10-17T12:45:05.318052] SEVERE: Database initialization failed ERROR: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
[2025-10-17T12:45:05.318919] SEVERE: Stack trace ERROR: #0      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:365:7)
<asynchronous suspension>
#1      getApplicationSupportDirectory (package:path_provider/path_provider.dart:78:24)
<asynchronous suspension>
#2      DatabaseHelper._initDatabase (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:78:32)
<asynchronous suspension>
#3      DatabaseHelper.database (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:40:17)
<asynchronous suspension>
#4      EmbeddedNostrRelay.initialize (package:flutter_embedded_nostr_relay/src/core/embedded_nostr_relay.dart:215:18)
<asynchronous suspension>
#5      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/integration/profile_fetch_embedded_relay_test.dart:19:7)
<asynchronous suspension>
#6      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#7      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

00:20 +263 -74: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:20 +263 -74: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/profile_fetch_embedded_relay_test.dart: Profile Fetching with Embedded Relay should fetch known profile from Damus relay [E]
  MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
  package:flutter/src/services/platform_channel.dart 365:7  MethodChannel._invokeMethod
  
00:20 +263 -74: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should show correct UI elements without stats
â•â•â•¡ EXCEPTION CAUGHT BY WIDGETS LIBRARY â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following RangeError was thrown building Builder(dirty):
RangeError (end): Invalid value: Not in inclusive range 0..7: 8

The relevant error-causing widget was:
  Builder
  Builder:file:///Users/rabble/code/andotherstuff/openvine/mobile/lib/screens/hashtag_feed_screen.dart:151:18

When the exception was thrown, this was the stack:
#0      RangeError.checkValidRange (dart:core/errors.dart:392:9)
#1      _StringBase.substring (dart:core-patch/string_patch.dart:440:27)
#2      _HashtagFeedScreenState.build.<anonymous closure>.<anonymous closure> (package:openvine/screens/hashtag_feed_screen.dart:162:87)
#3      MappedListIterable.elementAt (dart:_internal/iterable.dart:442:31)
#4      ListIterable.join (dart:_internal/iterable.dart:159:25)
#5      _HashtagFeedScreenState.build.<anonymous closure> (package:openvine/screens/hashtag_feed_screen.dart:162:104)
#6      Builder.build (package:flutter/src/widgets/basic.dart:8226:48)
#7      StatelessElement.build (package:flutter/src/widgets/framework.dart:5791:49)
#8      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5723:15)
#9      Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#10     ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5705:5)
#11     ComponentElement.mount (package:flutter/src/widgets/framework.dart:5699:5)
...     Normal element mounting (25 frames)
#36     Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#37     MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#38     MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (340 frames)
#378    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#379    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#380    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (479 frames)
#859    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#860    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:20)
#861    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#862    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#863    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#864    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#865    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#866    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#867    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#868    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#869    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#870    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#871    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#872    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#873    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#874    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#875    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#876    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#877    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#878    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#879    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#880    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#881    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#882    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#883    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#884    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#885    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#886    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#887    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#888    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#889    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#890    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#891    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#892    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#893    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#894    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#895    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#896    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#897    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#898    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#899    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#900    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#901    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#902    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#903    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#904    _RawViewElement.update (package:flutter/src/widgets/view.dart:568:5)
#905    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#906    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#907    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#908    StatelessElement.update (package:flutter/src/widgets/framework.dart:5797:5)
#909    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#910    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#911    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#912    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#913    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#914    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#915    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1716:16)
#916    RootElement.update (package:flutter/src/widgets/binding.dart:1694:5)
#917    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1708:7)
#918    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#919    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2695:15)
#920    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2752:11)
#921    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3056:18)
#922    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1506:19)
#923    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:495:5)
#924    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1434:15)
#925    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1347:9)
#926    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1335:9)
#929    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#930    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1324:27)
#931    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#934    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#935    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#936    main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart:236:20)
#937    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#938    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TextWidgetFinder:<Found 0 widgets with text "1 videos": []>
   Which: means none were found but one was expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart:238:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart line 238
The test description was:
  should show correct UI elements without stats
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following message was thrown:
Multiple exceptions (2) were detected during the running of the current test, and at least one was
unexpected.
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:20 +263 -75: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:20 +263 -75: /Users/rabble/code/andotherstuff/openvine/mobile/test/widget/screens/hashtag_feed_screen_test.dart: HashtagFeedScreen Widget Tests should show correct UI elements without stats [E]
  Test failed. See exception logs above.
  The test description was: should show correct UI elements without stats
  
00:20 +264 -75: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:20 +264 -76: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:20 +264 -76: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/blossom_upload_spec_test.dart: Blossom BUD-01 Spec - Live Server Tests server URL should be cf-stream-service-prod.protestnet.workers.dev for upload [E]
  Expected: 'https://cf-stream-service-prod.protestnet.workers.dev'
    Actual: 'https://blossom.divine.video'
     Which: is different.
            Expected: https://cf-stream- ...
              Actual: https://blossom.di ...
                              ^
             Differ at offset 8
  Blossom upload must go to worker endpoint per corrected spec
  
  package:matcher                                      expect
  package:flutter_test/src/widget_tester.dart 473:18   expect
  test/integration/blossom_upload_spec_test.dart 53:7  main.<fn>.<fn>
  
00:20 +265 -76: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:20 +266 -76: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:20 +267 -76: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:20 +267 ~1 -76: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:20 +268 ~1 -76: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:20 +269 ~1 -76: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:20 +270 ~1 -76: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:21 +271 ~1 -76: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:21 +271 ~1 -76: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/thumbnail_api_integration_test.dart: ThumbnailApiService Integration Tests Real API Server Tests thumbnailExists works with real video
[12:45:06.652] Thumbnail exists for 87444ba2b07f28f29a8df3e9b358712e434a9d94bc67b08db5d4de61e6205344: false
00:21 +272 ~1 -76: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:21 +273 ~1 -76: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:21 +273 ~1 -76: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/thumbnail_api_integration_test.dart: ThumbnailApiService Integration Tests Real API Server Tests getThumbnailWithFallback works with real video URL
[12:45:06.696] Successfully generated thumbnail: https://api.openvine.co/thumbnail/87444ba2b07f28f29a8df3e9b358712e434a9d94bc67b08db5d4de61e6205344?t=1.0
00:21 +274 ~1 -76: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:21 +274 ~1 -77: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:21 +274 ~1 -77: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/thumbnail_api_integration_test.dart: ThumbnailApiService Integration Tests Real API Server Tests getThumbnailWithFallback handles non-existent video gracefully [E]
  Expected: null
    Actual: 'https://api.openvine.co/thumbnail/non-existent-video-99999?t=2.5'
  
  package:matcher                                             expect
  package:flutter_test/src/widget_tester.dart 473:18          expect
  test/integration/thumbnail_api_integration_test.dart 78:11  main.<fn>.<fn>.<fn>
  
00:21 +274 ~1 -77: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/thumbnail_api_integration_test.dart: ThumbnailApiService Integration Tests Real API Server Tests getThumbnailWithFallback works end-to-end
[12:45:06.779] Got thumbnail with fallback: https://api.openvine.co/thumbnail/87444ba2b07f28f29a8df3e9b358712e434a9d94bc67b08db5d4de61e6205344?t=2.0
00:21 +275 ~1 -77: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:21 +275 ~1 -77: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/thumbnail_api_integration_test.dart: ThumbnailApiService Integration Tests Real API Server Tests uploadCustomThumbnail handles file upload
[12:45:06.817] Custom thumbnail upload result: false
00:21 +276 ~1 -77: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:21 +276 ~1 -77: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/thumbnail_api_integration_test.dart: ThumbnailApiService Integration Tests Real API Server Tests batchGenerateThumbnails handles multiple videos
[12:45:06.852] Batch generation results: 2/2 successful
[12:45:06.852]   87444ba2b07f28f29a8df3e9b358712e434a9d94bc67b08db5d4de61e6205344 -> https://api.openvine.co/thumbnail/87444ba2b07f28f29a8df3e9b358712e434a9d94bc67b08db5d4de61e6205344?t=1.5
[12:45:06.853]   non-existent-video-99999 -> https://api.openvine.co/thumbnail/non-existent-video-99999?t=1.5
00:21 +277 ~1 -77: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:21 +277 ~1 -78: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:21 +277 ~1 -78: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/thumbnail_api_integration_test.dart: ThumbnailApiService Integration Tests Error Handling Tests handles malformed video IDs gracefully [E]
  Expected: null
    Actual: 'https://api.openvine.co/thumbnail/invalid@video#id!?t=2.5'
  
  package:matcher                                              expect
  package:flutter_test/src/widget_tester.dart 473:18           expect
  test/integration/thumbnail_api_integration_test.dart 168:11  main.<fn>.<fn>.<fn>
  
00:21 +277 ~1 -79: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:21 +277 ~1 -79: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/thumbnail_api_integration_test.dart: ThumbnailApiService Integration Tests Error Handling Tests handles extremely long video IDs [E]
  Expected: null
    Actual: 'https://api.openvine.co/thumbnail/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa?t=2.5'
  
  package:matcher                                              expect
  package:flutter_test/src/widget_tester.dart 473:18           expect
  test/integration/thumbnail_api_integration_test.dart 183:11  main.<fn>.<fn>.<fn>
  
00:21 +277 ~1 -80: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:21 +277 ~1 -80: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/thumbnail_api_integration_test.dart: ThumbnailApiService Integration Tests Error Handling Tests handles empty video ID [E]
  RangeError (end): Invalid value: Only valid value is 0: 8
  dart:core                                                    _StringBase.substring
  package:openvine/services/thumbnail_api_service.dart 149:60  ThumbnailApiService.getThumbnailWithFallback
  test/integration/thumbnail_api_integration_test.dart 197:41  main.<fn>.<fn>.<fn>
  
00:21 +278 ~1 -80: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:21 +278 ~1 -80: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/thumbnail_api_integration_test.dart: ThumbnailApiService Integration Tests Performance Tests thumbnail generation completes within reasonable time
[12:45:06.978] Thumbnail generation took 0ms
00:21 +279 ~1 -80: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:21 +279 ~1 -80: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/thumbnail_api_integration_test.dart: ThumbnailApiService Integration Tests Performance Tests batch processing is reasonably efficient
[12:45:06.985] Batch processing took 0ms (0.0ms per video)
00:21 +280 ~1 -80: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:22 +280 ~1 -80: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/thumbnail_api_integration_test.dart: ThumbnailApiService Integration Tests Performance Tests concurrent requests do not interfere
[12:45:06.992] Concurrent requests completed successfully
00:22 +281 ~1 -80: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:22 +281 ~1 -80: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/thumbnail_api_integration_test.dart: ThumbnailApiService Integration Tests Size Parameter Tests different thumbnail sizes work correctly
[12:45:06.996] small thumbnail URL: https://api.openvine.co/thumbnail/87444ba2b07f28f29a8df3e9b358712e434a9d94bc67b08db5d4de61e6205344?t=2.5&size=small
[12:45:06.997] medium thumbnail URL: https://api.openvine.co/thumbnail/87444ba2b07f28f29a8df3e9b358712e434a9d94bc67b08db5d4de61e6205344?t=2.5
[12:45:06.997] large thumbnail URL: https://api.openvine.co/thumbnail/87444ba2b07f28f29a8df3e9b358712e434a9d94bc67b08db5d4de61e6205344?t=2.5&size=large
00:22 +282 ~1 -80: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:22 +282 ~1 -80: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/thumbnail_api_integration_test.dart: ThumbnailApiService Integration Tests Size Parameter Tests fallback respects size parameter
[12:45:07.001] Large thumbnail URL: https://api.openvine.co/thumbnail/87444ba2b07f28f29a8df3e9b358712e434a9d94bc67b08db5d4de61e6205344?t=2.5&size=large
00:22 +283 ~1 -80: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:22 +284 ~1 -80: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:22 +285 ~1 -80: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:22 +286 ~1 -80: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:22 +286 ~1 -81: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:22 +286 ~1 -81: /Users/rabble/code/andotherstuff/openvine/mobile/test/tools/future_delayed_detector_test.dart: FutureDelayedDetector detects Future.delayed in expression [E]
  Expected: <1>
    Actual: <254>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test/tools/future_delayed_detector_test.dart 117:7  main.<fn>.<fn>
  
00:22 +286 ~1 -81: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:22 +286 ~1 -81: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/subscription_fix_test.dart: Classic vines -> Open feed -> Editor picks sequence works correctly
[12:45:07.879] ğŸ“± Step 1: Loading classic vines...
[12:45:07.905] ğŸ“± Step 2: Loading open feed...
[12:45:07.909] ğŸ“± Step 3: Loading editor picks...
[12:45:07.926] âœ… All subscriptions created correctly!
[12:45:07.926] ğŸ“Š Subscription summary:
[12:45:07.926]   1. Classic vines: [25315276cbaeb8f2ed998ed55d15ef8c9cf2027baea191d1253d9a5c69a2b856] (limit: 100)
[12:45:07.926]   2. Open feed: ALL videos (limit: 300)
[12:45:07.926]   3. Editor picks: [70ed6c56d6fb355f102a1e985741b5ee65f6ae9f772e028894b321bc74854082] (limit: 50)
00:22 +287 ~1 -81: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:22 +287 ~1 -81: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/home_feed_seen_videos_test.dart: HomeFeed SeenVideos Integration orders unseen videos before seen videos
[12:45:07.939] [SYSTEM] ğŸ“±ï¸ Marking video as seen: video2...
00:22 +287 ~1 -81: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:22 +287 ~1 -81: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/home_feed_seen_videos_test.dart: HomeFeed SeenVideos Integration orders unseen videos before seen videos
[12:45:07.943] Marked video as seen: video2... (total: 1)
[12:45:07.951] [SYSTEM] ğŸ“±ï¸ SeenVideosService initialized with 1 seen videos
[12:45:07.957] SeenVideosNotifier initialized with 1 seen videos
00:23 +288 ~1 -81: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:23 +288 ~1 -82: loading /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/video_event_service_simple_test.dart [E]
  Failed to load "/Users/rabble/code/andotherstuff/openvine/mobile/test/integration/video_event_service_simple_test.dart": Unable to connect to flutter_tester process: WebSocketException: Invalid WebSocket upgrade request
00:23 +289 ~1 -82: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:23 +289 ~1 -82: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/search_hybrid_relay_test.dart: Hybrid Search with Real Relay Integration should search local cache and then query remote relay
[12:45:08.505] [AUTH] Initializing SecureKeyStorageService
[12:45:08.517] [SYSTEM] Initializing platform-specific secure storage
[12:45:08.521] [SYSTEM] Failed to detect capabilities, using fallback: MissingPluginException(No implementation found for method getCapabilities on channel openvine.secure_storage)
[12:45:08.521] [SYSTEM] ğŸ“±ï¸ Initializing macOS Keychain integration
[12:45:08.522] [SYSTEM] macOS uses software-based Keychain storage (no hardware backing)
[12:45:08.523] [SYSTEM] Platform secure storage initialized for macOS
[12:45:08.524] [SYSTEM] Platform secure storage initialized for macOS
ğŸ“Š Capabilities: basicSecureStorage
[12:45:08.527] [AUTH] SecureKeyStorageService initialized
[12:45:08.528] [AUTH] ğŸ“± Security level: Software-only
[12:45:08.533] [SYSTEM] Failed to check key existence: MissingPluginException(No implementation found for method read on channel plugins.it_nomads.com/flutter_secure_storage)
[12:45:08.539] Initialization: Creating embedded relay instance
[12:45:08.539] Initialization: Starting embedded relay initialization
[12:45:08.631] Initialization: Embedded relay initialized successfully
00:23 +289 ~1 -83: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:23 +289 ~1 -83: /Users/rabble/code/andotherstuff/openvine/mobile/test/tools/future_delayed_detector_test.dart: FutureDelayedDetector counts total Future.delayed occurrences [E]
  Expected: contains 'Total Future.delayed occurrences: 3'
    Actual: ''
     Which: does not contain 'Total Future.delayed occurrences: 3'
  Should count total occurrences
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test/tools/future_delayed_detector_test.dart 145:7  main.<fn>.<fn>
  
00:23 +289 ~1 -83: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/home_feed_seen_videos_test.dart: HomeFeed SeenVideos Integration all seen videos show in correct order
[12:45:08.711] [SYSTEM] ğŸ“±ï¸ Marking video as seen: video1...
[12:45:08.711] Marked video as seen: video1... (total: 1)
[12:45:08.712] [SYSTEM] ğŸ“±ï¸ Marking video as seen: video2...
[12:45:08.712] Marked video as seen: video2... (total: 2)
[12:45:08.712] [SYSTEM] ğŸ“±ï¸ SeenVideosService initialized with 2 seen videos
[12:45:08.712] SeenVideosNotifier initialized with 2 seen videos
00:24 +290 ~1 -83: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:25 +290 ~1 -83: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/video_metrics_tracking_test.dart: VideoMetricsTracker Integration marks video as seen when playing
[12:45:10.314] [SYSTEM] ğŸ“±ï¸ SeenVideosService initialized with 0 seen videos
00:25 +290 ~1 -84: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:25 +290 ~1 -84: /Users/rabble/code/andotherstuff/openvine/mobile/test/tools/future_delayed_detector_test.dart: FutureDelayedDetector suggests AsyncUtils replacements [E]
  Expected: contains 'AsyncUtils.waitForCondition'
    Actual: ''
     Which: does not contain 'AsyncUtils.waitForCondition'
  Should suggest waitForCondition for polling
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test/tools/future_delayed_detector_test.dart 202:7  main.<fn>.<fn>
  
00:25 +290 ~1 -84: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/search_hybrid_relay_test.dart: Hybrid Search with Real Relay Integration should search local cache and then query remote relay
ğŸ“¦ Local cache has 0 videos
ğŸ” Searching for: "nostr"
00:25 +290 ~1 -84: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/subscription_manager_tdd_test.dart: SubscriptionManager TDD - Real Relay Tests (setUpAll)
[12:45:10.944] [AUTH] Initializing SecureKeyStorageService
[12:45:10.946] [SYSTEM] Initializing platform-specific secure storage
[12:45:10.949] [SYSTEM] Failed to detect capabilities, using fallback: MissingPluginException(No implementation found for method getCapabilities on channel openvine.secure_storage)
[12:45:10.951] [SYSTEM] ğŸ“±ï¸ Initializing macOS Keychain integration
[12:45:10.952] [SYSTEM] macOS uses software-based Keychain storage (no hardware backing)
[12:45:10.952] [SYSTEM] Platform secure storage initialized for macOS
[12:45:10.952] [SYSTEM] Platform secure storage initialized for macOS
ğŸ“Š Capabilities: basicSecureStorage
[12:45:10.954] [AUTH] SecureKeyStorageService initialized
[12:45:10.955] [AUTH] ğŸ“± Security level: Software-only
[12:45:10.964] Initialization: Creating embedded relay instance
[12:45:10.965] Initialization: Starting embedded relay initialization
[2025-10-17T12:45:10.970135] SEVERE: Database initialization failed ERROR: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
[2025-10-17T12:45:10.971619] SEVERE: Stack trace ERROR: #0      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:365:7)
<asynchronous suspension>
#1      getApplicationSupportDirectory (package:path_provider/path_provider.dart:78:24)
<asynchronous suspension>
#2      DatabaseHelper._initDatabase (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:78:32)
<asynchronous suspension>
#3      DatabaseHelper.database (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:40:17)
<asynchronous suspension>
#4      EmbeddedNostrRelay.initialize (package:flutter_embedded_nostr_relay/src/core/embedded_nostr_relay.dart:215:18)
<asynchronous suspension>
#5      NostrService.initialize (package:openvine/services/nostr_service.dart:87:11)
<asynchronous suspension>
#6      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/integration/subscription_manager_tdd_test.dart:68:7)
<asynchronous suspension>
#7      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#8      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

[12:45:10.972] Initialization: Embedded relay failed: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
00:26 +290 ~1 -84: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/video_metrics_tracking_test.dart: VideoMetricsTracker Integration marks video as seen when playing
[12:45:10.997] [SYSTEM] ğŸ“Š Tracking view_start for video test_vid...
[12:45:11.078] [SYSTEM] Registered background-aware service: AnalyticsService
[12:45:11.078] [SYSTEM] ğŸ“± Registered AnalyticsService with background activity manager
[12:45:11.079] [SYSTEM] Analytics service initialized (enabled: true)
[12:45:11.086] [SYSTEM] Analytics attempt 1 failed: Exception: HTTP 400: 
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following TestFailure was thrown running a test:
Expected: true
  Actual: <false>

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/integration/video_metrics_tracking_test.dart:85:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///Users/rabble/code/andotherstuff/openvine/mobile/test/integration/video_metrics_tracking_test.dart line 85
The test description was:
  marks video as seen when playing
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:26 +290 ~1 -85: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:26 +290 ~1 -85: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/video_metrics_tracking_test.dart: VideoMetricsTracker Integration marks video as seen when playing [E]
  Test failed. See exception logs above.
  The test description was: marks video as seen when playing
  
Warning: At least one test in this suite creates an HttpClient. When running a test suite that uses
TestWidgetsFlutterBinding, all HTTP requests will return status code 400, and no network request
will actually be made. Any test expecting a real network connection and status code will fail.
To test code that needs an HttpClient, provide your own HttpClient implementation to the code under
test, so that your test can consistently provide a testable response to the code under test.
[12:45:11.175] [SYSTEM] ğŸ“± Saved 0 seen videos with metrics
00:26 +290 ~1 -85: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/video_metrics_tracking_test.dart: VideoMetricsTracker Integration tracks loop count
[12:45:11.179] [SYSTEM] ğŸ“±ï¸ SeenVideosService initialized with 0 seen videos
[12:45:11.209] [SYSTEM] ğŸ“Š Tracking view_start for video looping_...
[12:45:11.222] [SYSTEM] Registered background-aware service: AnalyticsService
[12:45:11.223] [SYSTEM] ğŸ“± Registered AnalyticsService with background activity manager
[12:45:11.223] [SYSTEM] Analytics service initialized (enabled: true)
[12:45:11.226] [SYSTEM] Analytics attempt 1 failed: Exception: HTTP 400: 
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following TestFailure was thrown running a test:
Expected: true
  Actual: <false>

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/integration/video_metrics_tracking_test.dart:143:7)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///Users/rabble/code/andotherstuff/openvine/mobile/test/integration/video_metrics_tracking_test.dart line 143
The test description was:
  tracks loop count
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:26 +290 ~1 -86: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:26 +290 ~1 -86: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/video_metrics_tracking_test.dart: VideoMetricsTracker Integration tracks loop count [E]
  Test failed. See exception logs above.
  The test description was: tracks loop count
  
[12:45:11.244] [SYSTEM] ğŸ“± Saved 0 seen videos with metrics
00:26 +290 ~1 -86: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/video_metrics_tracking_test.dart: VideoMetricsTracker Integration does not mark as seen if video errors
[12:45:11.248] [SYSTEM] ğŸ“±ï¸ SeenVideosService initialized with 0 seen videos
[12:45:11.269] [SYSTEM] ğŸ“Š Tracking view_start for video error_vi...
[12:45:11.277] [SYSTEM] Registered background-aware service: AnalyticsService
[12:45:11.280] [SYSTEM] ğŸ“± Registered AnalyticsService with background activity manager
[12:45:11.280] [SYSTEM] Analytics service initialized (enabled: true)
[12:45:11.281] [SYSTEM] Analytics attempt 1 failed: Exception: HTTP 400: 
Pending timers:
Timer (duration: 0:05:00.000000, periodic: true), created:
#0      new FakeTimer._ (package:fake_async/fake_async.dart:342:62)
#1      FakeAsync._createTimer (package:fake_async/fake_async.dart:260:29)
#2      FakeAsync.run.<anonymous closure> (package:fake_async/fake_async.dart:187:15)
#5      AnalyticsService.initialize (package:openvine/services/analytics_service.dart:49:29)
<asynchronous suspension>
(elided 2 frames from dart:async)

Timer (duration: 0:00:01.000000, periodic: false), created:
#0      new FakeTimer._ (package:fake_async/fake_async.dart:342:62)
#1      FakeAsync._createTimer (package:fake_async/fake_async.dart:260:29)
#2      FakeAsync.run.<anonymous closure> (package:fake_async/fake_async.dart:185:15)
#6      AnalyticsService._trackDetailedVideoViewWithRetry (package:openvine/services/analytics_service.dart:265:22)
<asynchronous suspension>
(elided 3 frames from dart:async)

â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following assertion was thrown running a test:
A Timer is still pending even after the widget tree was disposed.
'package:flutter_test/src/binding.dart':
Failed assertion: line 1617 pos 12: '!timersPending'

When the exception was thrown, this was the stack:
#2      AutomatedTestWidgetsFlutterBinding._verifyInvariants (package:flutter_test/src/binding.dart:1617:12)
#3      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1078:7)
<asynchronous suspension>
<asynchronous suspension>
(elided 3 frames from class _AssertionError and package:stack_trace)

The test description was:
  does not mark as seen if video errors
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
00:26 +290 ~1 -87: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:26 +290 ~1 -87: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/video_metrics_tracking_test.dart: VideoMetricsTracker Integration does not mark as seen if video errors [E]
  Test failed. See exception logs above.
  The test description was: does not mark as seen if video errors
  
[12:45:11.341] [SYSTEM] ğŸ“± Saved 0 seen videos with metrics
00:27 +290 ~1 -88: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:27 +290 ~1 -88: /Users/rabble/code/andotherstuff/openvine/mobile/test/tools/future_delayed_detector_test.dart: FutureDelayedDetector can output results in JSON format [E]
  Expected: contains '"file":'
    Actual: ''
     Which: does not contain '"file":'
  JSON output should contain file field
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test/tools/future_delayed_detector_test.dart 239:7  main.<fn>.<fn>
  
00:27 +290 ~1 -88: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/relay_pagination_integration_test.dart: Real Relay Pagination Integration (setUpAll)
[12:45:12.546] [SYSTEM] Log level set to: debug
00:27 +290 ~1 -88: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:27 +290 ~1 -88: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/relay_pagination_integration_test.dart: Real Relay Pagination Integration should get real kind 32222 video events from relay3.openvine.co
[12:45:12.560] [AUTH] Initializing SecureKeyStorageService
[12:45:12.560] [SYSTEM] Initializing platform-specific secure storage
[12:45:12.565] [SYSTEM] Failed to detect capabilities, using fallback: MissingPluginException(No implementation found for method getCapabilities on channel openvine.secure_storage)
[12:45:12.567] [SYSTEM] ğŸ“±ï¸ Initializing macOS Keychain integration
[12:45:12.568] [SYSTEM] macOS uses software-based Keychain storage (no hardware backing)
[12:45:12.569] [SYSTEM] Platform secure storage initialized for macOS
[12:45:12.570] [SYSTEM] Platform secure storage initialized for macOS
ğŸ“Š Capabilities: basicSecureStorage
[12:45:12.572] [AUTH] SecureKeyStorageService initialized
[12:45:12.578] [AUTH] ğŸ“± Security level: Software-only
[12:45:12.602] [SYSTEM] Failed to check key existence: MissingPluginException(No implementation found for method read on channel plugins.it_nomads.com/flutter_secure_storage)
00:27 +290 ~1 -89: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:27 +290 ~1 -89: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/search_hybrid_relay_test.dart: Hybrid Search with Real Relay Integration should search local cache and then query remote relay
ğŸ¯ Found 0 search results from relay
[12:45:12.657] Starting disposal...
[12:45:12.659] Embedded relay is still initialized, checking if shutdown is safe
[12:45:12.660] Skipping embedded relay shutdown to prevent event publishing issues
00:27 +290 ~1 -89: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/relay_pagination_integration_test.dart: Real Relay Pagination Integration should get real kind 32222 video events from relay3.openvine.co [E]
  MissingPluginException(No implementation found for method getAll on channel plugins.flutter.io/shared_preferences)
  dart:async                                                           _Completer.completeError
  package:shared_preferences/src/shared_preferences_legacy.dart 91:19  SharedPreferences.getInstance
  ===== asynchronous gap ===========================
  dart:async                                                           _CustomZone.registerBinaryCallback
  package:shared_preferences/src/shared_preferences_legacy.dart 86:13  SharedPreferences.getInstance
  package:openvine/services/nostr_key_manager.dart 81:45               NostrKeyManager.initialize
  ===== asynchronous gap ===========================
  dart:async                                                           _CustomZone.registerUnaryCallback
  package:openvine/services/nostr_key_manager.dart 56:7                NostrKeyManager.initialize
  test/integration/relay_pagination_integration_test.dart 51:24        main.<fn>.<fn>
  
00:27 +290 ~1 -89: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/search_hybrid_relay_test.dart: Hybrid Search with Real Relay Integration should search local cache and then query remote relay
[12:45:12.663] Removed external relay: wss://relay3.openvine.co
[12:45:12.663] Disposal complete
00:27 +291 ~1 -89: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:27 +291 ~1 -89: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/relay_pagination_integration_test.dart: Real Relay Pagination Integration should get real kind 32222 video events from relay3.openvine.co [E]
  LateInitializationError: Local 'videoEventService' has not been initialized.
  dart:_internal                                           LateError._throwLocalNotInitialized
  test/integration/relay_pagination_integration_test.dart  main.<fn>.<fn>
  
00:27 +291 ~1 -89: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/search_hybrid_relay_test.dart: Hybrid Search with Real Relay Integration should combine and deduplicate local + remote results
[12:45:12.668] [AUTH] Initializing SecureKeyStorageService
[12:45:12.669] [AUTH] SecureKeyStorageService initialized
[12:45:12.669] [AUTH] ğŸ“± Security level: Software-only
[12:45:12.669] [SYSTEM] Failed to check key existence: MissingPluginException(No implementation found for method read on channel plugins.it_nomads.com/flutter_secure_storage)
[12:45:12.669] Initialization: Creating embedded relay instance
[12:45:12.669] Initialization: Starting embedded relay initialization
[12:45:12.670] Initialization: Embedded relay initialized successfully
00:27 +291 ~1 -89: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/relay_pagination_integration_test.dart: Real Relay Pagination Integration should handle rapid pagination requests correctly
[12:45:12.671] [AUTH] Initializing SecureKeyStorageService
[12:45:12.672] [AUTH] SecureKeyStorageService initialized
[12:45:12.672] [AUTH] ğŸ“± Security level: Software-only
[12:45:12.672] [SYSTEM] Failed to check key existence: MissingPluginException(No implementation found for method read on channel plugins.it_nomads.com/flutter_secure_storage)
00:27 +291 ~1 -90: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:27 +291 ~1 -90: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/relay_pagination_integration_test.dart: Real Relay Pagination Integration should handle rapid pagination requests correctly [E]
  MissingPluginException(No implementation found for method getAll on channel plugins.flutter.io/shared_preferences)
  dart:async                                                           _Completer.completeError
  package:shared_preferences/src/shared_preferences_legacy.dart 91:19  SharedPreferences.getInstance
  ===== asynchronous gap ===========================
  dart:async                                                           _CustomZone.registerBinaryCallback
  package:shared_preferences/src/shared_preferences_legacy.dart 86:13  SharedPreferences.getInstance
  package:openvine/services/nostr_key_manager.dart 81:45               NostrKeyManager.initialize
  ===== asynchronous gap ===========================
  dart:async                                                           _CustomZone.registerUnaryCallback
  package:openvine/services/nostr_key_manager.dart 56:7                NostrKeyManager.initialize
  test/integration/relay_pagination_integration_test.dart 51:24        main.<fn>.<fn>
  
  LateInitializationError: Local 'videoEventService' has not been initialized.
  dart:_internal                                           LateError._throwLocalNotInitialized
  test/integration/relay_pagination_integration_test.dart  main.<fn>.<fn>
  
00:27 +291 ~1 -90: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:28 +291 ~1 -91: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:28 +291 ~1 -91: /Users/rabble/code/andotherstuff/openvine/mobile/test/tools/future_delayed_detector_test.dart: FutureDelayedDetector excludes test files by default [E]
  Expected: <0>
    Actual: <254>
  Should exit with 0 when only test files have Future.delayed
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test/tools/future_delayed_detector_test.dart 283:7  main.<fn>.<fn>
  
00:28 +291 ~1 -91: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:28 +291 ~1 -91: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/subscription_manager_tdd_test.dart: SubscriptionManager TDD - Real Relay Tests SubscriptionManager should receive kind 22 events from OpenVine relay
[12:45:13.981] [SYSTEM] ğŸ” TDD TEST: Testing SubscriptionManager with real OpenVine relay...
00:28 +291 ~1 -92: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:29 +291 ~1 -92: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/subscription_manager_tdd_test.dart: SubscriptionManager TDD - Real Relay Tests SubscriptionManager should receive kind 22 events from OpenVine relay [E]
  Bad state: Embedded relay not initialized
  package:openvine/services/nostr_service.dart 262:7         NostrService.subscribeToEvents
  package:openvine/services/subscription_manager.dart 69:39  SubscriptionManager.createSubscription
  test/integration/subscription_manager_tdd_test.dart 94:56  main.<fn>.<fn>
  
00:29 +291 ~1 -92: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/subscription_manager_tdd_test.dart: SubscriptionManager TDD - Real Relay Tests Direct subscription should work for comparison (proves relay has events)
[12:45:14.027] [SYSTEM] ğŸ” TDD: Testing direct subscription as control test...
00:29 +291 ~1 -93: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:29 +291 ~1 -93: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/subscription_manager_tdd_test.dart: SubscriptionManager TDD - Real Relay Tests Direct subscription should work for comparison (proves relay has events) [E]
  Bad state: Embedded relay not initialized
  package:openvine/services/nostr_service.dart 262:7          NostrService.subscribeToEvents
  test/integration/subscription_manager_tdd_test.dart 166:41  main.<fn>.<fn>
  
00:29 +291 ~1 -93: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/subscription_manager_tdd_test.dart: SubscriptionManager TDD - Real Relay Tests (tearDownAll)
[12:45:14.040] Starting disposal...
[12:45:14.041] Disposal complete
00:29 +291 ~1 -93: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:29 +291 ~1 -93: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/search_hybrid_relay_test.dart: Hybrid Search with Real Relay Integration should combine and deduplicate local + remote results
ğŸ“¦ Local matches: 0
00:30 +291 ~1 -93: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/square_video_recording_test.dart: Square Video Recording Tests recorded video should have 1:1 (square) aspect ratio
[12:45:15.503] [SYSTEM] ğŸ§¹ Cleaned up recording resources
[12:45:15.510] [SYSTEM] VineRecordingController initialization failed: Exception: Failed to initialize native macOS camera
00:30 +291 ~1 -94: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:30 +291 ~1 -94: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/square_video_recording_test.dart: Square Video Recording Tests recorded video should have 1:1 (square) aspect ratio [E]
  Exception: Failed to initialize native macOS camera
  package:openvine/services/vine_recording_controller.dart 360:7  MacOSCameraInterface.initialize
  
  Bad state: Tried to use VineRecordingNotifier after `dispose` was called.
  
  Consider checking `mounted`.
  
  package:state_notifier/state_notifier.dart 175:9                           StateNotifier._debugIsMounted.<fn>
  package:state_notifier/state_notifier.dart 182:6                           StateNotifier._debugIsMounted
  package:state_notifier/state_notifier.dart 323:12                          StateNotifier.dispose
  package:openvine/providers/vine_recording_provider.dart 151:11             VineRecordingNotifier.dispose
  package:riverpod/src/core/provider_container.dart 653:9                    InternalProviderContainer.runGuarded
  package:riverpod/src/providers/legacy/state_notifier_provider.dart 197:17  _StateNotifierProviderElement.runOnDispose
  package:riverpod/src/core/element.dart 1160:5                              ProviderElement.clearState
  package:riverpod/src/core/element.dart 1191:5                              ProviderElement.dispose
  package:riverpod/src/core/element.dart 322:11                              ElementWithFuture.dispose
  package:riverpod/src/core/provider_container.dart 1125:15                  ProviderContainer._dispose
  package:riverpod/src/core/provider_container.dart 1139:21                  ProviderContainer.dispose
  
[12:45:15.757] [SYSTEM] ğŸ“± Native macOS camera interface reset
[12:45:15.757] [SYSTEM] ğŸ§¹ Cleaned up recording resources
[12:45:15.759] [SYSTEM] ğŸ“± Native macOS camera interface reset
[12:45:15.759] [SYSTEM] ğŸ§¹ Cleaned up recording resources
00:30 +291 ~1 -94: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/square_video_recording_test.dart: Square Video Recording Tests recorded segments should maintain square aspect ratio
[12:45:15.779] [SYSTEM] ğŸ§¹ Cleaned up recording resources
[12:45:15.781] [SYSTEM] VineRecordingController initialization failed: Exception: Failed to initialize native macOS camera
00:30 +291 ~1 -95: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:30 +291 ~1 -95: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/square_video_recording_test.dart: Square Video Recording Tests recorded segments should maintain square aspect ratio [E]
  Exception: Failed to initialize native macOS camera
  package:openvine/services/vine_recording_controller.dart 360:7  MacOSCameraInterface.initialize
  
  Bad state: Tried to use VineRecordingNotifier after `dispose` was called.
  
  Consider checking `mounted`.
  
  package:state_notifier/state_notifier.dart 175:9                           StateNotifier._debugIsMounted.<fn>
  package:state_notifier/state_notifier.dart 182:6                           StateNotifier._debugIsMounted
  package:state_notifier/state_notifier.dart 323:12                          StateNotifier.dispose
  package:openvine/providers/vine_recording_provider.dart 151:11             VineRecordingNotifier.dispose
  package:riverpod/src/core/provider_container.dart 653:9                    InternalProviderContainer.runGuarded
  package:riverpod/src/providers/legacy/state_notifier_provider.dart 197:17  _StateNotifierProviderElement.runOnDispose
  package:riverpod/src/core/element.dart 1160:5                              ProviderElement.clearState
  package:riverpod/src/core/element.dart 1191:5                              ProviderElement.dispose
  package:riverpod/src/core/element.dart 322:11                              ElementWithFuture.dispose
  package:riverpod/src/core/provider_container.dart 1125:15                  ProviderContainer._dispose
  package:riverpod/src/core/provider_container.dart 1139:21                  ProviderContainer.dispose
  
[12:45:15.788] [SYSTEM] ğŸ“± Native macOS camera interface reset
[12:45:15.789] [SYSTEM] ğŸ§¹ Cleaned up recording resources
[12:45:15.789] [SYSTEM] ğŸ“± Native macOS camera interface reset
[12:45:15.789] [SYSTEM] ğŸ§¹ Cleaned up recording resources
00:30 +291 ~1 -95: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/square_video_recording_test.dart: Square Video Recording Tests video metadata should report square dimensions
[12:45:15.801] [SYSTEM] ğŸ§¹ Cleaned up recording resources
[12:45:15.802] [SYSTEM] VineRecordingController initialization failed: Exception: Failed to initialize native macOS camera
00:30 +291 ~1 -96: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:30 +291 ~1 -96: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/square_video_recording_test.dart: Square Video Recording Tests video metadata should report square dimensions [E]
  Exception: Failed to initialize native macOS camera
  package:openvine/services/vine_recording_controller.dart 360:7  MacOSCameraInterface.initialize
  
  Bad state: Tried to use VineRecordingNotifier after `dispose` was called.
  
  Consider checking `mounted`.
  
  package:state_notifier/state_notifier.dart 175:9                           StateNotifier._debugIsMounted.<fn>
  package:state_notifier/state_notifier.dart 182:6                           StateNotifier._debugIsMounted
  package:state_notifier/state_notifier.dart 323:12                          StateNotifier.dispose
  package:openvine/providers/vine_recording_provider.dart 151:11             VineRecordingNotifier.dispose
  package:riverpod/src/core/provider_container.dart 653:9                    InternalProviderContainer.runGuarded
  package:riverpod/src/providers/legacy/state_notifier_provider.dart 197:17  _StateNotifierProviderElement.runOnDispose
  package:riverpod/src/core/element.dart 1160:5                              ProviderElement.clearState
  package:riverpod/src/core/element.dart 1191:5                              ProviderElement.dispose
  package:riverpod/src/core/element.dart 322:11                              ElementWithFuture.dispose
  package:riverpod/src/core/provider_container.dart 1125:15                  ProviderContainer._dispose
  package:riverpod/src/core/provider_container.dart 1139:21                  ProviderContainer.dispose
  
[12:45:15.808] [SYSTEM] ğŸ“± Native macOS camera interface reset
[12:45:15.809] [SYSTEM] ğŸ§¹ Cleaned up recording resources
[12:45:15.809] [SYSTEM] ğŸ“± Native macOS camera interface reset
[12:45:15.809] [SYSTEM] ğŸ§¹ Cleaned up recording resources
00:31 +291 ~1 -97: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:31 +291 ~1 -97: /Users/rabble/code/andotherstuff/openvine/mobile/test/tools/future_delayed_detector_test.dart: FutureDelayedDetector can include test files with flag [E]
  Expected: <1>
    Actual: <254>
  Should find Future.delayed when including tests
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test/tools/future_delayed_detector_test.dart 317:7  main.<fn>.<fn>
  
00:31 +291 ~1 -97: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests (setUpAll)
[12:45:16.325] [SYSTEM] Log level set to: debug
[12:45:16.327] [SYSTEM] Starting embedded relay performance tests
00:31 +291 ~1 -97: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:31 +291 ~1 -97: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests embedded relay initializes quickly
[12:45:16.383] [SYSTEM] Performance test setup complete
[12:45:16.386] Initialization: Creating embedded relay instance
[12:45:16.386] Initialization: Starting embedded relay initialization
[2025-10-17T12:45:16.395532] SEVERE: Database initialization failed ERROR: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
[2025-10-17T12:45:16.396610] SEVERE: Stack trace ERROR: #0      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:365:7)
<asynchronous suspension>
#1      getApplicationSupportDirectory (package:path_provider/path_provider.dart:78:24)
<asynchronous suspension>
#2      DatabaseHelper._initDatabase (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:78:32)
<asynchronous suspension>
#3      DatabaseHelper.database (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:40:17)
<asynchronous suspension>
#4      EmbeddedNostrRelay.initialize (package:flutter_embedded_nostr_relay/src/core/embedded_nostr_relay.dart:215:18)
<asynchronous suspension>
#5      NostrService.initialize (package:openvine/services/nostr_service.dart:87:11)
<asynchronous suspension>
#6      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart:50:7)
<asynchronous suspension>
#7      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#8      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#9      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

[12:45:16.398] Initialization: Embedded relay failed: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
[12:45:16.405] [SYSTEM] Embedded relay initialized in 15ms
[12:45:16.407] [SYSTEM] Performance test teardown complete
00:31 +292 ~1 -97: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:31 +292 ~1 -97: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests video feed subscription performance < 100ms
[12:45:16.417] [SYSTEM] Performance test setup complete
[12:45:16.418] Initialization: Creating embedded relay instance
[12:45:16.420] Initialization: Starting embedded relay initialization
00:31 +292 ~1 -97: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests embedded relay initializes quickly
[2025-10-17T12:45:16.422241] SEVERE: Database initialization failed ERROR: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
[2025-10-17T12:45:16.422667] SEVERE: Stack trace ERROR: #0      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:365:7)
<asynchronous suspension>
#1      getApplicationSupportDirectory (package:path_provider/path_provider.dart:78:24)
<asynchronous suspension>
#2      DatabaseHelper._initDatabase (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:78:32)
<asynchronous suspension>
#3      DatabaseHelper.database (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:40:17)
<asynchronous suspension>
#4      EmbeddedNostrRelay.initialize (package:flutter_embedded_nostr_relay/src/core/embedded_nostr_relay.dart:215:18)
<asynchronous suspension>
#5      NostrService.initialize (package:openvine/services/nostr_service.dart:87:11)
<asynchronous suspension>
#6      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart:64:7)
<asynchronous suspension>
#7      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#8      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#9      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

00:31 +292 ~1 -97: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests video feed subscription performance < 100ms
[12:45:16.424] Initialization: Embedded relay failed: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
00:31 +292 ~1 -98: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:31 +292 ~1 -98: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests video feed subscription performance < 100ms [E]
  Expected: true
    Actual: <false>
  
  package:matcher                                             expect
  package:flutter_test/src/widget_tester.dart 473:18          expect
  test/integration/embedded_relay_performance_test.dart 79:7  main.<fn>.<fn>
  
[12:45:16.529] [SYSTEM] Performance test teardown complete
00:31 +292 ~1 -98: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests multiple concurrent subscriptions perform well
[12:45:16.532] [SYSTEM] Performance test setup complete
[12:45:16.534] Initialization: Creating embedded relay instance
[12:45:16.534] Initialization: Starting embedded relay initialization
00:31 +292 ~1 -98: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests embedded relay initializes quickly
[2025-10-17T12:45:16.536737] SEVERE: Database initialization failed ERROR: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
[2025-10-17T12:45:16.537573] SEVERE: Stack trace ERROR: #0      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:365:7)
<asynchronous suspension>
#1      getApplicationSupportDirectory (package:path_provider/path_provider.dart:78:24)
<asynchronous suspension>
#2      DatabaseHelper._initDatabase (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:78:32)
<asynchronous suspension>
#3      DatabaseHelper.database (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:40:17)
<asynchronous suspension>
#4      EmbeddedNostrRelay.initialize (package:flutter_embedded_nostr_relay/src/core/embedded_nostr_relay.dart:215:18)
<asynchronous suspension>
#5      NostrService.initialize (package:openvine/services/nostr_service.dart:87:11)
<asynchronous suspension>
#6      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart:90:7)
<asynchronous suspension>
#7      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#8      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#9      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

00:31 +292 ~1 -98: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests multiple concurrent subscriptions perform well
[12:45:16.537] Initialization: Embedded relay failed: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
00:31 +292 ~1 -99: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:31 +292 ~1 -99: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests multiple concurrent subscriptions perform well [E]
  Expected: true
    Actual: <false>
  
  package:matcher                                              expect
  package:flutter_test/src/widget_tester.dart 473:18           expect
  test/integration/embedded_relay_performance_test.dart 117:7  main.<fn>.<fn>
  
[12:45:16.548] [SYSTEM] Performance test teardown complete
00:31 +292 ~1 -99: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests embedded relay connection status and metrics
[12:45:16.560] [SYSTEM] Performance test setup complete
[12:45:16.562] Initialization: Creating embedded relay instance
[12:45:16.562] Initialization: Starting embedded relay initialization
00:31 +292 ~1 -99: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests embedded relay initializes quickly
[2025-10-17T12:45:16.564384] SEVERE: Database initialization failed ERROR: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
[2025-10-17T12:45:16.564996] SEVERE: Stack trace ERROR: #0      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:365:7)
<asynchronous suspension>
#1      getApplicationSupportDirectory (package:path_provider/path_provider.dart:78:24)
<asynchronous suspension>
#2      DatabaseHelper._initDatabase (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:78:32)
<asynchronous suspension>
#3      DatabaseHelper.database (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:40:17)
<asynchronous suspension>
#4      EmbeddedNostrRelay.initialize (package:flutter_embedded_nostr_relay/src/core/embedded_nostr_relay.dart:215:18)
<asynchronous suspension>
#5      NostrService.initialize (package:openvine/services/nostr_service.dart:87:11)
<asynchronous suspension>
#6      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart:130:7)
<asynchronous suspension>
#7      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#8      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#9      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

00:31 +292 ~1 -99: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests embedded relay connection status and metrics
[12:45:16.565] Initialization: Embedded relay failed: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
00:31 +292 ~1 -100: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:31 +292 ~1 -100: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests embedded relay connection status and metrics [E]
  Expected: non-empty
    Actual: []
  
  package:matcher                                              expect
  package:flutter_test/src/widget_tester.dart 473:18           expect
  test/integration/embedded_relay_performance_test.dart 137:7  main.<fn>.<fn>
  
[12:45:16.569] [SYSTEM] Performance test teardown complete
00:31 +292 ~1 -100: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests subscription manager with embedded relay performs efficiently
[12:45:16.573] [SYSTEM] Performance test setup complete
[12:45:16.574] Initialization: Creating embedded relay instance
[12:45:16.574] Initialization: Starting embedded relay initialization
00:31 +292 ~1 -100: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests embedded relay initializes quickly
[2025-10-17T12:45:16.576651] SEVERE: Database initialization failed ERROR: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
[2025-10-17T12:45:16.577824] SEVERE: Stack trace ERROR: #0      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:365:7)
<asynchronous suspension>
#1      getApplicationSupportDirectory (package:path_provider/path_provider.dart:78:24)
<asynchronous suspension>
#2      DatabaseHelper._initDatabase (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:78:32)
<asynchronous suspension>
#3      DatabaseHelper.database (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:40:17)
<asynchronous suspension>
#4      EmbeddedNostrRelay.initialize (package:flutter_embedded_nostr_relay/src/core/embedded_nostr_relay.dart:215:18)
<asynchronous suspension>
#5      NostrService.initialize (package:openvine/services/nostr_service.dart:87:11)
<asynchronous suspension>
#6      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart:160:7)
<asynchronous suspension>
#7      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#8      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#9      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

00:31 +292 ~1 -100: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests subscription manager with embedded relay performs efficiently
[12:45:16.578] Initialization: Embedded relay failed: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
[12:45:16.579] [SYSTEM] âœ¨ All requested data found in cache - skipping relay subscription
00:31 +292 ~1 -101: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:31 +292 ~1 -101: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests subscription manager with embedded relay performs efficiently [E]
  Expected: true
    Actual: <false>
  
  package:matcher                                              expect
  package:flutter_test/src/widget_tester.dart 473:18           expect
  test/integration/embedded_relay_performance_test.dart 179:7  main.<fn>.<fn>
  
[12:45:16.584] [SYSTEM] Performance test teardown complete
00:31 +292 ~1 -101: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests embedded relay handles rapid subscription changes
[12:45:16.589] [SYSTEM] Performance test setup complete
[12:45:16.590] Initialization: Creating embedded relay instance
[12:45:16.590] Initialization: Starting embedded relay initialization
00:31 +292 ~1 -101: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests embedded relay initializes quickly
[2025-10-17T12:45:16.594615] SEVERE: Database initialization failed ERROR: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
[2025-10-17T12:45:16.595163] SEVERE: Stack trace ERROR: #0      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:365:7)
<asynchronous suspension>
#1      getApplicationSupportDirectory (package:path_provider/path_provider.dart:78:24)
<asynchronous suspension>
#2      DatabaseHelper._initDatabase (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:78:32)
<asynchronous suspension>
#3      DatabaseHelper.database (package:flutter_embedded_nostr_relay/src/storage/database_helper.dart:40:17)
<asynchronous suspension>
#4      EmbeddedNostrRelay.initialize (package:flutter_embedded_nostr_relay/src/core/embedded_nostr_relay.dart:215:18)
<asynchronous suspension>
#5      NostrService.initialize (package:openvine/services/nostr_service.dart:87:11)
<asynchronous suspension>
#6      main.<anonymous closure>.<anonymous closure> (file:///Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart:194:7)
<asynchronous suspension>
#7      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#8      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#9      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

00:31 +292 ~1 -101: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/embedded_relay_performance_test.dart: Embedded Relay Performance Tests embedded relay handles rapid subscription changes
[12:45:16.595] Initialization: Embedded relay failed: MissingPluginException(No implementation found for method getApplicationSupportDirectory on channel plugins.flutter.io/path_provider)
[12:45:16.600] [SYSTEM] Rapid subscription changes completed in 3ms
[12:45:16.600] [SYSTEM] âœ… Embedded relay handled rapid subscription changes efficiently
[12:45:16.600] [SYSTEM] Performance test teardown complete
00:31 +293 ~1 -101: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:31 +293 ~1 -101: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/search_hybrid_relay_test.dart: Hybrid Search with Real Relay Integration should combine and deduplicate local + remote results
ğŸŒ Remote results: 0
âœ… Combined unique results: 0
   Duplicates removed: 0
[12:45:16.692] Starting disposal...
[12:45:16.693] Embedded relay is still initialized, checking if shutdown is safe
[12:45:16.694] Skipping embedded relay shutdown to prevent event publishing issues
[12:45:16.695] Removed external relay: wss://relay3.openvine.co
[12:45:16.695] Disposal complete
00:31 +294 ~1 -101: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:31 +294 ~1 -101: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/search_hybrid_relay_test.dart: Hybrid Search with Real Relay Integration should extract unique users and hashtags from search results
[12:45:16.701] [AUTH] Initializing SecureKeyStorageService
[12:45:16.702] [AUTH] SecureKeyStorageService initialized
[12:45:16.702] [AUTH] ğŸ“± Security level: Software-only
[12:45:16.703] [SYSTEM] Failed to check key existence: MissingPluginException(No implementation found for method read on channel plugins.it_nomads.com/flutter_secure_storage)
[12:45:16.704] Initialization: Creating embedded relay instance
[12:45:16.704] Initialization: Starting embedded relay initialization
[12:45:16.704] Initialization: Embedded relay initialized successfully
00:33 +294 ~1 -102: loading /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/proofmode_recording_integration_test.dart [E]
  Failed to load "/Users/rabble/code/andotherstuff/openvine/mobile/test/integration/proofmode_recording_integration_test.dart":
  Unable to load asset: "FontManifest.json".
  The asset does not exist or has empty data.
  package:flutter/src/services/asset_bundle.dart 340:7                                                                    PlatformAssetBundle.load
  package:flutter/src/services/asset_bundle.dart 92:33                                                                    AssetBundle.loadString
  package:flutter/src/services/asset_bundle.dart 195:18                                                                   CachingAssetBundle.loadString
  package:flutter/src/services/asset_bundle.dart 219:5                                                                    CachingAssetBundle.loadStructuredData
  package:golden_toolkit/src/font_loader.dart 22:41                                                                       loadAppFonts
  test/flutter_test_config.dart 11:9                                                                                      testExecutable
  /var/folders/nt/9j5638qs1r9fdp0h2j2pxx740000gn/T/flutter_tools.OYjcEr/flutter_test_listener.uGeyCk/listener.dart 50:30  main.<fn>.<fn>
  
/Users/rabble/code/andotherstuff/openvine/mobile/.dart_tool/package_config.json does not exist.
Did you run this command from the same directory as your pubspec.yaml file?
00:34 +294 ~1 -103: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:34 +294 ~1 -103: /Users/rabble/code/andotherstuff/openvine/mobile/test/tools/future_delayed_detector_test.dart: FutureDelayedDetector provides fix option to replace with AsyncUtils [E]
  Expected: <0>
    Actual: <254>
  Should succeed when fixing
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test/tools/future_delayed_detector_test.dart 350:7  main.<fn>.<fn>
  
00:34 +294 ~1 -104: loading /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/secure_key_storage_integration_test.dart [E]
  Failed to load "/Users/rabble/code/andotherstuff/openvine/mobile/test/integration/secure_key_storage_integration_test.dart":
  Unable to load asset: "FontManifest.json".
  The asset does not exist or has empty data.
  package:flutter/src/services/asset_bundle.dart 340:7                                                                    PlatformAssetBundle.load
  package:flutter/src/services/asset_bundle.dart 92:33                                                                    AssetBundle.loadString
  package:flutter/src/services/asset_bundle.dart 195:18                                                                   CachingAssetBundle.loadString
  package:flutter/src/services/asset_bundle.dart 219:5                                                                    CachingAssetBundle.loadStructuredData
  package:golden_toolkit/src/font_loader.dart 22:41                                                                       loadAppFonts
  test/flutter_test_config.dart 11:9                                                                                      testExecutable
  /var/folders/nt/9j5638qs1r9fdp0h2j2pxx740000gn/T/flutter_tools.OYjcEr/flutter_test_listener.k3QwyR/listener.dart 50:30  main.<fn>.<fn>
  
00:35 +294 ~1 -104: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/real_video_subscription_test.dart: Real Video Subscription Test (setUpAll)
[12:45:20.209] [SYSTEM] Connection timeout, proceeding anyway: TimeoutException after 0:00:15.000000: Future not completed
[12:45:20.210] [SYSTEM] âœ… Connection status: 0 relays connected
00:35 +294 ~1 -104: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:35 +294 ~1 -104: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/real_video_subscription_test.dart: Real Video Subscription Test VideoEventService should receive videos from relay3.openvine.co relay
[12:45:20.225] [SYSTEM] ğŸ” Testing VideoEventService with real relay3.openvine.co relay...
[12:45:20.225] [SYSTEM] ğŸ“¡ Subscribing to video feed...
[12:45:20.231] [SYSTEM] ğŸ“¡ Subscription created. Waiting for events...
[12:45:20.232] [SYSTEM] ğŸ“¡ VideoEventService isSubscribed: Closure: (SubscriptionType) => bool from Function 'isSubscribed':.
[12:45:20.233] [SYSTEM] ğŸ“¡ VideoEventService isLoading: false
[12:45:20.234] [SYSTEM] ğŸ“¡ VideoEventService error: Exception: No connected relays
00:35 +294 ~1 -104: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/search_hybrid_relay_test.dart: Hybrid Search with Real Relay Integration should extract unique users and hashtags from search results
âš ï¸ No results returned, skipping assertions
[12:45:20.721] Starting disposal...
[12:45:20.722] Embedded relay is still initialized, checking if shutdown is safe
[12:45:20.722] Skipping embedded relay shutdown to prevent event publishing issues
[12:45:20.723] Removed external relay: wss://relay3.openvine.co
[12:45:20.723] Disposal complete
00:35 +295 ~1 -104: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:35 +295 ~1 -104: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/search_hybrid_relay_test.dart: Hybrid Search with Real Relay Integration should handle search with no results gracefully
[12:45:20.727] [AUTH] Initializing SecureKeyStorageService
[12:45:20.728] [AUTH] SecureKeyStorageService initialized
[12:45:20.729] [AUTH] ğŸ“± Security level: Software-only
00:35 +295 ~1 -104: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/real_video_subscription_test.dart: Real Video Subscription Test VideoEventService should receive videos from relay3.openvine.co relay
[12:45:20.729] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
00:35 +295 ~1 -104: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/search_hybrid_relay_test.dart: Hybrid Search with Real Relay Integration should handle search with no results gracefully
[12:45:20.729] [SYSTEM] Failed to check key existence: MissingPluginException(No implementation found for method read on channel plugins.it_nomads.com/flutter_secure_storage)
[12:45:20.730] Initialization: Creating embedded relay instance
[12:45:20.730] Initialization: Starting embedded relay initialization
[12:45:20.730] Initialization: Embedded relay initialized successfully
00:36 +295 ~1 -104: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/real_video_subscription_test.dart: Real Video Subscription Test VideoEventService should receive videos from relay3.openvine.co relay
[12:45:21.228] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:21.728] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:22.228] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:22.728] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:23.228] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:23.727] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:24.227] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:24.728] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
00:39 +295 ~1 -104: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/search_hybrid_relay_test.dart: Hybrid Search with Real Relay Integration should handle search with no results gracefully
ğŸ” Search for "xyzabc123impossible456query789" returned 0 results
[12:45:24.739] Starting disposal...
[12:45:24.739] Embedded relay is still initialized, checking if shutdown is safe
[12:45:24.740] Skipping embedded relay shutdown to prevent event publishing issues
[12:45:24.741] Removed external relay: wss://relay3.openvine.co
[12:45:24.742] Disposal complete
00:39 +296 ~1 -104: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:39 +296 ~1 -104: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/search_hybrid_relay_test.dart: Hybrid Search with Real Relay Integration should clear search results when requested
[12:45:24.748] [AUTH] Initializing SecureKeyStorageService
[12:45:24.749] [AUTH] SecureKeyStorageService initialized
[12:45:24.749] [AUTH] ğŸ“± Security level: Software-only
[12:45:24.751] [SYSTEM] Failed to check key existence: MissingPluginException(No implementation found for method read on channel plugins.it_nomads.com/flutter_secure_storage)
[12:45:24.752] Initialization: Creating embedded relay instance
[12:45:24.752] Initialization: Starting embedded relay initialization
[12:45:24.752] Initialization: Embedded relay initialized successfully
00:40 +296 ~1 -104: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/real_video_subscription_test.dart: Real Video Subscription Test VideoEventService should receive videos from relay3.openvine.co relay
[12:45:25.227] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:25.728] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:26.227] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:26.728] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:27.227] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:27.728] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
00:42 +296 ~1 -104: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/search_hybrid_relay_test.dart: Hybrid Search with Real Relay Integration should clear search results when requested
ğŸ“Š Initial results: 0
ğŸ§¹ After clear: 0
[12:45:27.766] Starting disposal...
[12:45:27.767] Embedded relay is still initialized, checking if shutdown is safe
[12:45:27.767] Skipping embedded relay shutdown to prevent event publishing issues
[12:45:27.772] Removed external relay: wss://relay3.openvine.co
[12:45:27.773] Disposal complete
00:42 +297 ~1 -104: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events
00:43 +297 ~1 -104: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/real_video_subscription_test.dart: Real Video Subscription Test VideoEventService should receive videos from relay3.openvine.co relay
[12:45:28.228] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
00:43 +297 ~1 -105: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/real_video_subscription_test.dart: Real Video Subscription Test VideoEventService should receive videos from relay3.openvine.co relay
00:43 +297 ~1 -105: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process kind 32222 video events [E]
  TimeoutException after 0:00:30.000000: Test timed out after 30 seconds. See https://pub.dev/packages/test#timeouts
  dart:isolate  _RawReceivePort._handleMessage
  
00:43 +297 ~1 -105: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/real_video_subscription_test.dart: Real Video Subscription Test VideoEventService should receive videos from relay3.openvine.co relay
[12:45:28.728] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
00:43 +298 ~1 -105: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/real_video_subscription_test.dart: Real Video Subscription Test VideoEventService should receive videos from relay3.openvine.co relay
00:43 +298 ~1 -106: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/real_video_subscription_test.dart: Real Video Subscription Test VideoEventService should receive videos from relay3.openvine.co relay
00:43 +298 ~1 -106: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should handle kind 6 repost events [E]
  Expected: false
    Actual: <true>
  
  package:matcher                                           expect
  package:flutter_test/src/widget_tester.dart 473:18        expect
  test/unit/services/video_event_processor_test.dart 114:9  main.<fn>.<fn>.<fn>
  
00:44 +298 ~1 -106: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/real_video_subscription_test.dart: Real Video Subscription Test VideoEventService should receive videos from relay3.openvine.co relay
[12:45:29.228] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:29.727] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:30.228] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:30.728] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:31.227] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:31.727] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:32.228] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:32.727] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:33.228] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:33.728] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:34.227] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:34.728] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:35.227] [SYSTEM] ğŸ“¹ VideoEventService updated: 0 total events
[12:45:35.237] [SYSTEM] âŒ Test failed: TimeoutException after 0:00:15.000000: Future not completed
[12:45:35.237] [SYSTEM] ğŸ” Final state:
[12:45:35.237] [SYSTEM]   - VideoEventService isSubscribed: Closure: (SubscriptionType) => bool from Function 'isSubscribed':.
[12:45:35.238] [SYSTEM]   - VideoEventService eventCount: 0
[12:45:35.238] [SYSTEM]   - VideoEventService hasEvents: false
[12:45:35.238] [SYSTEM]   - VideoEventService error: Exception: No connected relays
[12:45:35.238] [SYSTEM]   - Received videos: 0
[12:45:35.238] [SYSTEM]   - NostrService connectedRelayCount: 0
00:50 +298 ~1 -107: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process video events with missing URL gracefully
00:50 +298 ~1 -107: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/real_video_subscription_test.dart: Real Video Subscription Test VideoEventService should receive videos from relay3.openvine.co relay [E]
  TimeoutException after 0:00:15.000000: Future not completed
  dart:async  _startMicrotaskLoop
  
00:50 +298 ~1 -107: /Users/rabble/code/andotherstuff/openvine/mobile/test/integration/real_video_subscription_test.dart: Real Video Subscription Test (tearDownAll)
[12:45:35.265] Starting disposal...
[12:45:35.268] Disposal complete
00:50 +298 ~1 -107: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process video events with missing URL gracefully
01:13 +298 ~1 -108: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Event Processing should process video events with missing URL gracefully [E]
  TimeoutException after 0:00:30.000000: Test timed out after 30 seconds. See https://pub.dev/packages/test#timeouts
  dart:isolate  _RawReceivePort._handleMessage
  
01:13 +298 ~1 -108: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Stream Management should connect to event stream
01:43 +298 ~1 -109: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Stream Management should connect to event stream [E]
  TimeoutException after 0:00:30.000000: Test timed out after 30 seconds. See https://pub.dev/packages/test#timeouts
  dart:isolate  _RawReceivePort._handleMessage
  
01:43 +298 ~1 -109: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Stream Management should handle stream errors
01:43 +299 ~1 -109: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor Stream Management should disconnect from event stream
01:44 +300 ~1 -109: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor VideoEvent Creation should handle events with imeta tags
02:14 +300 ~1 -110: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor VideoEvent Creation should handle events with imeta tags [E]
  TimeoutException after 0:00:30.000000: Test timed out after 30 seconds. See https://pub.dev/packages/test#timeouts
  dart:isolate  _RawReceivePort._handleMessage
  
02:14 +300 ~1 -110: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor VideoEvent Creation should handle missing optional fields gracefully
02:44 +300 ~1 -111: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor VideoEvent Creation should handle missing optional fields gracefully [E]
  TimeoutException after 0:00:30.000000: Test timed out after 30 seconds. See https://pub.dev/packages/test#timeouts
  dart:isolate  _RawReceivePort._handleMessage
  
02:44 +300 ~1 -111: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor VideoEvent Creation should process multiple events in sequence
02:44 +300 ~1 -112: /Users/rabble/code/andotherstuff/openvine/mobile/test/unit/services/video_event_processor_test.dart: VideoEventProcessor VideoEvent Creation should process multiple events in sequence [E]
  Expected: <3>
    Actual: <0>
  
  package:matcher                                           expect
  package:flutter_test/src/widget_tester.dart 473:18        expect
  test/unit/services/video_event_processor_test.dart 354:9  main.<fn>.<fn>.<fn>
  
